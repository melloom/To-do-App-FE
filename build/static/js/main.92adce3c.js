/*! For license information please see main.92adce3c.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},52:(e,t,n)=>{n.d(t,{KO:()=>X,MF:()=>Y,Sx:()=>J,Wp:()=>$,j6:()=>H,om:()=>q,xZ:()=>W});var s=n(812),r=n(443),i=n(529),a=n(799);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const l="@firebase/app",c="0.12.3",u=new r.Vy("@firebase/app"),d="@firebase/app-compat",h="@firebase/analytics-compat",m="@firebase/analytics",p="@firebase/app-check-compat",f="@firebase/app-check",g="@firebase/auth",v="@firebase/auth-compat",y="@firebase/database",b="@firebase/data-connect",w="@firebase/database-compat",x="@firebase/functions",k="@firebase/functions-compat",N="@firebase/installations",j="@firebase/installations-compat",T="@firebase/messaging",S="@firebase/messaging-compat",E="@firebase/performance",_="@firebase/performance-compat",C="@firebase/remote-config",I="@firebase/remote-config-compat",A="@firebase/storage",P="@firebase/storage-compat",R="@firebase/firestore",D="@firebase/vertexai",O="@firebase/firestore-compat",L="firebase",M="[DEFAULT]",U={[l]:"fire-core",[d]:"fire-core-compat",[m]:"fire-analytics",[h]:"fire-analytics-compat",[f]:"fire-app-check",[p]:"fire-app-check-compat",[g]:"fire-auth",[v]:"fire-auth-compat",[y]:"fire-rtdb",[b]:"fire-data-connect",[w]:"fire-rtdb-compat",[x]:"fire-fn",[k]:"fire-fn-compat",[N]:"fire-iid",[j]:"fire-iid-compat",[T]:"fire-fcm",[S]:"fire-fcm-compat",[E]:"fire-perf",[_]:"fire-perf-compat",[C]:"fire-rc",[I]:"fire-rc-compat",[A]:"fire-gcs",[P]:"fire-gcs-compat",[R]:"fire-fst",[O]:"fire-fst-compat",[D]:"fire-vertex","fire-js":"fire-js",[L]:"fire-js-all"},F=new Map,V=new Map,z=new Map;function B(e,t){try{e.container.addComponent(t)}catch(n){u.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function q(e){const t=e.name;if(z.has(t))return u.debug("There were multiple attempts to register component ".concat(t,".")),!1;z.set(t,e);for(const n of F.values())B(n,e);for(const n of V.values())B(n,e);return!0}function H(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function W(e){return null!==e&&void 0!==e&&void 0!==e.settings}const K={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},G=new i.FA("app","Firebase",K);class Q{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw G.create("app-deleted",{appName:this._name})}}const Y="11.7.3";function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:M,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw G.create("bad-app-name",{appName:String(a)});if(n||(n=(0,i.T9)()),!n)throw G.create("no-options");const o=F.get(a);if(o){if((0,i.bD)(n,o.options)&&(0,i.bD)(r,o.config))return o;throw G.create("duplicate-app",{appName:a})}const l=new s.h1(a);for(const s of z.values())l.addComponent(s);const c=new Q(n,r,l);return F.set(a,c),c}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;const t=F.get(e);if(!t&&e===M&&(0,i.T9)())return $();if(!t)throw G.create("no-app",{appName:e});return t}function X(e,t,n){var r;let i=null!==(r=U[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void u.warn(e.join(" "))}q(new s.uA("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,a.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Z)}catch(n){console.warn(n)}}}).catch((e=>{throw G.create("idb-open",{originalErrorMessage:e.message})}))),ee}async function ne(e,t){try{const n=(await te()).transaction(Z,"readwrite"),s=n.objectStore(Z);await s.put(t,se(e)),await n.done}catch(n){if(n instanceof i.g)u.warn(n.message);else{const e=G.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});u.warn(e.message)}}}function se(e){return"".concat(e.name,"!").concat(e.options.appId)}class re{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ie();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some((e=>e.date===s)))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){u.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ie(),{heartbeatsToSend:n,unsentEntries:s}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let s=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),oe(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),oe(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}(this._heartbeatsCache.heartbeats),r=(0,i.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return u.warn(t),""}}}function ie(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.zW)()&&(0,i.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction(Z),n=await t.objectStore(Z).get(se(e));return await t.done,n}catch(t){if(t instanceof i.g)u.warn(t.message);else{const e=G.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});u.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function oe(e){return(0,i.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var le;le="",q(new s.uA("platform-logger",(e=>new o(e)),"PRIVATE")),q(new s.uA("heartbeat",(e=>new re(e)),"PRIVATE")),X(l,c,le),X(l,c,"esm2017"),X("fire-js","")},153:(e,t,n)=>{var s=n(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var s,i={},c=null,u=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,s)&&!l.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:r,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,f(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,s){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!j.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,r,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case s:l=!0}}if(l)return a=a(l=e),e=""===i?"."+_(l,0):i,x(a)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),C(a,t,r,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+_(o=e[c],c);l+=C(o,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,r,u=i+_(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var s=[],r=0;return C(e,s,"","",(function(e){return t.call(n,e,r++)})),s}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!j.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,r=e[s];if(!(0<i(r,t)))break e;e[s]=t,e[n]=r,n=s}}function s(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,r=e.length,a=r>>>1;s<a;){var o=2*(s+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<r&&0>i(u,l)?(e[s]=u,e[c]=n,s=c):(e[s]=l,e[o]=n,s=o);else{if(!(c<r&&0>i(u,n)))break e;e[s]=u,e[c]=n,s=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=s(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=s(u)}}function x(e){if(g=!1,w(e),!f)if(null!==s(c))f=!0,R(k);else{var t=s(u);null!==t&&D(x,t.startTime-e)}}function k(e,n){f=!1,g&&(g=!1,y(S),S=-1),p=!0;var i=m;try{for(w(n),h=s(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,m=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===s(c)&&r(c),w(n)}else r(c);h=s(c)}if(null!==h)var l=!0;else{var d=s(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,m=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,j=!1,T=null,S=-1,E=5,_=-1;function C(){return!(t.unstable_now()-_<E)}function I(){if(null!==T){var e=t.unstable_now();_=e;var n=!0;try{n=T(!0,e)}finally{n?N():(j=!1,T=null)}}else j=!1}if("function"===typeof b)N=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,N=function(){P.postMessage(null)}}else N=function(){v(I,0)};function R(e){T=e,j||(j=!0,N())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===s(c)&&e===s(u)&&(g?(y(S),S=-1):g=!0,D(x,i-a))):(e.sortIndex=o,n(c,e),f||p||(f=!0,R(k))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},267:(e,t,n)=>{n.d(t,{eJ:()=>ht,Wm:()=>pt,xI:()=>Vn,hg:()=>gt,J1:()=>dt,x9:()=>mt,CI:()=>vt,r7:()=>ft});var s=n(52),r=n(529),i=n(443);function a(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new i.Vy("@firebase/auth");function h(e){if(d.logLevel<=i.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d.error("Auth (".concat(s.MF,"): ").concat(e),...n)}}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];throw v(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return v(e,...n)}function f(e,t,n){const s=Object.assign(Object.assign({},c()),{[t]:n});return new r.FA("auth","Firebase",s).create(t,{appName:e.name})}function g(e){return f(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if("string"!==typeof e){const t=n[0],s=[...n.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(t,...s)}return u.create(e,...n)}function y(e,t){if(!e){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];throw v(t,...s)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function w(e,t){e||b(t)}function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function k(){return"http:"===N()||"https:"===N()}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class j{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(k()||(0,r.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function T(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class S{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const E={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C=new j(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function A(e,t,n,s){return P(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};s&&("GET"===t?a=s:i={body:JSON.stringify(s)});const o=(0,r.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},i);return(0,r.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,r.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),S.fetch()(await D(e,e.config.apiHost,n,o),c)}))}async function P(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},E),t);try{const t=new L(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await r.json();if("needConfirmation"in i)throw M(e,"account-exists-with-different-credential",i);if(r.ok&&!("errorMessage"in i))return i;{const t=r.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw M(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw M(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw M(e,"user-disabled",i);const o=s[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw f(e,o,a);m(e,o)}}catch(i){if(i instanceof r.g)throw i;m(e,"network-request-failed",{message:String(i)})}}async function R(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await A(e,t,n,s,r);return"mfaPendingCredential"in i&&m(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function D(e,t,n,s){const r="".concat(t).concat(n,"?").concat(s),i=e,a=i.config.emulator?T(e.config,r):"".concat(e.config.apiScheme,"://").concat(r);if(_.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function O(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(p(this.auth,"network-request-failed"))),C.get())}))}}function M(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=p(e,t,s);return r.customData._tokenResponse=n,r}function U(e){return void 0!==e&&void 0!==e.enterprise}class F{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V(e,t){return A(e,"GET","/v2/recaptchaConfig",I(e,t))}async function z(e,t){return A(e,"POST","/v1/accounts:lookup",t)}function B(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function q(e){return 1e3*Number(e)}function H(e){const[t,n,s]=e.split(".");if(void 0===t||void 0===n||void 0===s)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(i){return h("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function W(e){const t=H(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function K(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof r.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Q{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Y(e){var t;const n=e.auth,s=await e.getIdToken(),r=await K(e,z(n,{idToken:s}));y(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?$(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Q(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function $(e){return e.map((e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):W(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=W(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:i}=await async function(e,t){const n=await P(e,{},(async()=>{const n=(0,r.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,a=await D(e,s,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",S.fetch()(a,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:r}=t,i=new J;return n&&(y("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),s&&(y("string"===typeof s,"internal-error",{appName:e}),i.accessToken=s),r&&(y("number"===typeof r,"internal-error",{appName:e}),i.expirationTime=r),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return b("not implemented")}}function X(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Z{constructor(e){var{uid:t,auth:n,stsTokenManager:s}=e,r=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Q(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await K(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,r.Ku)(e),s=await n.getIdToken(t),i=H(s);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:s,authTime:B(q(i.auth_time)),issuedAtTime:B(q(i.iat)),expirationTime:B(q(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,r.Ku)(e);await Y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Z(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await K(this,async function(e,t){return A(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,r,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(s=t.email)&&void 0!==s?s:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,f=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:k,stsTokenManager:N}=t;y(b&&N,e,"internal-error");const j=J.fromJSON(this.name,N);y("string"===typeof b,e,"internal-error"),X(u,e.name),X(d,e.name),y("boolean"===typeof w,e,"internal-error"),y("boolean"===typeof x,e,"internal-error"),X(h,e.name),X(m,e.name),X(p,e.name),X(f,e.name),X(g,e.name),X(v,e.name);const T=new Z({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:x,photoURL:m,phoneNumber:h,tenantId:p,stsTokenManager:j,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(T.providerData=k.map((e=>Object.assign({},e)))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=new J;s.updateFromServerResponse(t);const r=new Z({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Y(r),r}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];y(void 0!==s.localId,"internal-error");const r=void 0!==s.providerUserInfo?$(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(null===r||void 0===r?void 0:r.length),a=new J;a.updateFromIdToken(n);const o=new Z({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Q(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(o,l),o}}const ee=new Map;function te(e){w(e instanceof Function,"Expected a class definition");let t=ee.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ee.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const se=ne;function re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:r}=this.auth;this.fullUserKey=re(this.userKey,s.apiKey,r),this.fullPersistenceKey=re("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await z(this.auth,{idToken:e}).catch((()=>{}));return t?Z._fromGetAccountInfoResponse(this.auth,t,e):null}return Z._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(te(se),e,n);const s=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=s[0]||te(se);const i=re(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const s=await z(e,{idToken:t}).catch((()=>{}));if(!s)break;n=await Z._fromGetAccountInfoResponse(e,s,t)}else n=Z._fromJSON(e,t);c!==r&&(a=n),r=c;break}}catch(l){}const o=s.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(i)}catch(l){}}))),new ie(r,e,n)):new ie(r,e,n)}}function ae(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(me(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||ce(t))&&!t.includes("edge/"))return"Chrome";if(de(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/firefox\//i.test(e)}function le(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/crios\//i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/iemobile/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/blackberry/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/webos/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return pe(e)||de(e)||me(e)||he(e)||/windows phone/i.test(e)||ue(e)}function ge(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ae((0,r.ZQ)());break;case"Worker":t="".concat(ae((0,r.ZQ)()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(s.MF,"/").concat(i)}class ve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,s)=>{try{n(e(t))}catch(r){s(r)}}));n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(s){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ye{constructor(e){var t,n,s,r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(s=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==s?s:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,s,r,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(s=o.containsLowercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class be{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xe(this),this.idTokenSubscription=new xe(this),this.beforeStateQueue=new ve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=te(t)),this._initializationPromise=this.queue((async()=>{var n,s,r;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(s=this._popupRedirectResolver)||void 0===s?void 0:s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await z(this,{idToken:e}),n=await Z._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(a)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Y(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,r.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(te(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return A(e,"GET","/v2/passwordPolicy",I(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ye(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new r.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return A(e,"POST","/v2/accounts:revokeToken",I(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&te(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[te(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then((()=>{i||r(this.currentUser)})),"function"===typeof t){const r=e.addObserver(t,n,s);return()=>{i=!0,r()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ge(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(d.logLevel<=i.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d.warn("Auth (".concat(s.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function we(e){return(0,r.Ku)(e)}class xe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.tD)((e=>this.observer=e))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ke={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ne(e){return ke.loadJS(e)}function je(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Te{constructor(){this.enterprise=new Se}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Se{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ee="NO_RECAPTCHA";class _e{constructor(e){this.type="recaptcha-enterprise",this.auth=we(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,s){const r=window.grecaptcha;U(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Ee)}))})):s(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Te).execute("siteKey",{action:"verify"})}return new Promise(((e,s)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{V(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((s=>{if(void 0!==s.recaptchaKey){const n=new F(s);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&U(window.grecaptcha))n(r,e,s);else{if("undefined"===typeof window)return void s(new Error("RecaptchaVerifier is only supported in browser"));let t=ke.recaptchaEnterpriseScript;0!==t.length&&(t+=r),Ne(t).then((()=>{n(r,e,s)})).catch((e=>{s(e)}))}})).catch((e=>{s(e)}))}))}}async function Ce(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new _e(e);let a;if(r)a=Ee;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return s?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ie(e,t,n,s,r){var i,a;if("EMAIL_PASSWORD_PROVIDER"===r){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Ce(e,t,n,"getOobCode"===n);return s(e,r)}return s(e,t).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Ce(e,t,n,"getOobCode"===n);return s(e,r)}return Promise.reject(r)}))}if("PHONE_PROVIDER"===r){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const r=await Ce(e,t,n);return s(e,r).catch((async r=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(r.code==="auth/".concat("missing-recaptcha-token")||r.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const r=await Ce(e,t,n,!1,!0);return s(e,r)}return Promise.reject(r)}))}{const r=await Ce(e,t,n,!1,!0);return s(e,r)}}return Promise.reject(r+" provider is not supported.")}async function Ae(e){const t=we(e),n=await V(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new F(n);if(null==t.tenantId?t._agentRecaptchaConfig=s:t._tenantRecaptchaConfigs[t.tenantId]=s,s.isAnyProviderEnabled()){new _e(t).verify()}}function Pe(e,t,n){const s=we(e);y(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Re(t),{host:o,port:l}=function(e){const t=Re(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const e=r[1];return{host:e,port:De(s.substr(e.length+1))}}{const[e,t]=s.split(":");return{host:e,port:De(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(a,"//").concat(o).concat(c,"/")},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator)return y(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),void y((0,r.bD)(u,s.config.emulator)&&(0,r.bD)(d,s.emulatorConfig),s,"emulator-config-failed");s.config.emulator=u,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,(0,r.zJ)(o)?((0,r.P1)("Auth",!0),(0,r.gE)("".concat(a,"//").concat(o).concat(c))):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Re(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function De(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Le(e,t){return A(e,"POST","/v1/accounts:signUp",t)}async function Me(e,t){return R(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}async function Ue(e,t){return A(e,"POST","/v1/accounts:sendOobCode",I(e,t))}async function Fe(e,t){return Ue(e,t)}class Ve extends Oe{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Ve(e,t,"password")}static _fromEmailAndCode(e,t){return new Ve(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ie(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Me,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{email:this._email,oobCode:this._password});default:m(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ie(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Le,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:m(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ze(e,t){return R(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class Be extends Oe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Be(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):m("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:s}=t,r=a(t,["providerId","signInMethod"]);if(!n||!s)return null;const i=new Be(n,s);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){return ze(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ze(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ze(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.Am)(t)}return e}}async function qe(e,t){return A(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}const He={USER_NOT_FOUND:"user-not-found"};class We extends Oe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new We({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new We({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(n.temporaryProof)throw M(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),He)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:s,temporaryProof:r}=e;return n||t||s||r?new We({verificationId:t,verificationCode:n,phoneNumber:s,temporaryProof:r}):null}}class Ke{constructor(e){var t,n,s,i,a,o;const l=(0,r.I9)((0,r.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(s=l.mode)&&void 0!==s?s:null);y(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=l.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,r.I9)((0,r.hp)(e)).link,n=t?(0,r.I9)((0,r.hp)(t)).deep_link_id:null,s=(0,r.I9)((0,r.hp)(e)).deep_link_id;return(s?(0,r.I9)((0,r.hp)(s)).link:null)||s||n||t||e}(e);try{return new Ke(t)}catch(n){return null}}}class Ge{constructor(){this.providerId=Ge.PROVIDER_ID}static credential(e,t){return Ve._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ke.parseLink(t);return y(n,"argument-error"),Ve._fromEmailAndCode(e,n.code,n.tenantId)}}Ge.PROVIDER_ID="password",Ge.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ge.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ye extends Qe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $e extends Ye{constructor(){super("facebook.com")}static credential(e){return Be._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $e.credential(t.oauthAccessToken)}catch(n){return null}}}$e.FACEBOOK_SIGN_IN_METHOD="facebook.com",$e.PROVIDER_ID="facebook.com";class Je extends Ye{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Be._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Je.credential(n,s)}catch(r){return null}}}Je.GOOGLE_SIGN_IN_METHOD="google.com",Je.PROVIDER_ID="google.com";class Xe extends Ye{constructor(){super("github.com")}static credential(e){return Be._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xe.credential(t.oauthAccessToken)}catch(n){return null}}}Xe.GITHUB_SIGN_IN_METHOD="github.com",Xe.PROVIDER_ID="github.com";class Ze extends Ye{constructor(){super("twitter.com")}static credential(e,t){return Be._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ze.credential(n,s)}catch(r){return null}}}async function et(e,t){return R(e,"POST","/v1/accounts:signUp",I(e,t))}Ze.TWITTER_SIGN_IN_METHOD="twitter.com",Ze.PROVIDER_ID="twitter.com";class tt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Z._fromIdTokenResponse(e,n,s),i=nt(n);return new tt({user:r,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=nt(n);return new tt({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function nt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class st extends r.g{constructor(e,t,n,s){var r;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,st.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new st(e,t,n,s)}}function rt(e,t,n,s){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw st._fromErrorAndOperation(e,n,t,s);throw n}))}async function it(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=await K(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tt._forOperation(e,"link",s)}async function at(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,s.xZ)(r.app))return Promise.reject(g(r));const i="reauthenticate";try{const s=await K(e,rt(r,i,t,e),n);y(s.idToken,r,"internal-error");const a=H(s.idToken);y(a,r,"internal-error");const{sub:o}=a;return y(e.uid===o,r,"user-mismatch"),tt._forOperation(e,i,s)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&m(r,"user-mismatch"),a}}async function ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(g(e));const r="signIn",i=await rt(e,r,t),a=await tt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function lt(e,t){return ot(we(e),t)}function ct(e,t,n){var s;y((null===(s=n.url)||void 0===s?void 0:s.length)>0,e,"invalid-continue-uri"),y("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),y("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ut(e){const t=we(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dt(e,t,n){const s=we(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ct(s,r,n),await Ie(s,r,"getOobCode",Fe,"EMAIL_PASSWORD_PROVIDER")}async function ht(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(g(e));const r=we(e),i=Ie(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",et,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ut(e),t})),o=await tt._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function mt(e,t,n){return(0,s.xZ)(e.app)?Promise.reject(g(e)):lt((0,r.Ku)(e),Ge.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ut(e),t}))}async function pt(e,t){const n={identifier:t,continueUri:k()?x():"http://localhost"},{signinMethods:s}=await async function(e,t){return A(e,"POST","/v1/accounts:createAuthUri",I(e,t))}((0,r.Ku)(e),n);return s||[]}async function ft(e,t){let{displayName:n,photoURL:s}=t;if(void 0===n&&void 0===s)return;const i=(0,r.Ku)(e),a={idToken:await i.getIdToken(),displayName:n,photoUrl:s,returnSecureToken:!0},o=await K(i,async function(e,t){return A(e,"POST","/v1/accounts:update",t)}(i.auth,a));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const l=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function gt(e,t,n,s){return(0,r.Ku)(e).onAuthStateChanged(t,n,s)}function vt(e){return(0,r.Ku)(e).signOut()}function yt(e,t){return A(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}new WeakMap;const bt="__sak";class wt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bt,"1"),this.storage.removeItem(bt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class xt extends wt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,r.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,10):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xt.type="LOCAL";const kt=xt;function Nt(e){var t,n;const s=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp("".concat(s,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(r))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function jt(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Tt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=jt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Nt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=jt(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=jt(e);if(window.cookieStore){const e=e=>{const s=e.changed.find((e=>e.name===n));s&&t(s.value);e.deleted.find((e=>e.name===n))&&t(null)},s=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,s),window.cookieStore.addEventListener("change",e)}let s=Nt(n);const r=setInterval((()=>{const e=Nt(n);e!==s&&(t(e),s=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(r)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Tt.type="COOKIE";class St extends wt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}St.type="SESSION";const Et=St;class _t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _t(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:r}=t.data,i=this.handlersMap[s];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(i).map((async e=>e(t.origin,r))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let s=0;s<t;s++)n+=Math.floor(10*Math.random());return e+n}_t.receivers=[];class It{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const s="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,i;return new Promise(((a,o)=>{const l=Ct("",20);s.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:s,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function At(){return window}function Pt(){return"undefined"!==typeof At().WorkerGlobalScope&&"function"===typeof At().importScripts}const Rt="firebaseLocalStorageDb",Dt="firebaseLocalStorage",Ot="fbase_key";class Lt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Mt(e,t){return e.transaction([Dt],t?"readwrite":"readonly").objectStore(Dt)}function Ut(){const e=indexedDB.open(Rt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Dt,{keyPath:Ot})}catch(s){n(s)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Dt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Rt);return new Lt(e).toPromise()}(),t(await Ut()))}))}))}async function Ft(e,t,n){const s=Mt(e,!0).put({[Ot]:t,value:n});return new Lt(s).toPromise()}function Vt(e,t){const n=Mt(e,!0).delete(t);return new Lt(n).toPromise()}class zt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ut()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_t._getInstance(Pt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new It(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ut();return await Ft(e,bt,"1"),await Vt(e,bt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ft(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Mt(e,!1).get(t),s=await new Lt(n).toPromise();return void 0===s?null:s.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Vt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Mt(e,!1).getAll();return new Lt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:s,value:r}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zt.type="LOCAL";const Bt=zt;function qt(e,t){return A(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}je("rcb"),new j(3e4,6e4);const Ht="recaptcha";async function Wt(e,t,n){var s;if(!e._getRecaptchaConfig())try{await Ae(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){y("enroll"===t.type,e,"internal-error");const s={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Ie(e,s,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ee){y((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return yt(e,await Kt(e,t,n))}return yt(e,t)}),"PHONE_PROVIDER");return(await i.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const i=(null===(s=r.multiFactorHint)||void 0===s?void 0:s.uid)||r.multiFactorUid;y(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Ie(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ee){y((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return qt(e,await Kt(e,t,n))}return qt(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},s=Ie(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ee){y((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return qe(e,await Kt(e,t,n))}return qe(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Kt(e,t,n){y(n.type===Ht,e,"argument-error");const s=await n.verify();y("string"===typeof s,e,"argument-error");const r=Object.assign({},t);if("phoneEnrollmentInfo"in r){const e=r.phoneEnrollmentInfo.phoneNumber,t=r.phoneEnrollmentInfo.captchaResponse,n=r.phoneEnrollmentInfo.clientType,i=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:s,captchaResponse:t,clientType:n,recaptchaVersion:i}}),r}if("phoneSignInInfo"in r){const e=r.phoneSignInInfo.captchaResponse,t=r.phoneSignInInfo.clientType,n=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:e,clientType:t,recaptchaVersion:n}}),r}return Object.assign(r,{recaptchaToken:s}),r}class Gt{constructor(e){this.providerId=Gt.PROVIDER_ID,this.auth=we(e)}verifyPhoneNumber(e,t){return Wt(this.auth,e,(0,r.Ku)(t))}static credential(e,t){return We._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gt.credentialFromTaggedObject(t)}static credentialFromError(e){return Gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:s}=t;return n&&s?We._fromTokenResponse(n,s):null}}function Qt(e,t){return t?te(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gt.PROVIDER_ID="phone",Gt.PHONE_SIGN_IN_METHOD="phone";class Yt extends Oe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ze(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ze(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ze(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $t(e){return ot(e.auth,new Yt(e),e.bypassAuthState)}function Jt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),at(n,new Yt(e),e.bypassAuthState)}async function Xt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),it(n,new Yt(e),e.bypassAuthState)}class Zt{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:r,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $t;case"linkViaPopup":case"linkViaRedirect":return Xt;case"reauthViaPopup":case"reauthViaRedirect":return Jt;default:m(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const en=new j(2e3,1e4);class tn extends Zt{constructor(e,t,n,s,r){super(e,t,s,r),this.provider=n,this.authWindow=null,this.pollId=null,tn.currentPopupAction&&tn.currentPopupAction.cancel(),tn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=Ct();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,en.get())};e()}}tn.currentPopupAction=null;const nn=new Map;class sn extends Zt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=nn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=on(t),s=an(e);if(!await s._isAvailable())return!1;const r="true"===await s._get(n);return await s._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}nn.set(this.auth._key(),e)}return this.bypassAuthState||nn.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function rn(e,t){nn.set(e._key(),t)}function an(e){return te(e._redirectPersistence)}function on(e){return re("pendingRedirect",e.config.apiKey,e.name)}async function ln(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(g(e));const r=we(e),i=Qt(r,t),a=new sn(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class cn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!dn(e)){const s=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(un(e))}saveEventToCache(e){this.cachedEventUids.add(un(e)),this.lastProcessedEventTime=Date.now()}}function un(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function dn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mn=/^https?/;async function pn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return A(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const s of t)try{if(fn(s))return}catch(n){}m(e,"unauthorized-domain")}function fn(e){const t=x(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===s?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===s}if(!mn.test(n))return!1;if(hn.test(e))return s===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const gn=new j(3e4,6e4);function vn(){const e=At().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function yn(e){return new Promise(((t,n)=>{var s,r,i;function a(){vn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vn(),n(p(e,"network-request-failed"))},timeout:gn.get()})}if(null===(r=null===(s=At().gapi)||void 0===s?void 0:s.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=At().gapi)||void 0===i?void 0:i.load)){const t=je("iframefcb");return At()[t]=()=>{gapi.load?a():n(p(e,"network-request-failed"))},Ne("".concat(ke.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw bn=null,e}))}let bn=null;const wn=new j(5e3,15e3),xn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nn(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?T(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:t.apiKey,appName:e.name,v:s.MF},a=kn.get(e.config.apiHost);a&&(i.eid=a);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),"".concat(n,"?").concat((0,r.Am)(i).slice(1))}async function jn(e){const t=await function(e){return bn=bn||yn(e),bn}(e),n=At().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:Nn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xn,dontclear:!0},(t=>new Promise((async(n,s)=>{await t.restyle({setHideOnLeave:!1});const r=p(e,"network-request-failed"),i=At().setTimeout((()=>{s(r)}),wn.get());function a(){At().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{s(r)}))}))))}const Tn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function En(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Tn),{width:s.toString(),height:i.toString(),top:a,left:o}),u=(0,r.ZQ)().toLowerCase();n&&(l=ce(u)?"_blank":n),oe(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce(((e,t)=>{let[n,s]=t;return"".concat(e).concat(n,"=").concat(s,",")}),"");if(function(){var e;return pe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}(t||"",l),new Sn(null);const h=window.open(t||"",l,d);y(h,e,"popup-blocked");try{h.focus()}catch(m){}return new Sn(h)}const _n="__/auth/handler",Cn="emulator/auth/handler",In=encodeURIComponent("fac");async function An(e,t,n,i,a,o){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:s.MF,eventId:a};if(t instanceof Qe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,r.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof Ye){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const u=await e._getAppCheckToken(),d=u?"#".concat(In,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(_n);return T(t,Cn)}(e),"?").concat((0,r.Am)(c).slice(1)).concat(d)}const Pn="webStorageSupport";const Rn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Et,this._completeRedirectFn=ln,this._overrideRedirectResult=rn}async _openPopup(e,t,n,s){var r;w(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return En(e,await An(e,t,n,x(),s),Ct())}async _openRedirect(e,t,n,s){await this._originValidation(e);return function(e){At().location.href=e}(await An(e,t,n,x(),s)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await jn(e),n=new cn(e);return t.register("authEvent",(t=>{y(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pn,{type:Pn},(n=>{var s;const r=null===(s=null===n||void 0===n?void 0:n[0])||void 0===s?void 0:s[Pn];void 0!==r&&t(!!r),m(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fe()||le()||pe()}};var Dn="@firebase/auth",On="1.10.4";class Ln{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mn=(0,r.XA)("authIdTokenMaxAge")||300;let Un=null;const Fn=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Mn)return;const r=null===n||void 0===n?void 0:n.token;Un!==r&&(Un=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))};function Vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),s=n.getOptions();if((0,r.bD)(s,null!==t&&void 0!==t?t:{}))return e;m(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Rn,persistence:[Bt,kt,Et]}),i=(0,r.XA)("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=Fn(e.toString());!function(e,t,n){(0,r.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,s){(0,r.Ku)(e).onIdTokenChanged(t,n,s)}(n,(e=>t(e)))}}const a=(0,r.Tj)("auth");return a?Pe(n,"http://".concat(a)):(0,r.P1)("Auth",!1),n}var zn;ke={loadJS:e=>new Promise(((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(s)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},zn="Browser",(0,s.om)(new o.uA("auth",((e,t)=>{let{options:n}=t;const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=s.options;y(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:a,authDomain:o,clientPlatform:zn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ge(zn)},c=new be(s,r,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(te);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,s.om)(new o.uA("auth-internal",(e=>(e=>new Ln(e))(we(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(Dn,On,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(zn)),(0,s.KO)(Dn,On,"esm2017")},391:(e,t,n)=>{var s=n(950);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},443:(e,t,n)=>{n.d(t,{$b:()=>r,Vy:()=>c});const s=[];var r;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));const i={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},a=r.INFO,o={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),s=o[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];console[s]("[".concat(n,"]  ").concat(e.name,":"),...i)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}},472:(e,t,n)=>{n.d(t,{H9:()=>Wo,x7:()=>_l,aU:()=>$o,BN:()=>Il});var s,r,i=n(52),a=n(812),o=n(443),l=n(529),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var s=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)s[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var i=e.g[3],a=t+(i^n&(r^i))+s[0]+3614090360&4294967295;a=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^i&(n^r))+s[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^r^i)+s[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(n|~i))+s[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~i))+s[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~i))+s[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(r^(n|~i))+s[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=i+((a=r+(t^(i|~n))+s[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+i&4294967295}function i(e,t){this.h=t;for(var n=[],s=!0,r=e.length-1;0<=r;r--){var i=0|e[r];s&&i==t||(n[r]=i,s=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,s){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var s=t-this.blockSize,r=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=s;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){n(this,r),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var s=0;32>s;s+=8)e[n++]=this.g[t]>>>s&255;return e};var a={};function o(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new i([0|e],0>e?-1:0)})):new i([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return f(l(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new i(t,0)}var c=o(0),d=o(1),h=o(16777216);function m(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function f(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new i(n,~e.h).add(d)}function g(e,t){return e.add(f(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error("division by zero");if(m(e))return new y(c,c);if(p(e))return t=b(f(e),t),new y(f(t.g),f(t.h));if(p(t))return t=b(e,f(t)),new y(f(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,s=t;0>=s.l(e);)n=w(n),s=w(s);var r=x(n,1),i=x(s,1);for(s=x(s,2),n=x(n,2);!m(s);){var a=i.add(s);0>=a.l(e)&&(r=r.add(n),i=a),s=x(s,1),n=x(n,1)}return t=g(e,r.j(t)),new y(r,t)}for(r=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),a=(i=l(n)).j(t);p(a)||0<a.l(e);)a=(i=l(n-=s)).j(t);m(i)&&(i=d),r=r.add(i),e=g(e,a)}return new y(r,e)}function w(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new i(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,r=[],a=0;a<s;a++)r[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new i(r,e.h)}(e=i.prototype).m=function(){if(p(this))return-f(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var s=this.i(n);e+=(0<=s?s:4294967296+s)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(m(this))return"0";if(p(this))return"-"+f(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,s="";;){var r=b(n,t).g,i=((0<(n=g(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(m(n=r))return i+s;for(;6>i.length;)i="0"+i;s=i+s}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:m(e)?0:1},e.abs=function(){return p(this)?f(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,r=0;r<=t;r++){var a=s+(65535&this.i(r))+(65535&e.i(r)),o=(a>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);s=o>>>16,a&=65535,o&=65535,n[r]=o<<16|a}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(m(this)||m(e))return c;if(p(this))return p(e)?f(this).j(f(e)):f(f(this).j(e));if(p(e))return f(this.j(f(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<e.g.length;r++){var a=this.i(s)>>>16,o=65535&this.i(s),u=e.i(r)>>>16,d=65535&e.i(r);n[2*s+2*r]+=o*d,v(n,2*s+2*r),n[2*s+2*r+1]+=a*d,v(n,2*s+2*r+1),n[2*s+2*r+1]+=o*u,v(n,2*s+2*r+1),n[2*s+2*r+2]+=a*u,v(n,2*s+2*r+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new i(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new i(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new i(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,r=u.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=l,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=l(Math.pow(n,8)),r=c,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+a),n);8>a?(a=l(Math.pow(n,a)),r=r.j(a).add(l(o))):r=(r=r.j(s)).add(l(o))}return r},s=u.Integer=i}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,m,p,f,g,v,y,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,s){if(s)e:{var r=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in r))break e;r=r[a]}(s=s(i=r[e=e[e.length-1]]))!=i&&null!=s&&t(r,e,{configurable:!0,writable:!0,value:s})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,s=!1,r={next:function(){if(!s&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return s=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return t}))}}));var s=s||{},r=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,s),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,s){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}function k(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function N(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,s=t.length||0;e.length=n+s;for(let r=0;r<s;r++)e[n+r]=t[r]}else e.push(t)}}function j(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function S(e){return S[" "](e),e}S[" "]=function(){};var E=-1!=T().indexOf("Gecko")&&!(-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge"))&&!(-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE"))&&-1==T().indexOf("Edge");function _(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function C(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(e,t){let n,s;for(let r=1;r<arguments.length;r++){for(n in s=arguments[r],s)e[n]=s[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function P(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function R(e){r.setTimeout((()=>{throw e}),0)}function D(){var e=F;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var O=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new L),(e=>e.reset()));class L{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let M,U=!1,F=new class{constructor(){this.h=this.g=null}add(e,t){const n=O.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},V=()=>{const e=r.Promise.resolve(void 0);M=()=>{e.then(z)}};var z=()=>{for(var e;e=D();){try{e.h.call(e.g)}catch(n){R(n)}var t=O;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}U=!1};function B(){this.s=this.s,this.C=this.C}function q(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},q.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(n){}return e}();function W(e,t){if(q.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(E){e:{try{S(t.nodeName);var r=!0;break e}catch(i){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:K[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.aa.h.call(this)}}x(W,q);var K={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),Q=0;function Y(e,t,n,s,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.ha=r,this.key=++Q,this.da=this.fa=!1}function $(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function J(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var s,r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,s){for(var r=0;r<e.length;++r){var i=e[r];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==s)return r}return-1}J.prototype.add=function(e,t,n,s,r){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=Z(e,t,s,r);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Y(t,this.src,i,!!s,r)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,s,r){if(s&&s.once)return re(e,t,n,s,r);if(Array.isArray(t)){for(var i=0;i<t.length;i++)ne(e,t[i],n,s,r);return null}return n=de(n),e&&e[G]?e.K(t,n,a(s)?!!s.capture:!!s,r):se(e,t,n,!1,s,r)}function se(e,t,n,s,r,i){if(!t)throw Error("Invalid event type");var o=a(r)?!!r.capture:!!r,l=ce(e);if(l||(e[ee]=l=new J(e)),(n=l.add(t,n,s,o,i)).proxy)return n;if(s=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)H||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),s,r);else if(e.attachEvent)e.attachEvent(oe(t.toString()),s);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(s)}return n}function re(e,t,n,s,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)re(e,t[i],n,s,r);return null}return n=de(n),e&&e[G]?e.L(t,n,a(s)?!!s.capture:!!s,r):se(e,t,n,!0,s,r)}function ie(e,t,n,s,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)ie(e,t[i],n,s,r);else s=a(s)?!!s.capture:!!s,n=de(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Z(i=e.g[t],n,s,r))&&($(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,s,r)),(n=-1<e?t[e]:null)&&ae(n))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[G])X(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(oe(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=ce(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):$(e)}}}function oe(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new W(t,this);var n=e.listener,s=e.ha||e.src;e.fa&&ae(e),e=n.call(s,t)}return e}function ce(e){return(e=e[ee])instanceof J?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){B.call(this),this.i=new J(this),this.M=this,this.F=null}function me(e,t){var n,s=e.F;if(s)for(n=[];s;s=s.F)n.push(s);if(e=e.M,s=t.type||t,"string"===typeof t)t=new q(t,e);else if(t instanceof q)t.target=t.target||e;else{var r=t;A(t=new q(s,e),r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];r=pe(a,s,!0,t)&&r}if(r=pe(a=t.g=e,s,!0,t)&&r,r=pe(a,s,!1,t)&&r,n)for(i=0;i<n.length;i++)r=pe(a=t.g=n[i],s,!1,t)&&r}function pe(e,t,n,s){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&X(e.i,a),r=!1!==o.call(l,s)&&r}}return r&&!s.defaultPrevented}function fe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function ge(e){e.g=fe((()=>{e.g=null,e.i&&(e.i=!1,ge(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}x(he,B),he.prototype[G]=!0,he.prototype.removeEventListener=function(e,t,n,s){ie(this,e,t,n,s)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)$(n[s]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)},he.prototype.L=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};class ve extends B{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(e){B.call(this),this.h=e,this.g={}}x(ye,B);var be=[];function we(e){_(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ae(e)}),e),e.g={}}ye.prototype.N=function(){ye.aa.N.call(this),we(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=r.JSON.stringify,ke=r.JSON.parse,Ne=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function je(){}function Te(e){return e.h||(e.h=e.i())}function Se(){}je.prototype.h=null;var Ee={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _e(){q.call(this,"d")}function Ce(){q.call(this,"c")}x(_e,q),x(Ce,q);var Ie={},Ae=null;function Pe(){return Ae=Ae||new he}function Re(e){q.call(this,Ie.La,e)}function De(e){const t=Pe();me(t,new Re(t))}function Oe(e,t){q.call(this,Ie.STAT_EVENT,e),this.stat=t}function Le(e){const t=Pe();me(t,new Oe(t,e))}function Me(e,t){q.call(this,Ie.Ma,e),this.size=t}function Ue(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){e()}),t)}function Fe(){this.g=!0}function Ve(e,t,n,s){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<r.length;a++)r[a]=""}}}return xe(n)}catch(o){return t}}(e,n)+(s?" "+s:"")}))}Ie.La="serverreachability",x(Re,q),Ie.STAT_EVENT="statevent",x(Oe,q),Ie.Ma="timingevent",x(Me,q),Fe.prototype.xa=function(){this.g=!1},Fe.prototype.info=function(){};var ze,Be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function He(){}function We(e,t,n,s){this.j=e,this.i=t,this.l=n,this.R=s||1,this.U=new ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}x(He,je),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},ze=new He;var Ge={},Qe={};function Ye(e,t,n){e.L=1,e.v=xt(gt(t)),e.m=n,e.P=!0,$e(e,null)}function $e(e,t){e.F=Date.now(),Ze(e),e.A=gt(e.v);var n=e.A,s=e.R;Array.isArray(s)||(s=[String(s)]),Ot(n.i,"t",s),e.C=0,n=e.j.J,e.h=new Ke,e.g=Nn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ve(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,s=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(be[0]=r.toString()),r=be);for(var i=0;i<r.length;i++){var a=ne(n,r[i],s||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?C(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),De(),function(e,t,n,s,r,i){e.info((function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,s=t.indexOf("\n",n);return-1==s?Qe:(n=Number(t.substring(n,s)),isNaN(n)?Ge:(s+=1)+n>t.length?Qe:(t=t.slice(s,s+n),e.C=s+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ue(c(e.ba,e),t)}function tt(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||yn(e.j,e)}function st(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function rt(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var s=n.Da.g.parse(t)}catch(u){s=null}if(Array.isArray(s)&&3==s.length){var r=s;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vn(n),on(n)}pn(n),Le(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ue(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&vn(n),!j(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(s=1.5*u,n.L=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=s.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(ut(i,i.h),i.h=null))}if(s.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(s.ya=e,wt(s.I,s.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((s=n).qa=kn(s,s.J?s.ia:null,s.W),a.K){dt(s.h,a);var o=a,l=s.L;l&&(o.I=l),o.B&&(tt(o),Ze(o)),s.g=a}else mn(s);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):an(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}De()}catch(u){}}We.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||De(),tt(this);var n=this.g.Z();this.X=n;t:if(Je(this)){var s=nn(this.g);e="";var i=s.length,a=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){st(this),nt(this);var o="";break t}this.h.i=new r.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:!(a&&t==i-1)});s.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,s,r,i,a){e.info((function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Le(12),st(this),nt(this);break e}Ve(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rt(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Xe(this,o),e==Qe){4==h&&(this.s=4,Le(14),n=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ge){this.s=4,Le(15),Ve(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ve(this.i,this.l,e,null),rt(this,e)}if(Je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Le(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),fn(d),d.M=!0,Le(11))}}else Ve(this.i,this.l,o,"[Invalid Chunked Response]"),st(this),nt(this)}else Ve(this.i,this.l,o,null),rt(this,o);4==h&&st(this),this.o&&!this.J&&(4==h?yn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<e.length;s++){if(j(e[s]))continue;var n=P(e[s]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[r]||[];t[r]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),st(this),nt(this)}}}catch(h){}},We.prototype.cancel=function(){this.J=!0,st(this)},We.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(De(),Le(17)),st(this),this.s=2,nt(this)):et(this,this.S-e)};var it=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return k(e.i)}function mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}(e),s=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}for(s in t=[],n=0,e)t[n++]=e[s];return t}(e),r=s.length,a=0;a<r;a++)t.call(void 0,s[a],n&&n[a],e)}at.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ft(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ft){this.h=e.h,vt(this,e.j),this.o=e.o,this.g=e.g,yt(this,e.s),this.l=e.l;var t=e.i,n=new At;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,vt(this,t[1]||"",!0),this.o=kt(t[2]||""),this.g=kt(t[3]||"",!0),yt(this,t[4]),this.l=kt(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=kt(t[7]||"")):(this.h=!1,this.i=new At(null,this.h))}function gt(e){return new ft(e)}function vt(e,t,n){e.j=n?kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof At?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Rt(this,t),Ot(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Nt(t,Ct)),e.i=new At(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function xt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Nt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ft.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Nt(t,St,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Nt(t,St,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Nt(n,"/"==n.charAt(0)?_t:Et,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Nt(n,It)),e.join("")};var Tt,St=/[#\/\?@]/g,Et=/[#\?:]/g,_t=/[#\?]/g,Ct=/[#\?@]/g,It=/#/g;function At(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),r=null;if(0<=s){var i=e[n].substring(0,s);r=e[n].substring(s+1)}else i=e[n];t(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Rt(e,t){Pt(e),t=Lt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Dt(e,t){return Pt(e),t=Lt(e,t),e.g.has(t)}function Ot(e,t,n){Rt(e,t),0<n.length&&(e.i=null,e.g.set(Lt(e,t),k(n)),e.h+=n.length)}function Lt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Mt(e,t,n,s,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),s(n)}catch(i){}}function Ut(){this.g=new Ne}function Ft(e,t,n){const s=n||"";try{mt(e,(function(e,n){let r=e;a(e)&&(r=xe(e)),t.push(s+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(s+"type="+encodeURIComponent("_badmap")),r}}function Vt(e){this.l=e.Ub||null,this.j=e.eb||!1}function zt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Bt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function qt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return _(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Kt(e,t,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Gt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=At.prototype).add=function(e,t){Pt(this),this.i=null,e=Lt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach((function(n,s){n.forEach((function(n){e.call(t,n,s,this)}),this)}),this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const r=e[s];for(let e=0;e<r.length;e++)n.push(t[s])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)Dt(this,e)&&(t=t.concat(this.g.get(Lt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,Dt(this,e=Lt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const i=encodeURIComponent(String(s)),a=this.V(s);for(s=0;s<a.length;s++){var r=i;""!==a[s]&&(r+="="+encodeURIComponent(String(a[s]))),e.push(r)}}return this.i=e.join("&")},x(Vt,je),Vt.prototype.g=function(){return new zt(this.l,this.j)},Vt.prototype.i=(Tt={},function(){return Tt}),x(zt,he),(e=zt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qt(this):Ht(this),3==this.readyState&&Bt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,qt(this))},e.Qa=function(e){this.g&&(this.response=e,qt(this))},e.ga=function(){this.g&&qt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),x(Gt,he);var Qt=/^https?$/i,Yt=["POST","PUT"];function $t(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Jt(e),Zt(e)}function Jt(e){e.A||(e.A=!0,me(e,"complete"),me(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof s&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))fe(e.Ea,0,e);else if(me(e,"readystatechange"),4==tn(e)){e.h=!1;try{const s=e.Z();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===s){var a=String(e.D).match(pt)[1]||null;!a&&r.self&&r.self.location&&(a=r.self.location.protocol.slice(0,-1)),i=!Qt.test(a?a.toLowerCase():"")}n=i}if(n)me(e,"complete"),me(e,"success");else{e.m=6;try{var o=2<tn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Jt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const s=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||me(e,"ready");try{s.onreadystatechange=r}catch(n){}}}function en(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rn(e){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,e),this.cb=sn("retryDelaySeedMs",1e4,e),this.Wa=sn("forwardChannelMaxRetries",2,e),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new Ut,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(e){if(ln(e),3==e.G){var t=e.U++,n=gt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),dn(e,n),(t=new We(e,e.j,t)).L=2,t.v=xt(gt(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(s){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=Nn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}xn(e)}function on(e){e.g&&(fn(e),e.g.cancel(),e.g=null)}function ln(e){on(e),e.u&&(r.clearTimeout(e.u),e.u=null),vn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function cn(e){if(!ot(e.h)&&!e.s){e.s=!0;var t=e.Ga;M||V(),U||(M(),U=!0),F.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const s=gt(e.I);wt(s,"SID",e.K),wt(s,"RID",n),wt(s,"AID",e.T),dn(e,s),e.m&&e.o&&Kt(s,e.m,e.o),n=new We(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Ye(n,s,t)}function dn(e,t){e.H&&_(e.H,(function(e,n){wt(t,n,e)})),e.l&&mt({},(function(e,n){wt(t,n,e)}))}function hn(e,t,n){n=Math.min(e.i.length,n);var s=e.l?c(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=r[o].g;const l=r[o].map;if(n-=t,0>n)t=Math.max(0,r[o].g-100),a=!1;else try{Ft(l,e,"req"+n+"_")}catch(i){s&&s(l)}}if(a){s=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,s}function mn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;M||V(),U||(M(),U=!0),F.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ue(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function fn(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&Kt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(gt(t)),n.m=null,n.P=!0,$e(n,e)}function vn(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function yn(e,t){var n=null;if(e.g==t){vn(e),fn(e),e.g=null;var s=2}else{if(!ct(e.h,t))return;n=t.D,dt(e.h,t),s=1}if(0!=e.G)if(t.o)if(1==s){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;me(s=Pe(),new Me(s,n)),cn(e)}else mn(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==s&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ue(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==s&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),s=e.Xa;const t=!s;s=new ft(s||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||vt(s,"https"),xt(s),t?function(e,t){const n=new Fe;if(r.Image){const s=new Image;s.onload=u(Mt,n,"TestLoadImage: loaded",!0,t,s),s.onerror=u(Mt,n,"TestLoadImage: error",!1,t,s),s.onabort=u(Mt,n,"TestLoadImage: abort",!1,t,s),s.ontimeout=u(Mt,n,"TestLoadImage: timeout",!1,t,s),r.setTimeout((function(){s.ontimeout&&s.ontimeout()}),1e4),s.src=e}else t(!1)}(s.toString(),n):function(e,t){new Fe;const n=new AbortController,s=setTimeout((()=>{n.abort(),Mt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(s),e.ok?Mt(0,0,!0,t):Mt(0,0,!1,t)})).catch((()=>{clearTimeout(s),Mt(0,0,!1,t)}))}(s.toString(),n)}else Le(2);e.G=0,e.l&&e.l.sa(t),xn(e),ln(e)}function xn(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(N(e.ka,t),N(e.ka,e.i),e.h.i.length=0,k(e.i),e.i.length=0),e.l.ra()}}function kn(e,t,n){var s=n instanceof ft?gt(n):new ft(n);if(""!=s.g)t&&(s.g=t+"."+s.g),yt(s,s.s);else{var i=r.location;s=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ft(null);s&&vt(a,s),t&&(a.g=t),i&&yt(a,i),n&&(a.l=n),s=a}return n=e.D,t=e.ya,n&&t&&wt(s,n,t),wt(s,"VER",e.la),dn(e,s),s}function Nn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Gt(new Vt({eb:n})):new Gt(e.pa)).Ha(e.J),t}function jn(){}function Tn(){}function Sn(e,t){he.call(this),this.g=new rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!j(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!j(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cn(this)}function En(e){_e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _n(){Ce.call(this),this.status=1}function Cn(e){this.g=e}(e=Gt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?Te(this.o):Te(ze),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void $t(this,a)}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else{if("function"!==typeof s.keys||"function"!==typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const e of s.keys())n.set(e,s.get(e))}s=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){$t(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,me(this,"complete"),me(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(Tt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Tt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ke(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=rn.prototype).la=8,e.G=1,e.connect=function(e,t,n,s){Le(0),this.W=e,this.H=t||{},n&&void 0!==s&&(this.H.OSID=n,this.H.OAID=s),this.F=this.X,this.I=kn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new We(this,this.j,e);let i=this.o;if(this.S&&(i?(i=C(i),A(i,this.S)):i=this.S),null!==this.m||this.O||(r.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var s=this.i[n];if(void 0===(s="__data__"in s.map&&"string"===typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(t+=s)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,r,t),wt(n=gt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),dn(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Wt(i)))+"&"+t:this.m&&Kt(n,this.m,i)),ut(this.h,r),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),r.T=!0,Ye(r,n,null)):Ye(r,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||ot(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ue(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),on(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,on(this),pn(this),Le(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=jn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Tn.prototype.g=function(e,t){return new Sn(e,t)},x(Sn,he),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){an(this.g)},Sn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=xe(e),e=n);t.i.push(new it(t.Ya++,e)),3==t.G&&cn(t)},Sn.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,Sn.aa.N.call(this)},x(En,_e),x(_n,Ce),x(Cn,jn),Cn.prototype.ua=function(){me(this.g,"a")},Cn.prototype.ta=function(e){me(this.g,new En(e))},Cn.prototype.sa=function(e){me(this.g,new _n)},Cn.prototype.ra=function(){me(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,y=w.createWebChannelTransport=function(){return new Tn},v=w.getStatEventTarget=function(){return Pe()},g=w.Event=Ie,f=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,p=w.ErrorCode=Be,qe.COMPLETE="complete",m=w.EventType=qe,Se.EventType=Ee,Ee.OPEN="a",Ee.CLOSE="b",Ee.ERROR="c",Ee.MESSAGE="d",he.prototype.listen=he.prototype.K,h=w.WebChannel=Se,w.FetchXmlHttpFactory=Vt,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,d=w.XhrIo=Gt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const x="@firebase/firestore",k="4.7.14";class N{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}N.UNAUTHENTICATED=new N(null),N.GOOGLE_CREDENTIALS=new N("google-credentials-uid"),N.FIRST_PARTY=new N("first-party-uid"),N.MOCK_USER=new N("mock-user");let j="11.7.3";const T=new o.Vy("@firebase/firestore");function S(){return T.logLevel}function E(e){if(T.logLevel<=o.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(I);T.debug("Firestore (".concat(j,"): ").concat(e),...r)}}function _(e){if(T.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(I);T.error("Firestore (".concat(j,"): ").concat(e),...r)}}function C(e){if(T.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(I);T.warn("Firestore (".concat(j,"): ").concat(e),...r)}}function I(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function A(e,t,n){let s="Unexpected state";"string"==typeof t?s=t:n=t,P(e,s,n)}function P(e,t,n){let s="FIRESTORE (".concat(j,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{s+=" CONTEXT: "+JSON.stringify(n)}catch(e){s+=" CONTEXT: "+n}throw _(s),new Error(s)}function R(e,t,n,s){let r="Unexpected state";"string"==typeof n?r=n:s=n,e||P(t,r,s)}function D(e,t){return e}const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class M{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class U{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(N.UNAUTHENTICATED)))}shutdown(){}}class V{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class z{constructor(e){this.t=e,this.currentUser=N.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){R(void 0===this.o,42304);let n=this.i;const s=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new M;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new M,e.enqueueRetryable((()=>s(this.currentUser)))};const i=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await s(this.currentUser)}))},a=e=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new M)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(R("string"==typeof t.accessToken,31837,{l:t}),new U(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e,2055,{h:e}),new N(e)}}class B{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=N.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new B(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(N.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,i.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){R(void 0===this.o,3512);const n=e=>{null!=e.error&&E("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,E("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const s=e=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>s(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?s(e):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(R("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new H(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}function G(){return new TextEncoder}class Q{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=K(40);for(let s=0;s<n.length;++s)t.length<20&&n[s]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[s]%62))}return t}}function Y(e,t){return e<t?-1:e>t?1:0}function $(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=e.codePointAt(n),r=t.codePointAt(n);if(s!==r){if(s<128&&r<128)return Y(s,r);{const i=G(),a=X(i.encode(J(e,n)),i.encode(J(t,n)));return 0!==a?a:Y(s,r)}}n+=s>65535?2:1}return Y(e.length,t.length)}function J(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function X(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Y(e[n],t[n]);return Y(e.length,t.length)}function Z(e,t,n){return e.length===t.length&&e.every(((e,s)=>n(e,t[s])))}const ee=-62135596800,te=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*te);return new ne(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ee)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/te}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ee;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new ne(0,0))}static max(){return new se(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const re="__name__";class ie{constructor(e,t,n){void 0===t?t=0:t>e.length&&A(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&A(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ie.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ie?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const n=ie.compareSegments(e.get(s),t.get(s));if(0!==n)return n}return Y(e.length,t.length)}static compareSegments(e,t){const n=ie.isNumericId(e),s=ie.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?ie.extractNumericId(e).compare(ie.extractNumericId(t)):$(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return s.fromString(e.substring(4,e.length-2))}}class ae extends ie{construct(e,t,n){return new ae(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n){if(r.indexOf("//")>=0)throw new L(O.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new ae(e)}static emptyPath(){return new ae([])}}const oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends ie{construct(e,t,n){return new le(e,t,n)}static isValidIdentifier(e){return oe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===re}static keyField(){return new le([re])}static fromServerFormat(e){const t=[];let n="",s=0;const r=()=>{if(0===n.length)throw new L(O.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;s<e.length;){const t=e[s];if("\\"===t){if(s+1===e.length)throw new L(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[s+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,s+=2}else"`"===t?(i=!i,s++):"."!==t||i?(n+=t,s++):(r(),s++)}if(r(),i)throw new L(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new le(t)}static emptyPath(){return new le([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ae.fromString(e))}static fromName(e){return new ce(ae.fromString(e).popFirst(5))}static empty(){return new ce(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ae(e.slice()))}}const ue=-1;class de{constructor(e,t,n,s){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=s}}de.UNKNOWN_ID=-1;function he(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=se.fromTimestamp(1e9===s?new ne(n+1,0):new ne(n,s));return new pe(r,ce.empty(),t)}function me(e){return new pe(e.readTime,e.key,ue)}class pe{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new pe(se.min(),ce.empty(),ue)}static max(){return new pe(se.max(),ce.empty(),ue)}}function fe(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ce.comparator(e.documentKey,t.documentKey),0!==n?n:Y(e.largestBatchId,t.largestBatchId))}const ge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ve{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ye(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==ge)throw e;E("LocalStore","Unexpectedly lost primary lease")}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&A(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be(((n,s)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,s)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(e){return be.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):be.reject(t)}static resolve(e){return new be(((t,n)=>{t(e)}))}static reject(e){return new be(((t,n)=>{n(e)}))}static waitFor(e){return new be(((t,n)=>{let s=0,r=0,i=!1;e.forEach((e=>{++s,e.next((()=>{++r,i&&r===s&&t()}),(e=>n(e)))})),i=!0,r===s&&t()}))}static or(e){let t=be.resolve(!1);for(const n of e)t=t.next((e=>e?be.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,s)=>{n.push(t.call(this,e,s))})),this.waitFor(n)}static mapArray(e,t){return new be(((n,s)=>{const r=e.length,i=new Array(r);let a=0;for(let o=0;o<r;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++a,a===r&&n(i)}),(e=>s(e)))}}))}static doWhile(e,t){return new be(((n,s)=>{const r=()=>{!0===e()?t().next((()=>{r()}),s):n()};r()}))}}function we(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xe(e){return"IndexedDbTransactionError"===e.name}class ke{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ke.le=-1;const Ne=-1;function je(e){return null==e}function Te(e){return 0===e&&1/e==-1/0}function Se(e){return"number"==typeof e&&Number.isInteger(e)&&!Te(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ee="\x01";function _e(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ie(t)),t=Ce(e.get(n),t);return Ie(t)}function Ce(e,t){let n=t;const s=e.length;for(let r=0;r<s;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case Ee:n+="\x01\x11";break;default:n+=t}}return n}function Ie(e){return e+Ee+"\x01"}const Ae="remoteDocuments",Pe="owner",Re="mutationQueues",De="mutations";const Oe="documentMutations",Le="remoteDocumentsV14",Me="remoteDocumentGlobal",Ue="targets",Fe="targetDocuments",Ve="targetGlobal",ze="collectionParents",Be="clientMetadata",qe="bundles",He="namedQueries",We="indexConfiguration",Ke="indexState",Ge="indexEntries",Qe="documentOverlays",Ye="globals",$e=[Re,De,Oe,Ae,Ue,Pe,Ve,Fe,Be,Me,ze,qe,He],Je=[Re,De,Oe,Le,Ue,Pe,Ve,Fe,Be,Me,ze,qe,He,Qe],Xe=Je,Ze=[...Xe,We,Ke,Ge];function et(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class st{constructor(e,t){this.comparator=e,this.root=t||it.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rt(this.root,e,this.comparator,!1)}getReverseIterator(){return new rt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rt(this.root,e,this.comparator,!0)}}class rt{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,t,n,s,r){this.key=e,this.value=t,this.color=null!=n?n:it.RED,this.left=null!=s?s:it.EMPTY,this.right=null!=r?r:it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,r){return new it(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=s?s:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const r=n(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,n),null):0===r?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return it.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw A(43730,{key:this.key,value:this.value});if(this.right.isRed())throw A(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw A(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1,it.EMPTY=new class{constructor(){this.size=0}get key(){throw A(57766)}get value(){throw A(16141)}get color(){throw A(16727)}get left(){throw A(29726)}get right(){throw A(36894)}copy(e,t,n,s,r){return this}insert(e,t,n){return new it(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ot(this.data.getIterator())}getIteratorFrom(e){return new ot(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof at))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(e,s))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class ot{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lt{constructor(e){this.fields=e,e.sort(le.comparator)}static empty(){return new lt([])}unionWith(e){let t=new at(le.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new lt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ct extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ct("Invalid base64 string: "+e):e}}(e);return new ut(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const dt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ht(e){if(R(!!e,39018),"string"==typeof e){let t=0;const n=dt.exec(e);if(R(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:mt(e.seconds),nanos:mt(e.nanos)}}function mt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pt(e){return"string"==typeof e?ut.fromBase64String(e):ut.fromUint8Array(e)}const ft="server_timestamp",gt="__type__",vt="__previous_value__",yt="__local_write_time__";function bt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[gt])||void 0===n?void 0:n.stringValue)===ft}function wt(e){const t=e.mapValue.fields[vt];return bt(t)?wt(t):t}function xt(e){const t=ht(e.mapValue.fields[yt].timestampValue);return new ne(t.seconds,t.nanos)}class kt{constructor(e,t,n,s,r,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Nt="(default)";class jt{constructor(e,t){this.projectId=e,this.database=t||Nt}static empty(){return new jt("","")}get isDefaultDatabase(){return this.database===Nt}isEqual(e){return e instanceof jt&&e.projectId===this.projectId&&e.database===this.database}}const Tt="__type__",St="__max__",Et={mapValue:{fields:{__type__:{stringValue:St}}}},_t="__vector__",Ct="value";function It(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bt(e)?4:Kt(e)?9007199254740991:Ht(e)?10:11:A(28295,{value:e})}function At(e,t){if(e===t)return!0;const n=It(e);if(n!==It(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xt(e).isEqual(xt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ht(e.timestampValue),s=ht(t.timestampValue);return n.seconds===s.seconds&&n.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pt(e.bytesValue).isEqual(pt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mt(e.geoPointValue.latitude)===mt(t.geoPointValue.latitude)&&mt(e.geoPointValue.longitude)===mt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mt(e.integerValue)===mt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=mt(e.doubleValue),s=mt(t.doubleValue);return n===s?Te(n)===Te(s):isNaN(n)&&isNaN(s)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],At);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},s=t.mapValue.fields||{};if(et(n)!==et(s))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===s[r]||!At(n[r],s[r])))return!1;return!0}(e,t);default:return A(52216,{left:e})}}function Pt(e,t){return void 0!==(e.values||[]).find((e=>At(e,t)))}function Rt(e,t){if(e===t)return 0;const n=It(e),s=It(t);if(n!==s)return Y(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=mt(e.integerValue||e.doubleValue),s=mt(t.integerValue||t.doubleValue);return n<s?-1:n>s?1:n===s?0:isNaN(n)?isNaN(s)?0:-1:1}(e,t);case 3:return Dt(e.timestampValue,t.timestampValue);case 4:return Dt(xt(e),xt(t));case 5:return $(e.stringValue,t.stringValue);case 6:return function(e,t){const n=pt(e),s=pt(t);return n.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),s=t.split("/");for(let r=0;r<n.length&&r<s.length;r++){const e=Y(n[r],s[r]);if(0!==e)return e}return Y(n.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Y(mt(e.latitude),mt(t.latitude));return 0!==n?n:Y(mt(e.longitude),mt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ot(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,s,r,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Ct])||void 0===n?void 0:n.arrayValue,c=null===(s=o[Ct])||void 0===s?void 0:s.arrayValue,u=Y((null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ot(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Et.mapValue&&t===Et.mapValue)return 0;if(e===Et.mapValue)return 1;if(t===Et.mapValue)return-1;const n=e.fields||{},s=Object.keys(n),r=t.fields||{},i=Object.keys(r);s.sort(),i.sort();for(let a=0;a<s.length&&a<i.length;++a){const e=$(s[a],i[a]);if(0!==e)return e;const t=Rt(n[s[a]],r[i[a]]);if(0!==t)return t}return Y(s.length,i.length)}(e.mapValue,t.mapValue);default:throw A(23264,{Pe:n})}}function Dt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y(e,t);const n=ht(e),s=ht(t),r=Y(n.seconds,s.seconds);return 0!==r?r:Y(n.nanos,s.nanos)}function Ot(e,t){const n=e.values||[],s=t.values||[];for(let r=0;r<n.length&&r<s.length;++r){const e=Rt(n[r],s[r]);if(e)return e}return Y(n.length,s.length)}function Lt(e){return Mt(e)}function Mt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ht(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return pt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ce.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const s of e.values||[])n?n=!1:t+=",",t+=Mt(s);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const r of t)s?s=!1:n+=",",n+="".concat(r,":").concat(Mt(e.fields[r]));return n+"}"}(e.mapValue):A(61005,{value:e})}function Ut(e){switch(It(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wt(e);return t?16+Ut(t):16;case 5:return 2*e.stringValue.length;case 6:return pt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ut(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return tt(e.fields,((e,n)=>{t+=e.length+Ut(n)})),t}(e.mapValue);default:throw A(13486,{value:e})}}function Ft(e){return!!e&&"integerValue"in e}function Vt(e){return!!e&&"arrayValue"in e}function zt(e){return!!e&&"nullValue"in e}function Bt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qt(e){return!!e&&"mapValue"in e}function Ht(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Tt])||void 0===n?void 0:n.stringValue)===_t}function Wt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return tt(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Wt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Kt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===St}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!qt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wt(t)}setAll(e){let t=le.emptyPath(),n={},s=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,s),n={},s=[],t=r.popLast()}e?n[r.lastSegment()]=Wt(e):s.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,s)}delete(e){const t=this.field(e.popLast());qt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return At(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];qt(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){tt(t,((t,n)=>e[t]=n));for(const s of n)delete e[s]}clone(){return new Gt(Wt(this.value))}}function Qt(e){const t=[];return tt(e.fields,((e,n)=>{const s=new le([e]);if(qt(n)){const e=Qt(n.mapValue).fields;if(0===e.length)t.push(s);else for(const n of e)t.push(s.child(n))}else t.push(s)})),new lt(t)}class Yt{constructor(e,t,n,s,r,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,se.min(),se.min(),se.min(),Gt.empty(),0)}static newFoundDocument(e,t,n,s){return new Yt(e,1,t,se.min(),n,s,0)}static newNoDocument(e,t){return new Yt(e,2,t,se.min(),se.min(),Gt.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,se.min(),se.min(),Gt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class $t{constructor(e,t){this.position=e,this.inclusive=t}}function Jt(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],a=e.position[r];if(s=i.field.isKeyField()?ce.comparator(ce.fromName(a.referenceValue),n.key):Rt(a,n.data.field(i.field)),"desc"===i.dir&&(s*=-1),0!==s)break}return s}function Xt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!At(e.position[n],t.position[n]))return!1;return!0}class Zt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function en(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class tn{}class nn extends tn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new dn(e,t,n):"array-contains"===t?new fn(e,n):"in"===t?new gn(e,n):"not-in"===t?new vn(e,n):"array-contains-any"===t?new yn(e,n):new nn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new hn(e,n):new mn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Rt(t,this.value)):null!==t&&It(this.value)===It(t)&&this.matchesComparison(Rt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sn extends tn{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new sn(e,t)}matches(e){return rn(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function rn(e){return"and"===e.op}function an(e){return on(e)&&rn(e)}function on(e){for(const t of e.filters)if(t instanceof sn)return!1;return!0}function ln(e){if(e instanceof nn)return e.field.canonicalString()+e.op.toString()+Lt(e.value);if(an(e))return e.filters.map((e=>ln(e))).join(",");{const t=e.filters.map((e=>ln(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function cn(e,t){return e instanceof nn?function(e,t){return t instanceof nn&&e.op===t.op&&e.field.isEqual(t.field)&&At(e.value,t.value)}(e,t):e instanceof sn?function(e,t){return t instanceof sn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,s)=>e&&cn(n,t.filters[s])),!0)}(e,t):void A(19439)}function un(e){return e instanceof nn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Lt(e.value))}(e):e instanceof sn?function(e){return e.op.toString()+" {"+e.getFilters().map(un).join(" ,")+"}"}(e):"Filter"}class dn extends nn{constructor(e,t,n){super(e,t,n),this.key=ce.fromName(n.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class hn extends nn{constructor(e,t){super(e,"in",t),this.keys=pn("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mn extends nn{constructor(e,t){super(e,"not-in",t),this.keys=pn("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ce.fromName(e.referenceValue)))}class fn extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vt(t)&&Pt(t.arrayValue,this.value)}}class gn extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pt(this.value.arrayValue,t)}}class vn extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Pt(this.value.arrayValue,t)}}class yn extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vt(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Pt(this.value.arrayValue,e)))}}class bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=r,this.startAt=i,this.endAt=a,this.Ie=null}}function wn(e){return new bn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function xn(e){const t=D(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ln(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),je(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Lt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Lt(e))).join(",")),t.Ie=e}return t.Ie}function kn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!en(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xt(e.startAt,t.startAt)&&Xt(e.endAt,t.endAt)}function Nn(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=r,this.limitType=i,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Tn(e,t,n,s,r,i,a,o){return new jn(e,t,n,s,r,i,a,o)}function Sn(e){return new jn(e)}function En(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _n(e){return null!==e.collectionGroup}function Cn(e){const t=D(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ee.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){let t=new at(le.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new Zt(s,n))})),e.has(le.keyField().canonicalString())||t.Ee.push(new Zt(le.keyField(),n))}return t.Ee}function In(e){const t=D(e);return t.de||(t.de=An(t,Cn(e))),t.de}function An(e,t){if("F"===e.limitType)return wn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Zt(e.field,t)}));const n=e.endAt?new $t(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new $t(e.startAt.position,e.startAt.inclusive):null;return wn(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Pn(e,t,n){return new jn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rn(e,t){return kn(In(e),In(t))&&e.limitType===t.limitType}function Dn(e){return"".concat(xn(In(e)),"|lt:").concat(e.limitType)}function On(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>un(e))).join(", "),"]")),je(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Lt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Lt(e))).join(",")),"Target(".concat(t,")")}(In(e)),"; limitType=").concat(e.limitType,")")}function Ln(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ce.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const s=Jt(e,t,n);return e.inclusive?s<=0:s<0}(e.startAt,Cn(e),t))&&!(e.endAt&&!function(e,t,n){const s=Jt(e,t,n);return e.inclusive?s>=0:s>0}(e.endAt,Cn(e),t))}(e,t)}function Mn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Un(e){return(t,n)=>{let s=!1;for(const r of Cn(e)){const e=Fn(r,t,n);if(0!==e)return e;s=s||r.field.isKeyField()}return 0}}function Fn(e,t,n){const s=e.field.isKeyField()?ce.comparator(t.key,n.key):function(e,t,n){const s=t.data.field(e),r=n.data.field(e);return null!==s&&null!==r?Rt(s,r):A(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return A(19790,{direction:e.dir})}}class Vn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[s,r]of n)if(this.equalsFn(s,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return 1===n.length?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){tt(this.inner,((t,n)=>{for(const[s,r]of n)e(s,r)}))}isEmpty(){return nt(this.inner)}size(){return this.innerSize}}const zn=new st(ce.comparator);function Bn(){return zn}const qn=new st(ce.comparator);function Hn(){let e=qn;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n)e=e.insert(r.key,r);return e}function Wn(e){let t=qn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Kn(){return Qn()}function Gn(){return Qn()}function Qn(){return new Vn((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Yn=new st(ce.comparator),$n=new at(ce.comparator);function Jn(){let e=$n;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n)e=e.add(r);return e}const Xn=new at(Y);function Zn(){return Xn}function es(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Te(t)?"-0":t}}function ts(e){return{integerValue:""+e}}function ns(e,t){return Se(t)?ts(t):es(e,t)}class ss{constructor(){this._=void 0}}function rs(e,t,n){return e instanceof os?function(e,t){const n={fields:{[gt]:{stringValue:ft},[yt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bt(t)&&(t=wt(t)),t&&(n.fields[vt]=t),{mapValue:n}}(n,t):e instanceof ls?cs(e,t):e instanceof us?ds(e,t):function(e,t){const n=as(e,t),s=ms(n)+ms(e.Re);return Ft(n)&&Ft(e.Re)?ts(s):es(e.serializer,s)}(e,t)}function is(e,t,n){return e instanceof ls?cs(e,t):e instanceof us?ds(e,t):n}function as(e,t){return e instanceof hs?function(e){return Ft(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class os extends ss{}class ls extends ss{constructor(e){super(),this.elements=e}}function cs(e,t){const n=ps(t);for(const s of e.elements)n.some((e=>At(e,s)))||n.push(s);return{arrayValue:{values:n}}}class us extends ss{constructor(e){super(),this.elements=e}}function ds(e,t){let n=ps(t);for(const s of e.elements)n=n.filter((e=>!At(e,s)));return{arrayValue:{values:n}}}class hs extends ss{constructor(e,t){super(),this.serializer=e,this.Re=t}}function ms(e){return mt(e.integerValue||e.doubleValue)}function ps(e){return Vt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fs{constructor(e,t){this.version=e,this.transformResults=t}}class gs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ys{}function bs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Cs(e.key,gs.none()):new js(e.key,e.data,gs.none());{const n=e.data,s=Gt.empty();let r=new at(le.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?s.delete(e):s.set(e,t),r=r.add(e)}return new Ts(e.key,s,new lt(r.toArray()),gs.none())}}function ws(e,t,n){e instanceof js?function(e,t,n){const s=e.value.clone(),r=Es(e.fieldTransforms,t,n.transformResults);s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):e instanceof Ts?function(e,t,n){if(!vs(e.precondition,t))return void t.convertToUnknownDocument(n.version);const s=Es(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Ss(e)),r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function xs(e,t,n,s){return e instanceof js?function(e,t,n,s){if(!vs(e.precondition,t))return n;const r=e.value.clone(),i=_s(e.fieldTransforms,s,t);return r.setAll(i),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,s):e instanceof Ts?function(e,t,n,s){if(!vs(e.precondition,t))return n;const r=_s(e.fieldTransforms,s,t),i=t.data;return i.setAll(Ss(e)),i.setAll(r),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,s):function(e,t,n){return vs(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ks(e,t){let n=null;for(const s of e.fieldTransforms){const e=t.data.field(s.field),r=as(s.transform,e||null);null!=r&&(null===n&&(n=Gt.empty()),n.set(s.field,r))}return n||null}function Ns(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ls&&t instanceof ls||e instanceof us&&t instanceof us?Z(e.elements,t.elements,At):e instanceof hs&&t instanceof hs?At(e.Re,t.Re):e instanceof os&&t instanceof os}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class js extends ys{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ts extends ys{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Ss(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function Es(e,t,n){const s=new Map;R(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const i=e[r],a=i.transform,o=t.data.field(i.field);s.set(i.field,is(a,o,n[r]))}return s}function _s(e,t,n){const s=new Map;for(const r of e){const e=r.transform,i=n.data.field(r.field);s.set(r.field,rs(e,i,t))}return s}class Cs extends ys{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Is extends ys{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class As{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const t=this.mutations[s];t.key.isEqual(e.key)&&ws(t,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=xs(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=xs(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Gn();return this.mutations.forEach((s=>{const r=e.get(s.key),i=r.overlayedDocument;let a=this.applyToLocalView(i,r.mutatedFields);a=t.has(s.key)?null:a;const o=bs(i,a);null!==o&&n.set(s.key,o),i.isValidDocument()||i.convertToNoDocument(se.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Jn())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,((e,t)=>Ns(e,t)))&&Z(this.baseMutations,e.baseMutations,((e,t)=>Ns(e,t)))}}class Ps{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){R(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let s=Yn;const r=e.mutations;for(let i=0;i<r.length;i++)s=s.insert(r[i].key,n[i].version);return new Ps(e,t,n,s)}}class Rs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ds{constructor(e,t){this.count=e,this.unchangedNames=t}}var Os,Ls;function Ms(e){switch(e){case O.OK:return A(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return A(15467,{code:e})}}function Us(e){if(void 0===e)return _("GRPC error has no .code"),O.UNKNOWN;switch(e){case Os.OK:return O.OK;case Os.CANCELLED:return O.CANCELLED;case Os.UNKNOWN:return O.UNKNOWN;case Os.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Os.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Os.INTERNAL:return O.INTERNAL;case Os.UNAVAILABLE:return O.UNAVAILABLE;case Os.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Os.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Os.NOT_FOUND:return O.NOT_FOUND;case Os.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Os.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Os.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Os.ABORTED:return O.ABORTED;case Os.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Os.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Os.DATA_LOSS:return O.DATA_LOSS;default:return A(39323,{code:e})}}(Ls=Os||(Os={}))[Ls.OK=0]="OK",Ls[Ls.CANCELLED=1]="CANCELLED",Ls[Ls.UNKNOWN=2]="UNKNOWN",Ls[Ls.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ls[Ls.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ls[Ls.NOT_FOUND=5]="NOT_FOUND",Ls[Ls.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ls[Ls.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ls[Ls.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ls[Ls.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ls[Ls.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ls[Ls.ABORTED=10]="ABORTED",Ls[Ls.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ls[Ls.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ls[Ls.INTERNAL=13]="INTERNAL",Ls[Ls.UNAVAILABLE=14]="UNAVAILABLE",Ls[Ls.DATA_LOSS=15]="DATA_LOSS";let Fs=null;const Vs=new s([4294967295,4294967295],0);function zs(e){const t=G().encode(e),n=new r;return n.update(t),new Uint8Array(n.digest())}function Bs(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new s([n,r],0),new s([i,a],0)]}class qs{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Hs("Invalid padding: ".concat(t));if(n<0)throw new Hs("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Hs("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Hs("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=s.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(s.fromNumber(n)));return 1===r.compare(Vs)&&(r=new s([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=zs(e),[n,s]=Bs(t);for(let r=0;r<this.hashCount;r++){const e=this.we(n,s,r);if(!this.be(e))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),i=new qs(r,s,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=zs(e),[n,s]=Bs(t);for(let r=0;r<this.hashCount;r++){const e=this.we(n,s,r);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ws{constructor(e,t,n,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Ks.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ws(se.min(),s,new st(Y),Bn(),Jn())}}class Ks{constructor(e,t,n,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ks(n,t,Jn(),Jn(),Jn())}}class Gs{constructor(e,t,n,s){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=s}}class Qs{constructor(e,t){this.targetId=e,this.Ce=t}}class Ys{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.EMPTY_BYTE_STRING,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class $s{constructor(){this.Fe=0,this.Me=Zs(),this.xe=ut.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Jn(),t=Jn(),n=Jn();return this.Me.forEach(((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:A(38017,{changeType:r})}})),new Ks(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Zs()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,R(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Js{constructor(e){this.ze=e,this.je=new Map,this.He=Bn(),this.Je=Xs(),this.Ye=Xs(),this.Ze=new st(Y)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:A(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,s=this._t(t);if(s){const r=s.target;if(Nn(r))if(0===n){const e=new ce(r.path);this.tt(t,e,Yt.newNoDocument(e,se.min()))}else R(1===n,20013,{expectedCount:n});else{const s=this.ut(t);if(s!==n){const n=this.ct(e),r=n?this.lt(n,e,s):1;if(0!==r){this.st(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Fs||Fs.ht(function(e,t,n,s,r){var i,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===r,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==s?void 0:s.mightContain(e))&&void 0!==t&&t}}),d}(s,e.Ce,this.ze.Pt(),n,r))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:r=0}=t;let i,a;try{i=pt(n).toUint8Array()}catch(e){if(e instanceof ct)return C("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new qs(i,s,r)}catch(e){return C(e instanceof Hs?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let s=0;return n.forEach((n=>{const r=this.ze.Pt(),i="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.tt(t,n,null),s++)})),s}It(e){const t=new Map;this.je.forEach(((n,s)=>{const r=this._t(s);if(r){if(n.current&&Nn(r.target)){const t=new ce(r.target.path);this.Et(t).has(s)||this.dt(s,t)||this.tt(s,t,Yt.newNoDocument(t,e))}n.Le&&(t.set(s,n.qe()),n.Qe())}}));let n=Jn();this.Ye.forEach(((e,t)=>{let s=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(s=!1,!1)})),s&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const s=new Ws(e,t,this.Ze,this.He,n);return this.He=Bn(),this.Je=Xs(),this.Ye=Xs(),this.Ze=new st(Y),s}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new $s,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new at(Y),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new at(Y),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||E("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $s),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Xs(){return new st(ce.comparator)}function Zs(){return new st(ce.comparator)}const er={asc:"ASCENDING",desc:"DESCENDING"},tr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nr={and:"AND",or:"OR"};class sr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rr(e,t){return e.useProto3Json||je(t)?t:{value:t}}function ir(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ar(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function or(e,t){return ir(e,t.toTimestamp())}function lr(e){return R(!!e,49232),se.fromTimestamp(function(e){const t=ht(e);return new ne(t.seconds,t.nanos)}(e))}function cr(e,t){return ur(e,t).canonicalString()}function ur(e,t){const n=function(e){return new ae(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function dr(e){const t=ae.fromString(e);return R(Ar(t),10190,{key:t.toString()}),t}function hr(e,t){return cr(e.databaseId,t.path)}function mr(e,t){const n=dr(t);if(n.get(1)!==e.databaseId.projectId)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ce(vr(n))}function pr(e,t){return cr(e.databaseId,t)}function fr(e){const t=dr(e);return 4===t.length?ae.emptyPath():vr(t)}function gr(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vr(e){return R(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function yr(e,t,n){return{name:hr(e,t),fields:n.value.mapValue.fields}}function br(e,t){let n;if(t instanceof js)n={update:yr(e,t.key,t.value)};else if(t instanceof Cs)n={delete:hr(e,t.key)};else if(t instanceof Ts)n={update:yr(e,t.key,t.data),updateMask:Ir(t.fieldMask)};else{if(!(t instanceof Is))return A(16599,{ft:t.type});n={verify:hr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof os)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ls)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof us)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hs)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw A(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:or(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A(27497)}(e,t.precondition)),n}function wr(e,t){return{documents:[pr(e,t.path)]}}function xr(e,t){const n={structuredQuery:{}},s=t.path;let r;null!==t.collectionGroup?(r=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pr(e,r);const i=function(e){if(0!==e.length)return Cr(sn.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Er(e.field),direction:jr(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=rr(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:r}}function kr(e){let t=fr(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){R(1===s,65062);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Nr(e);return t instanceof sn&&an(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Zt(_r(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,je(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new $t(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new $t(n,t)}(n.endAt)),Tn(t,r,a,i,o,"F",l,c)}function Nr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_r(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_r(e.unaryFilter.field);return nn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_r(e.unaryFilter.field);return nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=_r(e.unaryFilter.field);return nn.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return A(61313);default:return A(60726)}}(e):void 0!==e.fieldFilter?function(e){return nn.create(_r(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return A(58110);default:return A(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sn.create(e.compositeFilter.filters.map((e=>Nr(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return A(1026)}}(e.compositeFilter.op))}(e):A(30097,{filter:e})}function jr(e){return er[e]}function Tr(e){return tr[e]}function Sr(e){return nr[e]}function Er(e){return{fieldPath:e.canonicalString()}}function _r(e){return le.fromServerFormat(e.fieldPath)}function Cr(e){return e instanceof nn?function(e){if("=="===e.op){if(Bt(e.value))return{unaryFilter:{field:Er(e.field),op:"IS_NAN"}};if(zt(e.value))return{unaryFilter:{field:Er(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bt(e.value))return{unaryFilter:{field:Er(e.field),op:"IS_NOT_NAN"}};if(zt(e.value))return{unaryFilter:{field:Er(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Er(e.field),op:Tr(e.op),value:e.value}}}(e):e instanceof sn?function(e){const t=e.getFilters().map((e=>Cr(e)));return 1===t.length?t[0]:{compositeFilter:{op:Sr(e.op),filters:t}}}(e):A(54877,{filter:e})}function Ir(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ar(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Pr{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:se.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:se.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ut.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rr{constructor(e){this.wt=e}}function Dr(e){const t=kr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pn(t,t.limit,"L"):t}class Or{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(mt(e.integerValue));else if("doubleValue"in e){const n=mt(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Te(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=ht(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(pt(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Kt(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Ht(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):A(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const s of Object.keys(n))this.Nt(s,t),this.Ct(n[s],t)}qt(e,t){var n,s;const r=e.fields||{};this.Mt(t,53);const i=Ct,a=(null===(s=null===(n=r[i].arrayValue)||void 0===n?void 0:n.values)||void 0===s?void 0:s.length)||0;this.Mt(t,15),t.xt(mt(a)),this.Nt(i,t),this.Ct(r[i],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const s of n)this.Ct(s,t)}kt(e,t){this.Mt(t,37),ce.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Or.Wt=new Or;class Lr{constructor(){this.yn=new Mr}addToCollectionParentIndex(e,t){return this.yn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(pe.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(pe.min())}updateCollectionGroup(e,t,n){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class Mr{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new at(ae.comparator),r=!s.has(n);return this.index[t]=s.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new at(ae.comparator)).toArray()}}new Uint8Array(0);const Ur={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fr=41943040;class Vr{static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(Fr,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);class zr{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new zr(0)}static ir(){return new zr(-1)}}const Br="LruGarbageCollector",qr=1048576;function Hr(e,t){let[n,s]=e,[r,i]=t;const a=Y(n,r);return 0===a?Y(s,i):a}class Wr{constructor(e){this.cr=e,this.buffer=new at(Hr),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Hr(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kr{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){E(Br,"Garbage collection scheduled in ".concat(e,"ms")),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){xe(e)?E(Br,"Ignoring IndexedDB error during garbage collection: ",e):await ye(e)}await this.Ir(3e5)}))}}class Gr{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return be.resolve(ke.le);const n=new Wr(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Ur)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ur):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,s,r,i,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(E("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),s=this.params.maximumSequenceNumbersToCollect):s=t,i=Date.now(),this.nthSequenceNumber(e,s)))).next((s=>(n=s,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),S()<=o.$b.DEBUG&&E("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-u,"ms\n\tDetermined least recently used ").concat(s," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(l-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),be.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:e}))))}}function Qr(e,t){return new Gr(e,t)}class Yr{constructor(){this.changes=new Vn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $r{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jr{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&xs(n.mutation,e,lt.empty(),ne.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Jn()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jn();const s=Kn();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((e=>{let t=Hn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Kn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Jn())))}populateOverlays(e,t,n){const s=[];return n.forEach((e=>{t.has(e)||s.push(e)})),this.documentOverlayCache.getOverlays(e,s).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,s){let r=Bn();const i=Qn(),a=Qn();return t.forEach(((e,t)=>{const a=n.get(t.key);s.has(t.key)&&(void 0===a||a.mutation instanceof Ts)?r=r.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),xs(a.mutation,t,a.mutation.getFieldMask(),ne.now())):i.set(t.key,lt.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new $r(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Qn();let s=new st(((e,t)=>e-t)),r=Jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||lt.empty();a=r.applyToLocalView(i,a),n.set(e,a);const o=(s.get(r.batchId)||Jn()).add(e);s=s.insert(r.batchId,o)}))})).next((()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const s=a.getNext(),o=s.key,l=s.value,c=Gn();l.forEach((e=>{if(!r.has(e)){const s=bs(t.get(e),n.get(e));null!==s&&c.set(e,s),r=r.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return be.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,s){return function(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_n(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((r=>{const i=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-r.size):be.resolve(Kn());let a=ue,o=r;return i.next((t=>be.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),r.get(t)?be.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,o,t,Jn()))).next((e=>({batchId:a,changes:Wn(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((e=>{let t=Hn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const r=t.collectionGroup;let i=Hn();return this.indexManager.getCollectionParents(e,r).next((a=>be.forEach(a,(a=>{const o=function(e,t){return new jn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n,s).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,s)))).next((e=>{r.forEach(((t,n)=>{const s=n.getKey();null===e.get(s)&&(e=e.insert(s,Yt.newInvalidDocument(s)))}));let n=Hn();return e.forEach(((e,s)=>{const i=r.get(e);void 0!==i&&xs(i.mutation,s,lt.empty(),ne.now()),Ln(t,s)&&(n=n.insert(e,s))})),n}))}}class Xr{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return be.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:lr(e.createTime)}}(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:Dr(e.bundledQuery),readTime:lr(e.readTime)}}(t)),be.resolve()}}class Zr{constructor(){this.overlays=new st(ce.comparator),this.Or=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Kn();return be.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,s)=>{this.St(e,t,s)})),be.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.Or.get(n);return void 0!==s&&(s.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),be.resolve()}getOverlaysForCollection(e,t,n){const s=Kn(),r=t.length+1,i=new ce(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===r&&e.largestBatchId>n&&s.set(e.getKey(),e)}return be.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let r=new st(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=Kn(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Kn(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=s)););return be.resolve(a)}St(e,t,n){const s=this.overlays.get(n.key);if(null!==s){const e=this.Or.get(s.largestBatchId).delete(n.key);this.Or.set(s.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Rs(t,n));let r=this.Or.get(t);void 0===r&&(r=Jn(),this.Or.set(t,r)),this.Or.set(t,r.add(n.key))}}class ei{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}class ti{constructor(){this.Nr=new at(ni.Br),this.Lr=new at(ni.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new ni(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new ni(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new ce(new ae([])),n=new ni(t,e),s=new ni(t,e+1),r=[];return this.Lr.forEachInRange([n,s],(e=>{this.Qr(e),r.push(e.key)})),r}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ce(new ae([])),n=new ni(t,e),s=new ni(t,e+1);let r=Jn();return this.Lr.forEachInRange([n,s],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new ni(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ni{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ce.comparator(e.key,t.key)||Y(e.Gr,t.Gr)}static kr(e,t){return Y(e.Gr,t.Gr)||ce.comparator(e.key,t.key)}}class si{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new at(ni.Br)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,s){const r=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new As(r,t,n,s);this.mutationQueue.push(i);for(const a of s)this.zr=this.zr.add(new ni(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return be.resolve(i)}lookupMutationBatch(e,t){return be.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.Hr(n),r=s<0?0:s;return be.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?Ne:this.Jn-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ni(t,0),s=new ni(t,Number.POSITIVE_INFINITY),r=[];return this.zr.forEachInRange([n,s],(e=>{const t=this.jr(e.Gr);r.push(t)})),be.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new at(Y);return t.forEach((e=>{const t=new ni(e,0),s=new ni(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,s],(e=>{n=n.add(e.Gr)}))})),be.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let r=n;ce.isDocumentKey(r)||(r=r.child(""));const i=new ni(new ce(r),0);let a=new at(Y);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===s&&(a=a.add(e.Gr)),!0)}),i),be.resolve(this.Jr(a))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){R(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return be.forEach(t.mutations,(s=>{const r=new ni(s.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new ni(t,0),s=this.zr.firstAfterOrEqual(n);return be.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ri{constructor(e){this.Zr=e,this.docs=new st(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),r=s?s.size:0,i=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return be.resolve(n?n.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let n=Bn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yt.newInvalidDocument(e))})),be.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let r=Bn();const i=t.path,a=new ce(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||fe(me(a),n)<=0||(s.has(a.key)||Ln(t,a))&&(r=r.insert(a.key,a.mutableCopy()))}return be.resolve(r)}getAllFromCollectionGroup(e,t,n,s){A(9500)}Xr(e,t){return be.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ii(this)}getSize(e){return be.resolve(this.size)}}class ii extends Yr{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(n)})),be.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class ai{constructor(e){this.persistence=e,this.ei=new Vn((e=>xn(e)),kn),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.ti=0,this.ni=new ti,this.targetCount=0,this.ri=zr.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),be.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new zr(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.ar(t),be.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,n){let s=0;const r=[];return this.ei.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ei.delete(i),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),be.waitFor(r).next((()=>s))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return be.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),be.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach((t=>{r.push(s.markPotentiallyOrphaned(e,t))})),be.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),be.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return be.resolve(n)}containsKey(e,t){return be.resolve(this.ni.containsKey(t))}}class oi{constructor(e,t){this.ii={},this.overlays={},this.si=new ke(0),this.oi=!1,this.oi=!0,this._i=new ei,this.referenceDelegate=e(this),this.ai=new ai(this),this.indexManager=new Lr,this.remoteDocumentCache=function(e){return new ri(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new Rr(t),this.ci=new Xr(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zr,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new si(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){E("MemoryPersistence","Starting transaction:",e);const s=new li(this.si.next());return this.referenceDelegate.li(),n(s).next((e=>this.referenceDelegate.hi(s).next((()=>e)))).toPromise().then((e=>(s.raiseOnCommittedEvent(),e)))}Pi(e,t){return be.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class li extends ve{constructor(e){super(),this.currentSequenceNumber=e}}class ci{constructor(e){this.persistence=e,this.Ti=new ti,this.Ii=null}static Ei(e){return new ci(e)}get di(){if(this.Ii)return this.Ii;throw A(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),be.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),be.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.di,(n=>{const s=ce.fromPath(n);return this.Ai(e,s).next((e=>{e||t.removeEntry(s,se.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return be.or([()=>be.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class ui{constructor(e,t){this.persistence=e,this.Ri=new Vn((e=>_e(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Qr(this,t)}static Ei(e,t){return new ui(e,t)}li(){}hi(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return be.forEach(this.Ri,((n,s)=>this.gr(e,n,s).next((e=>e?be.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.Xr(e,(s=>this.gr(e,s,t).next((e=>{e||(n++,r.removeEntry(s,se.min()))})))).next((()=>r.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),be.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),be.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ut(e.data.value)),t}gr(e,t,n){return be.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return be.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class di{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=s}static Ps(e,t){let n=Jn(),s=Jn();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new di(e,t.fromCache,n,s)}}class hi{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mi{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=(0,l.nr)()?8:we((0,l.ZQ)())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,s){const r={result:null};return this.Rs(e,t).next((e=>{r.result=e})).next((()=>{if(!r.result)return this.Vs(e,t,s,n).next((e=>{r.result=e}))})).next((()=>{if(r.result)return;const n=new hi;return this.fs(e,t,n).next((s=>{if(r.result=s,this.Is)return this.gs(e,t,n,s.size)}))})).next((()=>r.result))}gs(e,t,n,s){return n.documentReadCount<this.Es?(S()<=o.$b.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",On(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),be.resolve()):(S()<=o.$b.DEBUG&&E("QueryEngine","Query:",On(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ds*s?(S()<=o.$b.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",On(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(t))):be.resolve())}Rs(e,t){if(En(t))return be.resolve(null);let n=In(t);return this.indexManager.getIndexType(e,n).next((s=>0===s?null:(null!==t.limit&&1===s&&(t=Pn(t,null,"F"),n=In(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const r=Jn(...s);return this.As.getDocuments(e,r).next((s=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.ps(t,s);return this.ys(t,i,r,n.readTime)?this.Rs(e,Pn(t,null,"F")):this.ws(e,i,t,n)}))))})))))}Vs(e,t,n,s){return En(t)||s.isEqual(se.min())?be.resolve(null):this.As.getDocuments(e,n).next((r=>{const i=this.ps(t,r);return this.ys(t,i,n,s)?be.resolve(null):(S()<=o.$b.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),On(t)),this.ws(e,i,t,he(s,ue)).next((e=>e)))}))}ps(e,t){let n=new at(Un(e));return t.forEach(((t,s)=>{Ln(e,s)&&(n=n.add(s))})),n}ys(e,t,n,s){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}fs(e,t,n){return S()<=o.$b.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",On(t)),this.As.getDocumentsMatchingQuery(e,t,pe.min(),n)}ws(e,t,n,s){return this.As.getDocumentsMatchingQuery(e,n,s).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const pi="LocalStore",fi=3e8;class gi{constructor(e,t,n,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new st(Y),this.Ds=new Vn((e=>xn(e)),kn),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jr(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function vi(e,t,n,s){return new gi(e,t,n,s)}async function yi(e,t){const n=D(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.mutationQueue.getAllMutationBatches(e).next((r=>(s=r,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],i=[];let a=Jn();for(const e of s){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ms:e,removedBatchIds:r,addedBatchIds:i})))}))}))}function bi(e){const t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function wi(e,t,n){let s=Jn(),r=Jn();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=Bn();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),i.isNoDocument()&&i.version.isEqual(se.min())?(t.removeEntry(n,i.readTime),s=s.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),s=s.insert(n,i)):E(pi,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{xs:s,Os:r}}))}function xi(e,t){const n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Ne),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ki(e,t){const n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let s;return n.ai.getTargetData(e,t).next((r=>r?(s=r,be.resolve(s)):n.ai.allocateTargetId(e).next((r=>(s=new Pr(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,s).next((()=>s)))))))})).then((e=>{const s=n.Ss.get(e.targetId);return(null===s||e.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}async function Ni(e,t,n){const s=D(e),r=s.Ss.get(t),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(e=>s.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!xe(e))throw e;E(pi,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}s.Ss=s.Ss.remove(t),s.Ds.delete(r.target)}function ji(e,t,n){const s=D(e);let r=se.min(),i=Jn();return s.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const s=D(e),r=s.Ds.get(n);return void 0!==r?be.resolve(s.Ss.get(r)):s.ai.getTargetData(t,n)}(s,e,In(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>s.bs.getDocumentsMatchingQuery(e,t,n?r:se.min(),n?i:Jn()))).next((e=>(Ti(s,Mn(t),e),{documents:e,Ns:i})))))}function Ti(e,t,n){let s=e.vs.get(t)||se.min();n.forEach(((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)})),e.vs.set(t,s)}class Si{constructor(){this.activeTargetIds=Zn()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ei{constructor(){this.So=new Si,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Si,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _i{vo(e){}shutdown(){}}const Ci="ConnectivityMonitor";class Ii{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){E(Ci,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){E(Ci,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ai=null;function Pi(){return null===Ai?Ai=268435456+Math.round(2147483648*Math.random()):Ai++,"0x"+Ai.toString(16)}const Ri="RestConnection",Di={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oi{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko="projects/".concat(n,"/databases/").concat(s),this.qo=this.databaseId.database===Nt?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(s)}Qo(e,t,n,s,r){const i=Pi(),a=this.$o(e,t.toUriEncodedString());E(Ri,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(o,s,r);const{host:c}=new URL(a),u=(0,l.zJ)(c);return this.Ko(e,a,o,n,u).then((t=>(E(Ri,"Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw C(Ri,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t}))}Wo(e,t,n,s,r,i){return this.Qo(e,t,n,s,r)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+j,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=Di[e];return"".concat(this.Lo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Li{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const Mi="WebChannelConnection";class Ui extends Oi{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,s,r){const i=Pi();return new Promise(((r,a)=>{const o=new d;o.setWithCredentials(!0),o.listenOnce(m.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case p.NO_ERROR:const t=o.getResponseJson();E(Mi,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),r(t);break;case p.TIMEOUT:E(Mi,"RPC '".concat(e,"' ").concat(i," timed out")),a(new L(O.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=o.getStatus();if(E(Mi,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(t)>=0?t:O.UNKNOWN}(t.status);a(new L(e,t.message))}else a(new L(O.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(O.UNAVAILABLE,"Connection failed."));break;default:A(9055,{s_:e,streamId:i,o_:o.getLastErrorCode(),__:o.getLastError()})}}finally{E(Mi,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(s);E(Mi,"RPC '".concat(e,"' ").concat(i," sending request:"),s),o.send(t,"POST",l,n,15)}))}a_(e,t,n){const s=Pi(),r=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=y(),a=v(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Uo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=r.join("");E(Mi,"Creating RPC '".concat(e,"' stream ").concat(s,": ").concat(c),o);const u=i.createWebChannel(c,o);let d=!1,m=!1;const p=new Li({Go:t=>{m?E(Mi,"Not sending because RPC '".concat(e,"' stream ").concat(s," is closed:"),t):(d||(E(Mi,"Opening RPC '".concat(e,"' stream ").concat(s," transport.")),u.open(),d=!0),E(Mi,"RPC '".concat(e,"' stream ").concat(s," sending:"),t),u.send(t))},zo:()=>u.close()}),b=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return b(u,h.EventType.OPEN,(()=>{m||(E(Mi,"RPC '".concat(e,"' stream ").concat(s," transport opened.")),p.t_())})),b(u,h.EventType.CLOSE,(()=>{m||(m=!0,E(Mi,"RPC '".concat(e,"' stream ").concat(s," transport closed")),p.r_())})),b(u,h.EventType.ERROR,(t=>{m||(m=!0,C(Mi,"RPC '".concat(e,"' stream ").concat(s," transport errored. Name:"),t.name,"Message:",t.message),p.r_(new L(O.UNAVAILABLE,"The operation could not be completed")))})),b(u,h.EventType.MESSAGE,(t=>{var n;if(!m){const r=t.data[0];R(!!r,16349);const i=r,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){E(Mi,"RPC '".concat(e,"' stream ").concat(s," received error:"),a);const t=a.status;let n=function(e){const t=Os[e];if(void 0!==t)return Us(t)}(t),r=a.message;void 0===n&&(n=O.INTERNAL,r="Unknown error status: "+t+" with message "+a.message),m=!0,p.r_(new L(n,r)),u.close()}else E(Mi,"RPC '".concat(e,"' stream ").concat(s," received:"),r),p.i_(r)}})),b(a,g.STAT_EVENT,(t=>{t.stat===f.PROXY?E(Mi,"RPC '".concat(e,"' stream ").concat(s," detected buffering proxy")):t.stat===f.NOPROXY&&E(Mi,"RPC '".concat(e,"' stream ").concat(s," detected no buffering proxy"))})),setTimeout((()=>{p.n_()}),0),p}}function Fi(){return"undefined"!=typeof document?document:null}function Vi(e){return new sr(e,!0)}class zi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=s,this.l_=r,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-n);s>0&&E("ExponentialBackoff","Backing off for ".concat(s," ms (base delay: ").concat(this.h_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const Bi="PersistentStream";class qi{constructor(e,t,n,s,r,i,a,o){this.bi=e,this.R_=n,this.V_=s,this.connection=r,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new zi(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(_(t.toString()),_("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===O.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,s]=e;this.m_===t&&this.B_(n,s)}),(t=>{e((()=>{const e=new L(O.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return E(Bi,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(E(Bi,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hi extends qi{constructor(e,t,n,s,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,i),this.serializer=r}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(R(void 0===t||"string"==typeof t,58123),ut.fromBase64String(t||"")):(R(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ut.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?O.UNKNOWN:Us(e.code);return new L(t,e.message||"")}(a);n=new Ys(s,r,i,o||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=mr(e,s.document.name),i=lr(s.document.updateTime),a=s.document.createTime?lr(s.document.createTime):se.min(),o=new Gt({mapValue:{fields:s.document.fields}}),l=Yt.newFoundDocument(r,i,a,o),c=s.targetIds||[],u=s.removedTargetIds||[];n=new Gs(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=mr(e,s.document),i=s.readTime?lr(s.readTime):se.min(),a=Yt.newNoDocument(r,i),o=s.removedTargetIds||[];n=new Gs([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=mr(e,s.document),i=s.removedTargetIds||[];n=new Gs([],i,r,null)}else{if(!("filter"in t))return A(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:s=0,unchangedNames:r}=e,i=new Ds(s,r),a=e.targetId;n=new Qs(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return se.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?se.min():t.readTime?lr(t.readTime):se.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=gr(this.serializer),t.addTarget=function(e,t){let n;const s=t.target;if(n=Nn(s)?{documents:wr(e,s)}:{query:xr(e,s).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ar(e,t.resumeToken);const s=rr(e,t.expectedCount);null!==s&&(n.expectedCount=s)}else if(t.snapshotVersion.compareTo(se.min())>0){n.readTime=ir(e,t.snapshotVersion.toTimestamp());const s=rr(e,t.expectedCount);null!==s&&(n.expectedCount=s)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return A(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=gr(this.serializer),t.removeTarget=e,this.F_(t)}}class Wi extends qi{constructor(e,t,n,s,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,i),this.serializer=r}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return R(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,R(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){R(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(R(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?lr(e.updateTime):lr(t);return n.isEqual(se.min())&&(n=lr(t)),new fs(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=lr(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=gr(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>br(this.serializer,e)))};this.F_(t)}}class Ki{}class Gi extends Ki{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,a]=r;return this.connection.Qo(e,ur(t,n),s,i,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(O.UNKNOWN,e.toString())}))}Wo(e,t,n,s,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.Wo(e,ur(t,n),s,a,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(O.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class Qi{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ea?(_(t),this.ea=!1):E("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const Yi="RemoteStore";class $i{constructor(e,t,n,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=r,this.ca.vo((e=>{n.enqueueAndForget((async()=>{ia(this)&&(E(Yi,"Restarting streams for network reachability change."),await async function(e){const t=D(e);t.aa.add(4),await Xi(t),t.la.set("Unknown"),t.aa.delete(4),await Ji(t)}(this))}))})),this.la=new Qi(n,s)}}async function Ji(e){if(ia(e))for(const t of e.ua)await t(!0)}async function Xi(e){for(const t of e.ua)await t(!1)}function Zi(e,t){const n=D(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),ra(n)?sa(n):ja(n).b_()&&ta(n,t))}function ea(e,t){const n=D(e),s=ja(n);n._a.delete(t),s.b_()&&na(n,t),0===n._a.size&&(s.b_()?s.v_():ia(n)&&n.la.set("Unknown"))}function ta(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(se.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ja(e).U_(t)}function na(e,t){e.ha.Ke(t),ja(e).K_(t)}function sa(e){e.ha=new Js({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),ja(e).start(),e.la.ta()}function ra(e){return ia(e)&&!ja(e).w_()&&e._a.size>0}function ia(e){return 0===D(e).aa.size}function aa(e){e.ha=void 0}async function oa(e){e.la.set("Online")}async function la(e){e._a.forEach(((t,n)=>{ta(e,t)}))}async function ca(e,t){aa(e),ra(e)?(e.la.ia(t),sa(e)):e.la.set("Unknown")}async function ua(e,t,n){if(e.la.set("Online"),t instanceof Ys&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const s of t.targetIds)e._a.has(s)&&(await e.remoteSyncer.rejectListen(s,n),e._a.delete(s),e.ha.removeTarget(s))}(e,t)}catch(n){E(Yi,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await da(e,n)}else if(t instanceof Gs?e.ha.Xe(t):t instanceof Qs?e.ha.ot(t):e.ha.nt(t),!n.isEqual(se.min()))try{const t=await bi(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,s)=>{if(n.resumeToken.approximateByteSize()>0){const r=e._a.get(s);r&&e._a.set(s,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const s=e._a.get(t);if(!s)return;e._a.set(t,s.withResumeToken(ut.EMPTY_BYTE_STRING,s.snapshotVersion)),na(e,t);const r=new Pr(s.target,t,n,s.sequenceNumber);ta(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){E(Yi,"Failed to raise snapshot:",t),await da(e,t)}}async function da(e,t,n){if(!xe(t))throw t;e.aa.add(1),await Xi(e),e.la.set("Offline"),n||(n=()=>bi(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{E(Yi,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await Ji(e)}))}function ha(e,t){return t().catch((n=>da(e,n,t)))}async function ma(e){const t=D(e),n=Ta(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:Ne;for(;pa(t);)try{const e=await xi(t.localStore,s);if(null===e){0===t.oa.length&&n.v_();break}s=e.batchId,fa(t,e)}catch(e){await da(t,e)}ga(t)&&va(t)}function pa(e){return ia(e)&&e.oa.length<10}function fa(e,t){e.oa.push(t);const n=Ta(e);n.b_()&&n.W_&&n.G_(t.mutations)}function ga(e){return ia(e)&&!Ta(e).w_()&&e.oa.length>0}function va(e){Ta(e).start()}async function ya(e){Ta(e).H_()}async function ba(e){const t=Ta(e);for(const n of e.oa)t.G_(n.mutations)}async function wa(e,t,n){const s=e.oa.shift(),r=Ps.from(s,t,n);await ha(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await ma(e)}async function xa(e,t){t&&Ta(e).W_&&await async function(e,t){if(function(e){return Ms(e)&&e!==O.ABORTED}(t.code)){const n=e.oa.shift();Ta(e).D_(),await ha(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ma(e)}}(e,t),ga(e)&&va(e)}async function ka(e,t){const n=D(e);n.asyncQueue.verifyOperationInProgress(),E(Yi,"RemoteStore received new credentials");const s=ia(n);n.aa.add(3),await Xi(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await Ji(n)}async function Na(e,t){const n=D(e);t?(n.aa.delete(2),await Ji(n)):t||(n.aa.add(2),await Xi(n),n.la.set("Unknown"))}function ja(e){return e.Pa||(e.Pa=function(e,t,n){const s=D(e);return s.Y_(),new Hi(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(e.datastore,e.asyncQueue,{jo:oa.bind(null,e),Jo:la.bind(null,e),Zo:ca.bind(null,e),Q_:ua.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),ra(e)?sa(e):e.la.set("Unknown")):(await e.Pa.stop(),aa(e))}))),e.Pa}function Ta(e){return e.Ta||(e.Ta=function(e,t,n){const s=D(e);return s.Y_(),new Wi(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:ya.bind(null,e),Zo:xa.bind(null,e),z_:ba.bind(null,e),j_:wa.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await ma(e)):(await e.Ta.stop(),e.oa.length>0&&(E(Yi,"Stopping write stream with ".concat(e.oa.length," pending writes")),e.oa=[]))}))),e.Ta}class Sa{constructor(e,t,n,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=r,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,r){const i=Date.now()+n,a=new Sa(e,t,i,s,r);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ea(e,t){if(_("AsyncQueue","".concat(t,": ").concat(e)),xe(e))return new L(O.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _a{static emptySet(e){return new _a(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ce.comparator(t.key,n.key):(e,t)=>ce.comparator(e.key,t.key),this.keyedMap=Hn(),this.sortedSet=new st(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _a))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(!e.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _a;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ca{constructor(){this.Ia=new st(ce.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):A(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ia{constructor(e,t,n,s,r,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=r,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,s,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Ia(e,t,_a.emptySet(t),i,n,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}class Aa{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class Pa{constructor(){this.queries=Ra(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=D(e),s=n.queries;n.queries=Ra(),s.forEach(((e,n)=>{for(const s of n.Ra)s.onError(t)}))}(this,new L(O.ABORTED,"Firestore shutting down"))}}function Ra(){return new Vn((e=>Dn(e)),Rn)}async function Da(e,t){const n=D(e);let s=3;const r=t.query;let i=n.queries.get(r);i?!i.Va()&&t.ma()&&(s=2):(i=new Aa,s=t.ma()?0:1);try{switch(s){case 0:i.Aa=await n.onListen(r,!0);break;case 1:i.Aa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=Ea(e,"Initialization of query '".concat(On(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,i),i.Ra.push(t),t.ga(n.onlineState),i.Aa&&t.pa(i.Aa)&&Ua(n)}async function Oa(e,t){const n=D(e),s=t.query;let r=3;const i=n.queries.get(s);if(i){const e=i.Ra.indexOf(t);e>=0&&(i.Ra.splice(e,1),0===i.Ra.length?r=t.ma()?0:1:!i.Va()&&t.ma()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function La(e,t){const n=D(e);let s=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(r)&&(s=!0);t.Aa=r}}s&&Ua(n)}function Ma(e,t,n){const s=D(e),r=s.queries.get(t);if(r)for(const i of r.Ra)i.onError(n);s.queries.delete(t)}function Ua(e){e.fa.forEach((e=>{e.next()}))}var Fa,Va;(Va=Fa||(Fa={})).ya="default",Va.Cache="cache";class za{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ia(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Fa.Cache}}class Ba{constructor(e){this.key=e}}class qa{constructor(e){this.key=e}}class Ha{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Jn(),this.mutatedKeys=Jn(),this.Ua=Un(e),this.Ka=new _a(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new Ca,s=t?t.Ka:this.Ka;let r=t?t.mutatedKeys:this.mutatedKeys,i=s,a=!1;const o="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,l="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((e,t)=>{const c=s.get(e),u=Ln(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.ja(c,u)||(n.track({type:2,doc:u}),m=!0,(o&&this.Ua(u,o)>0||l&&this.Ua(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(u?(i=i.add(u),r=h?r.add(e):r.delete(e)):(i=i.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Ka:i,za:n,ys:a,mutatedKeys:r}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const r=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const i=e.za.da();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),s=null!=s&&s;const a=t&&!s?this.Ja():[],o=0===this.$a.size&&this.current&&!s?1:0,l=o!==this.Qa;return this.Qa=o,0!==i.length||l?{snapshot:new Ia(this.query,e.Ka,r,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Ca,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Jn(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new qa(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new Ba(n))})),t}Xa(e){this.qa=e.Ns,this.$a=Jn();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Ia.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const Wa="SyncEngine";class Ka{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ga{constructor(e){this.key=e,this.tu=!1}}class Qa{constructor(e,t,n,s,r,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=i,this.nu={},this.ru=new Vn((e=>Dn(e)),Rn),this.iu=new Map,this.su=new Set,this.ou=new st(ce.comparator),this._u=new Map,this.au=new ti,this.uu={},this.cu=new Map,this.lu=zr.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function Ya(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=vo(e);let r;const i=s.ru.get(t);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.eu()):r=await Ja(s,t,n,!0),r}async function $a(e,t){const n=vo(e);await Ja(n,t,!0,!1)}async function Ja(e,t,n,s){const r=await ki(e.localStore,In(t)),i=r.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return s&&(o=await Xa(e,t,i,"current"===a,r.resumeToken)),e.isPrimaryClient&&n&&Zi(e.remoteStore,r),o}async function Xa(e,t,n,s,r){e.Pu=(t,n,s)=>async function(e,t,n,s){let r=t.view.Ga(n);r.ys&&(r=await ji(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ga(n,r)})));const i=s&&s.targetChanges.get(t.targetId),a=s&&null!=s.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,i,a);return uo(e,t.targetId,o.Ya),o.snapshot}(e,t,n,s);const i=await ji(e.localStore,t,!0),a=new Ha(t,i.Ns),o=a.Ga(i.documents),l=Ks.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==e.onlineState,r),c=a.applyChanges(o,e.isPrimaryClient,l);uo(e,n,c.Ya);const u=new Ka(t,n,a);return e.ru.set(t,u),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}async function Za(e,t,n){const s=D(e),r=s.ru.get(t),i=s.iu.get(r.targetId);if(i.length>1)return s.iu.set(r.targetId,i.filter((e=>!Rn(e,t)))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Ni(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&ea(s.remoteStore,r.targetId),lo(s,r.targetId)})).catch(ye)):(lo(s,r.targetId),await Ni(s.localStore,r.targetId,!0))}async function eo(e,t){const n=D(e),s=n.ru.get(t),r=n.iu.get(s.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ea(n.remoteStore,s.targetId))}async function to(e,t){const n=D(e);try{const e=await function(e,t){const n=D(e),s=t.snapshotVersion;let r=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Cs.newChangeBuffer({trackRemovals:!0});r=n.Ss;const a=[];t.targetChanges.forEach(((i,o)=>{const l=r.get(o);if(!l)return;a.push(n.ai.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.ai.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ut.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,s)),r=r.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=fi||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.ai.updateTargetData(e,c))}));let o=Bn(),l=Jn();if(t.documentUpdates.forEach((s=>{t.resolvedLimboDocuments.has(s)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,s))})),a.push(wi(e,i,t.documentUpdates).next((e=>{o=e.xs,l=e.Os}))),!s.isEqual(se.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,s)));a.push(t)}return be.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ss=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const s=n._u.get(t);s&&(R(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?s.tu=!0:e.modifiedDocuments.size>0?R(s.tu,14607):e.removedDocuments.size>0&&(R(s.tu,42227),s.tu=!1))})),await po(n,e,t)}catch(e){await ye(e)}}function no(e,t,n){const s=D(e);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const e=[];s.ru.forEach(((n,s)=>{const r=s.view.ga(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=D(e);n.onlineState=t;let s=!1;n.queries.forEach(((e,n)=>{for(const r of n.Ra)r.ga(t)&&(s=!0)})),s&&Ua(n)}(s.eventManager,t),e.length&&s.nu.Q_(e),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function so(e,t,n){const s=D(e);s.sharedClientState.updateQueryState(t,"rejected",n);const r=s._u.get(t),i=r&&r.key;if(i){let e=new st(ce.comparator);e=e.insert(i,Yt.newNoDocument(i,se.min()));const n=Jn().add(i),r=new Ws(se.min(),new Map,new st(Y),e,n);await to(s,r),s.ou=s.ou.remove(i),s._u.delete(t),mo(s)}else await Ni(s.localStore,t,!1).then((()=>lo(s,t,n))).catch(ye)}async function ro(e,t){const n=D(e),s=t.batch.batchId;try{const e=await function(e,t){const n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const s=t.batch.keys(),r=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,s){const r=n.batch,i=r.keys();let a=be.resolve();return i.forEach((e=>{a=a.next((()=>s.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);R(null!==i,48541),t.version.compareTo(i)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),s.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Jn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,s)))}))}(n.localStore,t);oo(n,s,null),ao(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await po(n,e)}catch(e){await ye(e)}}async function io(e,t,n){const s=D(e);try{const e=await function(e,t){const n=D(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let s;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(R(null!==t,37113),s=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,s))).next((()=>n.localDocuments.getDocuments(e,s)))}))}(s.localStore,t);oo(s,t,n),ao(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await po(s,e)}catch(n){await ye(n)}}function ao(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function oo(e,t,n){const s=D(e);let r=s.uu[s.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),s.uu[s.currentUser.toKey()]=r}}function lo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.iu.get(t))e.ru.delete(s),n&&e.nu.Tu(s,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||co(e,t)}))}function co(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(ea(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),mo(e))}function uo(e,t,n){for(const s of n)s instanceof Ba?(e.au.addReference(s.key,t),ho(e,s)):s instanceof qa?(E(Wa,"Document no longer in limbo: "+s.key),e.au.removeReference(s.key,t),e.au.containsKey(s.key)||co(e,s.key)):A(19791,{Iu:s})}function ho(e,t){const n=t.key,s=n.path.canonicalString();e.ou.get(n)||e.su.has(s)||(E(Wa,"New document in limbo: "+n),e.su.add(s),mo(e))}function mo(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new ce(ae.fromString(t)),s=e.lu.next();e._u.set(s,new Ga(n)),e.ou=e.ou.insert(n,s),Zi(e.remoteStore,new Pr(In(Sn(n.path)),s,"TargetPurposeLimboResolution",ke.le))}}async function po(e,t,n){const s=D(e),r=[],i=[],a=[];s.ru.isEmpty()||(s.ru.forEach(((e,o)=>{a.push(s.Pu(o,t,n).then((e=>{var t;if((e||n)&&s.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;s.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=di.Ps(o.targetId,e);i.push(t)}})))})),await Promise.all(a),s.nu.Q_(r),await async function(e,t){const n=D(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>be.forEach(t,(t=>be.forEach(t.ls,(s=>n.persistence.referenceDelegate.addReference(e,t.targetId,s))).next((()=>be.forEach(t.hs,(s=>n.persistence.referenceDelegate.removeReference(e,t.targetId,s)))))))))}catch(e){if(!xe(e))throw e;E(pi,"Failed to update sequence numbers: "+e)}for(const s of t){const e=s.targetId;if(!s.fromCache){const t=n.Ss.get(e),s=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(s);n.Ss=n.Ss.insert(e,r)}}}(s.localStore,i))}async function fo(e,t){const n=D(e);if(!n.currentUser.isEqual(t)){E(Wa,"User change. New user:",t.toKey());const e=await yi(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new L(O.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await po(n,e.Ms)}}function go(e,t){const n=D(e),s=n._u.get(t);if(s&&s.tu)return Jn().add(s.key);{let e=Jn();const s=n.iu.get(t);if(!s)return e;for(const t of s){const s=n.ru.get(t);e=e.unionWith(s.view.Wa)}return e}}function vo(e){const t=D(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=to.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=go.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=so.bind(null,t),t.nu.Q_=La.bind(null,t.eventManager),t.nu.Tu=Ma.bind(null,t.eventManager),t}function yo(e){const t=D(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ro.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=io.bind(null,t),t}class bo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vi(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return vi(this.persistence,new mi,e.initialUser,this.serializer)}Ru(e){return new oi(ci.Ei,this.serializer)}Au(e){return new Ei}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bo.provider={build:()=>new bo};class wo extends bo{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){R(this.persistence.referenceDelegate instanceof ui,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Kr(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new oi((e=>ui.Ei(e,t)),this.serializer)}}class xo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>no(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=fo.bind(null,this.syncEngine),await Na(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Pa}createDatastore(e){const t=Vi(e.databaseInfo.databaseId),n=function(e){return new Ui(e)}(e.databaseInfo);return function(e,t,n,s){return new Gi(e,t,n,s)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,s,r){return new $i(e,t,n,s,r)}(this.localStore,this.datastore,e.asyncQueue,(e=>no(this.syncEngine,e,0)),Ii.C()?new Ii:new _i)}createSyncEngine(e,t){return function(e,t,n,s,r,i,a){const o=new Qa(e,t,n,s,r,i);return a&&(o.hu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=D(e);E(Yi,"RemoteStore shutting down."),t.aa.add(5),await Xi(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}xo.provider={build:()=>new xo};class ko{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):_("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const No="FirestoreClient";class jo{constructor(e,t,n,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=N.UNAUTHENTICATED,this.clientId=Q.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,(async e=>{E(No,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(E(No,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ea(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function To(e,t){e.asyncQueue.verifyOperationInProgress(),E(No,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async e=>{s.isEqual(e)||(await yi(t.localStore,e),s=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function So(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Eo(e);E(No,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ka(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ka(t.remoteStore,n))),e._onlineComponents=t}async function Eo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){E(No,"Using user provided OfflineComponentProvider");try{await To(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;C("Error using user provided cache. Falling back to memory cache: "+n),await To(e,new bo)}}else E(No,"Using default OfflineComponentProvider"),await To(e,new wo(void 0));return e._offlineComponents}async function _o(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(E(No,"Using user provided OnlineComponentProvider"),await So(e,e._uninitializedComponentsProvider._online)):(E(No,"Using default OnlineComponentProvider"),await So(e,new xo))),e._onlineComponents}function Co(e){return _o(e).then((e=>e.syncEngine))}async function Io(e){const t=await _o(e),n=t.eventManager;return n.onListen=Ya.bind(null,t.syncEngine),n.onUnlisten=Za.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=$a.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eo.bind(null,t.syncEngine),n}function Ao(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new M;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,s,r){const i=new ko({next:o=>{i.yu(),t.enqueueAndForget((()=>Oa(e,a)));const l=o.docs.has(n);!l&&o.fromCache?r.reject(new L(O.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&s&&"server"===s.source?r.reject(new L(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),a=new za(Sn(n.path),i,{includeMetadataChanges:!0,Fa:!0});return Da(e,a)}(await Io(e),e.asyncQueue,t,n,s))),s.promise}function Po(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ro=new Map;function Do(e,t,n){if(!n)throw new L(O.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Oo(e){if(!ce.isDocumentKey(e))throw new L(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":A(12329,{type:typeof e})}function Mo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lo(e);throw new L(O.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const Uo="firestore.googleapis.com",Fo=!0;class Vo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new L(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uo,this.ssl=Fo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Fo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Fr;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<qr)throw new L(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,s){if(!0===t&&!0===s)throw new L(O.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Po(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new L(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new L(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new L(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zo{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"firstParty":return new q(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,(0,l.P1)("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ro.get(e);t&&(E("ComponentProvider","Removing Datastore"),Ro.delete(e),t.terminate())}(this),Promise.resolve()}}class Bo{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class qo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qo(this.firestore,e,this._key)}}class Ho extends Bo{constructor(e,t,n){super(e,t,Sn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qo(this.firestore,null,new ce(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function Wo(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];if(e=(0,l.Ku)(e),1===arguments.length&&(t=Q.newId()),Do("doc","path",t),e instanceof zo){const n=ae.fromString(t,...s);return Oo(n),new qo(e,null,new ce(n))}{if(!(e instanceof qo||e instanceof Ho))throw new L(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ae.fromString(t,...s));return Oo(n),new qo(e.firestore,e instanceof Ho?e.converter:null,new ce(n))}}const Ko="AsyncQueue";class Go{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new zi(this,"async_queue_retry"),this.ju=()=>{const e=Fi();e&&E(Ko,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=Fi();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Fi();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new M;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!xe(e))throw e;E(Ko,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,_("INTERNAL UNHANDLED ERROR: ",Qo(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=Sa.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(s),s}Ju(){this.Ku&&A(47125,{ec:Qo(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Qo(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Yo extends zo{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new Go,this._persistenceKey=(null==s?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Go(e),this._firestoreClient=void 0,await e}}}function $o(e,t){const n="object"==typeof e?e:(0,i.Sx)(),s="string"==typeof e?e:t||Nt,r=(0,i.j6)(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;e=Mo(e,zo);const i=(0,l.zJ)(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c="".concat(t,":").concat(n);a.host!==Uo&&a.host!==c&&C("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:s});if(!(0,l.bD)(u,o)&&(e._setSettings(u),i&&((0,l.gE)("https://".concat(c)),(0,l.P1)("Firestore",!0)),s.mockUserToken)){let t,n;if("string"==typeof s.mockUserToken)t=s.mockUserToken,n=N.MOCK_USER;else{t=(0,l.Fy)(s.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const i=s.mockUserToken.sub||s.mockUserToken.user_id;if(!i)throw new L(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new N(i)}e._authCredentials=new V(new U(t,n))}}(r,...e)}return r}function Jo(e){if(e._terminated)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Xo(e),e._firestoreClient}function Xo(e){var t,n,s;const r=e._freezeSettings(),i=function(e,t,n,s){return new kt(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Po(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(s=r.localCache)||void 0===s?void 0:s._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new jo(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(ut.fromBase64String(e))}catch(e){throw new L(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Zo(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class el{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let s=0;s<t.length;++s)if(0===t[s].length)throw new L(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tl{constructor(e){this._methodName=e}}class nl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}class sl{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const rl=/^__.*__$/;class il{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new js(e,this.data,t,this.fieldTransforms)}}function al(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A(40011,{oc:e})}}class ol{constructor(e,t,n,s,r,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,void 0===r&&this._c(),this.fieldTransforms=r||[],this.fieldMask=i||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ol(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ac({path:n,cc:!1});return s.lc(e),s}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ac({path:n,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return yl(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(al(this.oc)&&rl.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class ll{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vi(e)}dc(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ol({oc:e,methodName:t,Ec:n,path:le.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cl(e){const t=e._freezeSettings(),n=Vi(e._databaseId);return new ll(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ul(e,t,n,s,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.dc(i.merge||i.mergeFields?2:0,t,n,r);pl("Data must be an object, but it was:",a,s);const o=hl(s,a);let l,c;if(i.merge)l=new lt(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const s of i.mergeFields){const r=fl(t,s,n);if(!a.contains(r))throw new L(O.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));bl(e,r)||e.push(r)}l=new lt(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new il(new Gt(o),l,c)}function dl(e,t){if(ml(e=(0,l.Ku)(e)))return pl("Unsupported field value:",t,e),hl(e,t);if(e instanceof tl)return function(e,t){if(!al(t.oc))throw t.Tc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Tc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let s=0;for(const r of e){let e=dl(r,t.Pc(s));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),s++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ns(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ne.fromDate(e);return{timestampValue:ir(t.serializer,n)}}if(e instanceof ne){const n=new ne(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ir(t.serializer,n)}}if(e instanceof nl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zo)return{bytesValue:ar(t.serializer,e._byteString)};if(e instanceof qo){const n=t.databaseId,s=e.firestore._databaseId;if(!s.isEqual(n))throw t.Tc("Document reference is for database ".concat(s.projectId,"/").concat(s.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:cr(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof sl)return function(e,t){return{mapValue:{fields:{[Tt]:{stringValue:_t},[Ct]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return es(t.serializer,e)}))}}}}}}(e,t);throw t.Tc("Unsupported field value: ".concat(Lo(e)))}(e,t)}function hl(e,t){const n={};return nt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tt(e,((e,s)=>{const r=dl(s,t.uc(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function ml(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ne||e instanceof nl||e instanceof Zo||e instanceof qo||e instanceof tl||e instanceof sl)}function pl(e,t,n){if(!ml(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const s=Lo(n);throw"an object"===s?t.Tc(e+" a custom object"):t.Tc(e+" "+s)}}function fl(e,t,n){if((t=(0,l.Ku)(t))instanceof el)return t._internalPath;if("string"==typeof t)return vl(e,t);throw yl("Field path arguments must be of type string or ",e,!1,void 0,n)}const gl=new RegExp("[~\\*/\\[\\]]");function vl(e,t,n){if(t.search(gl)>=0)throw yl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new el(...t.split("."))._internalPath}catch(s){throw yl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function yl(e,t,n,s,r){const i=s&&!s.isEmpty(),a=void 0!==r;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(s)),a&&(l+=" in document ".concat(r)),l+=")"),new L(O.INVALID_ARGUMENT,o+e+l)}function bl(e,t){return e.some((e=>e.isEqual(t)))}class wl{constructor(e,t,n,s,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new qo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xl extends wl{data(){return super.data()}}function kl(e,t){return"string"==typeof t?vl(e,t):t instanceof el?t._internalPath:t._delegate._internalPath}class Nl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(It(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw A(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return tt(e,((e,s)=>{n[e]=this.convertValue(s,t)})),n}convertVectorValue(e){var t,n,s;const r=null===(s=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Ct].arrayValue)||void 0===n?void 0:n.values)||void 0===s?void 0:s.map((e=>mt(e.doubleValue)));return new sl(r)}convertGeoPoint(e){return new nl(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xt(e));default:return null}}convertTimestamp(e){const t=ht(e);return new ne(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ae.fromString(e);R(Ar(n),9688,{name:e});const s=new jt(n.get(1),n.get(3)),r=new ce(n.popFirst(5));return s.isEqual(t)||_("Document ".concat(r," contains a document reference within a different database (").concat(s.projectId,"/").concat(s.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function jl(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class Tl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sl extends wl{constructor(e,t,n,s,r,i){super(e,t,n,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new El(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(kl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class El extends Sl{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}function _l(e){e=Mo(e,qo);const t=Mo(e.firestore,Yo);return Ao(Jo(t),e._key).then((n=>Pl(t,e,n)))}class Cl extends Nl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qo(this.firestore,null,t)}}function Il(e,t,n){e=Mo(e,qo);const s=Mo(e.firestore,Yo),r=jl(e.converter,t,n);return Al(s,[ul(cl(s),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,gs.none())])}function Al(e,t){return function(e,t){const n=new M;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const s=yo(e);try{const e=await function(e,t){const n=D(e),s=ne.now(),r=t.reduce(((e,t)=>e.add(t.key)),Jn());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Bn(),l=Jn();return n.Cs.getEntries(e,r).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((r=>{i=r;const a=[];for(const e of t){const t=ks(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Ts(e.key,t,Qt(t.value.mapValue),gs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,s,a,t)})).next((t=>{a=t;const s=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,s)}))})).then((()=>({batchId:a.batchId,changes:Wn(i)})))}(s.localStore,t);s.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let s=e.uu[e.currentUser.toKey()];s||(s=new st(Y)),s=s.insert(t,n),e.uu[e.currentUser.toKey()]=s}(s,e.batchId,n),await po(s,e.changes),await ma(s.remoteStore)}catch(e){const t=Ea(e,"Failed to persist write");n.reject(t)}}(await Co(e),t,n))),n.promise}(Jo(e),t)}function Pl(e,t,n){const s=n.docs.get(t._key),r=new Cl(e);return new Sl(e,r,t._key,s,new Tl(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){j=e}(i.MF),(0,i.om)(new a.uA("firestore",((e,n)=>{let{instanceIdentifier:s,options:r}=n;const i=e.getProvider("app").getImmediate(),a=new Yo(new z(e.getProvider("auth-internal")),new W(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jt(e.options.projectId,t)}(i,s),i);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(x,k,e),(0,i.KO)(x,k,"esm2017")}()},529:(e,t,n)=>{n.d(t,{cY:()=>p,FA:()=>P,g:()=>A,dM:()=>I,u:()=>o,Uj:()=>a,p9:()=>G,Fy:()=>v,tD:()=>V,bD:()=>O,hp:()=>F,T9:()=>h,Tj:()=>u,yU:()=>d,XA:()=>m,mS:()=>l,Ku:()=>Q,ZQ:()=>x,sr:()=>j,zJ:()=>f,c1:()=>N,Im:()=>D,lT:()=>S,zW:()=>_,jZ:()=>k,lV:()=>T,nr:()=>E,gE:()=>g,Am:()=>M,I9:()=>U,P1:()=>w,eX:()=>C});const s=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&s+1<e.length&&56320===(64512&e.charCodeAt(s+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++s)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const t=e[r],i=r+1<e.length,a=i?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),s.push(n[c],n[u],n[d],n[h])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((31&r)<<6|63&i)}else if(r>239&&r<365){const i=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[s++]=String.fromCharCode(55296+(i>>10)),t[s++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[s++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const l=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==a||null==o||null==l)throw new i;const c=t<<2|a>>4;if(s.push(c),64!==o){const e=a<<4&240|o>>2;if(s.push(e),64!==l){const e=o<<6&192|l;s.push(e)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=s(e);return r.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return r.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const s=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),s]:[t.substring(0,n),s]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},m=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function f(e){return e.endsWith(".cloudworkstations.dev")}async function g(e){return(await fetch(e,{credentials:"include"})).ok}function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(i)),""].join(".")}const y={};let b=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!f(window.location.host)||y[e]===t||y[e]||b)return;function n(e){return"__firebase__banner__".concat(e)}y[e]=t;const s="__firebase__banner",r=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(y))y[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(s);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(s),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}r?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function N(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function j(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function S(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(s){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){try{return"object"===typeof indexedDB}catch(e){return!1}}function C(){return new Promise(((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function I(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class A extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),s=this.errors[e],r=s?function(e,t){return e.replace(R,((e,n)=>{const s=t[n];return null!=s?String(s):"<".concat(n,"?>")}))}(s,t):"Error",i="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new A(n,i,t)}}const R=/\{\$([^}]+)}/g;function D(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function O(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const n=e[r],i=t[r];if(L(n)&&L(i)){if(!O(n,i))return!1}else if(n!==i)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function L(e){return null!==e&&"object"===typeof e}function M(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function U(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,s]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(s)}})),t}function F(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function V(e,t){const n=new z(e,t);return n.subscribe.bind(n)}class z{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let s;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");s=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===s.next&&(s.next=B),void 0===s.error&&(s.error=B),void 0===s.complete&&(s.complete=B);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(e){}})),this.observers.push(s),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function B(){}const q=1e3,H=2,W=144e5,K=.5;function G(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:q)*Math.pow(t,e),s=Math.round(K*n*(Math.random()-.5)*2);return Math.min(W,n+s)}function Q(e){return e&&e._delegate?e._delegate:e}},555:(e,t,n)=>{function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function r(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{A:()=>o})},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var s=n(43),r=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,n,s,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,s){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,s){if(null===t||"undefined"===typeof t||function(e,t,n,s){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,s)&&(n=null),s||null===r?function(e){return!!d.call(p,e)||!d.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,s=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),i=s.stack.split("\n"),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||r[a]!==i[o]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case T:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=W(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),s=t.type;if(null!=n)"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(s&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),s=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=s&&(e.defaultValue=""+s)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var s=0===n.indexOf("--"),r=fe(n,t[n],s);"float"===n&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ne=null,je=null;function Te(e){if(e=br(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=xr(t),ke(e.stateNode,e.type,t))}}function Se(e){Ne?je?je.push(e):je=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=je;if(je=Ne=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function _e(e,t){return e(t)}function Ce(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return _e(e,t,n)}finally{Ie=!1,(null!==Ne||null!==je)&&(Ce(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var s=xr(n);if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Oe(e,t,n,s,r,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Ue=!1,Fe=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,s,r,i,a,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(s=r.return)){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return He(r),e;if(a===s)return He(r),t;a=a.sibling}throw Error(i(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=r.unstable_scheduleCallback,Qe=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,$e=r.unstable_requestPaint,Je=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,st=r.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~r;0!==o?s=dt(o):0!==(i&=a)&&(s=dt(i))}else 0!==(a=n&~r)?s=dt(a):0!==i&&(s=dt(i));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&s)&&(s|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)r=1<<(n=31-at(t)),s|=e[n],t&=~r;return s}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-at(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,Nt,jt,Tt,St=!1,Et=[],_t=null,Ct=null,It=null,At=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,s,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&kt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Mt(e){var t=yr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&kt(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);we=s,n.target.dispatchEvent(s),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){St=!1,null!==_t&&Ut(_t)&&(_t=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==It&&Ut(It)&&(It=null),At.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var s=Et[n];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==_t&&zt(_t,e),null!==Ct&&zt(Ct,e),null!==It&&zt(It,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(s=Rt[n]).blockedOn===e&&(s.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,s){var r=bt,i=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,s)}finally{bt=r,qt.transition=i}}function Kt(e,t,n,s){var r=bt,i=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,s)}finally{bt=r,qt.transition=i}}function Gt(e,t,n,s){if(Ht){var r=Yt(e,t,n,s);if(null===r)Hs(e,t,s,Qt,n),Ot(e,s);else if(function(e,t,n,s,r){switch(t){case"focusin":return _t=Lt(_t,e,t,n,s,r),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,s,r),!0;case"mouseover":return It=Lt(It,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return At.set(i,Lt(At.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Pt.set(i,Lt(Pt.get(i)||null,e,t,n,s,r)),!0}return!1}(r,e,t,n,s))s.stopPropagation();else if(Ot(e,s),4&t&&-1<Dt.indexOf(e)){for(;null!==r;){var i=br(r);if(null!==i&&xt(i),null===(i=Yt(e,t,n,s))&&Hs(e,t,s,Qt,n),i===r)break;r=i}null!==r&&s.stopPropagation()}else Hs(e,t,s,null,n)}}var Qt=null;function Yt(e,t,n,s){if(Qt=null,null!==(e=yr(e=xe(s))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,s=n.length,r="value"in Jt?Jt.value:Jt.textContent,i=r.length;for(e=0;e<s&&n[e]===r[e];e++);var a=s-e;for(t=1;t<=a&&n[s-t]===r[i-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function rn(e){function t(t,n,s,r,i){for(var a in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),dn=M({},cn,{view:0,detail:0}),hn=rn(dn),mn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=rn(mn),fn=rn(M({},mn,{dataTransfer:0})),gn=rn(M({},dn,{relatedTarget:0})),vn=rn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),wn=rn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Tn(){return jn}var Sn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=rn(Sn),_n=rn(M({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),In=rn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(An),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,s){Se(s),0<(t=Ks(t,"onChange")).length&&(n=new un("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Us(e,0)}function Yn(e){if(G(wr(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var es=document.createElement("div");es.setAttribute("oninput","return;"),Zn="function"===typeof es.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function ts(){Kn&&(Kn.detachEvent("onpropertychange",ns),Gn=Kn=null)}function ns(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),Ae(Qn,t)}}function ss(e,t,n){"focusin"===e?(ts(),Gn=n,(Kn=t).attachEvent("onpropertychange",ns)):"focusout"===e&&ts()}function rs(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function is(e,t){if("click"===e)return Yn(t)}function as(e,t){if("input"===e||"change"===e)return Yn(t)}var os="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ls(e,t){if(os(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!d.call(t,r)||!os(e[r],t[r]))return!1}return!0}function cs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function us(e,t){var n,s=cs(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cs(s)}}function ds(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ds(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hs(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function ms(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ps(e){var t=hs(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ds(n.ownerDocument.documentElement,n)){if(null!==s&&ms(n))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=void 0===s.end?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=us(n,i);var a=us(n,s);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fs=u&&"documentMode"in document&&11>=document.documentMode,gs=null,vs=null,ys=null,bs=!1;function ws(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bs||null==gs||gs!==Q(s)||("selectionStart"in(s=gs)&&ms(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ys&&ls(ys,s)||(ys=s,0<(s=Ks(vs,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=gs)))}function xs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ks={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Ns={},js={};function Ts(e){if(Ns[e])return Ns[e];if(!ks[e])return e;var t,n=ks[e];for(t in n)if(n.hasOwnProperty(t)&&t in js)return Ns[e]=n[t];return e}u&&(js=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);var Ss=Ts("animationend"),Es=Ts("animationiteration"),_s=Ts("animationstart"),Cs=Ts("transitionend"),Is=new Map,As="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(e,t){Is.set(e,t),l(t,[e])}for(var Rs=0;Rs<As.length;Rs++){var Ds=As[Rs];Ps(Ds.toLowerCase(),"on"+(Ds[0].toUpperCase()+Ds.slice(1)))}Ps(Ss,"onAnimationEnd"),Ps(Es,"onAnimationIteration"),Ps(_s,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(Cs,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ls=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function Ms(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,s,r,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(s,t,void 0,e),e.currentTarget=null}function Us(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;Ms(r,o,c),i=l}else for(a=0;a<s.length;a++){if(l=(o=s[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;Ms(r,o,c),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fs(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var s=e+"__bubble";n.has(s)||(qs(t,e,2,!1),n.add(s))}function Vs(e,t,n){var s=0;t&&(s|=4),qs(n,e,s,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[zs]){e[zs]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ls.has(t)||Vs(t,!1,e),Vs(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zs]||(t[zs]=!0,Vs("selectionchange",!1,t))}}function qs(e,t,n,s){switch($t(t)){case 1:var r=Wt;break;case 4:r=Kt;break;default:r=Gt}n=r.bind(null,t,n,e),r=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),s?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hs(e,t,n,s,r){var i=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var a=s.tag;if(3===a||4===a){var o=s.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===a)for(a=s.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==o;){if(null===(a=yr(o)))return;if(5===(l=a.tag)||6===l){s=i=a;continue e}o=o.parentNode}}s=s.return}Ae((function(){var s=i,r=xe(n),a=[];e:{var o=Is.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Ss:case Es:case _s:l=vn;break;case Cs:l=In;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var m,p=s;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Pe(p,h))&&u.push(Ws(p,f,m)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,r),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[pr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=s,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=s),l!==c)){if(u=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,f="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wr(l),m=null==c?o:wr(c),(o=new u(f,p+"leave",l,n,r)).target=d,o.relatedTarget=m,f=null,yr(r)===s&&((u=new u(h,p+"enter",c,n,r)).target=m,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,p=0,m=u=l;m;m=Gs(m))p++;for(m=0,f=h;f;f=Gs(f))m++;for(;0<p-m;)u=Gs(u),p--;for(;0<m-p;)h=Gs(h),m--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gs(u),h=Gs(h)}u=null}else u=null;null!==l&&Qs(a,o,l,u,!1),null!==c&&null!==d&&Qs(a,d,c,u,!0)}if("select"===(l=(o=s?wr(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(Hn(o))if(Jn)g=as;else{g=rs;var v=ss}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=is);switch(g&&(g=g(e,s))?Wn(a,g,n,r):(v&&v(e,o,s),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=s?wr(s):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gs=v,vs=s,ys=null);break;case"focusout":ys=vs=gs=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,ws(a,n,r);break;case"selectionchange":if(fs)break;case"keydown":case"keyup":ws(a,n,r)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Jt=r)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Ks(s,b)).length&&(b=new wn(b,e,null,n,r),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(s=Ks(s,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:s}),r.data=y))}Us(a,t)}))}function Ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ks(e,t){for(var n=t+"Capture",s=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Pe(e,n))&&s.unshift(Ws(e,i,r)),null!=(i=Pe(e,t))&&s.push(Ws(e,i,r))),e=e.return}return s}function Gs(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qs(e,t,n,s,r){for(var i=t._reactName,a=[];null!==n&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===s)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Pe(n,i))&&a.unshift(Ws(n,l,o)):r||null!=(l=Pe(n,i))&&a.push(Ws(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ys=/\r\n?/g,$s=/\u0000|\uFFFD/g;function Js(e){return("string"===typeof e?e:""+e).replace(Ys,"\n").replace($s,"")}function Xs(e,t,n){if(t=Js(t),Js(e)!==t&&n)throw Error(i(425))}function Zs(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(or)}:sr;function or(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===s)return e.removeChild(r),void Bt(t);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=r}while(n);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,mr="__reactProps$"+dr,pr="__reactContainer$"+dr,fr="__reactEvents$"+dr,gr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[hr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xr(e){return e[mr]||null}var kr=[],Nr=-1;function jr(e){return{current:e}}function Tr(e){0>Nr||(e.current=kr[Nr],kr[Nr]=null,Nr--)}function Sr(e,t){Nr++,kr[Nr]=e.current,e.current=t}var Er={},_r=jr(Er),Cr=jr(!1),Ir=Er;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Er;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(){Tr(Cr),Tr(_r)}function Dr(e,t,n){if(_r.current!==Er)throw Error(i(168));Sr(_r,t),Sr(Cr,n)}function Or(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return n;for(var r in s=s.getChildContext())if(!(r in t))throw Error(i(108,q(e)||"Unknown",r));return M({},n,s)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Ir=_r.current,Sr(_r,e),Sr(Cr,Cr.current),!0}function Mr(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=Or(e,t,Ir),s.__reactInternalMemoizedMergedChildContext=e,Tr(Cr),Tr(_r),Sr(_r,e)):Tr(Cr),Sr(Cr,n)}var Ur=null,Fr=!1,Vr=!1;function zr(e){null===Ur?Ur=[e]:Ur.push(e)}function Br(){if(!Vr&&null!==Ur){Vr=!0;var e=0,t=bt;try{var n=Ur;for(bt=1;e<n.length;e++){var s=n[e];do{s=s(!0)}while(null!==s)}Ur=null,Fr=!1}catch(r){throw null!==Ur&&(Ur=Ur.slice(e+1)),Ge(Ze,Br),r}finally{bt=t,Vr=!1}}return null}var qr=[],Hr=0,Wr=null,Kr=0,Gr=[],Qr=0,Yr=null,$r=1,Jr="";function Xr(e,t){qr[Hr++]=Kr,qr[Hr++]=Wr,Wr=e,Kr=t}function Zr(e,t,n){Gr[Qr++]=$r,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var s=$r;e=Jr;var r=32-at(s)-1;s&=~(1<<r),n+=1;var i=32-at(t)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,$r=1<<32-at(t)+r|n<<r|s,Jr=i+e}else $r=1<<i|n<<r|s,Jr=e}function ei(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ti(e){for(;e===Wr;)Wr=qr[--Hr],qr[Hr]=null,Kr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,$r=Gr[--Qr],Gr[Qr]=null}var ni=null,si=null,ri=!1,ii=null;function ai(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,si=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,si=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:$r,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,si=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ri){var t=si;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cr(n.nextSibling);var s=ni;t&&oi(e,t)?ai(s,n):(e.flags=-4097&e.flags|2,ri=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ri)return ui(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=si)){if(li(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=cr(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){si=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}si=null}}else si=ni?cr(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=si;e;)e=cr(e.nextSibling)}function mi(){si=ni=null,ri=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var fi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var r=s,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=2,n):s:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,s){return null===t||6!==t.tag?((t=Mc(n,e.mode,s)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,s){var i=n.type;return i===N?d(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&yi(i)===t.type)?((s=r(t,n.props)).ref=gi(e,t,n),s.return=e,s):((s=Dc(n.type,n.key,n.props,null,e.mode,s)).ref=gi(e,t,n),s.return=e,s)}function u(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,s)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,s,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,s,i)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case k:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function m(e,t,n,s){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(e,t,n,s):null;case k:return n.key===r?u(e,t,n,s):null;case P:return m(e,t,(r=n._init)(n._payload),s)}if(te(n)||O(n))return null!==r?null:d(e,t,n,s,null);vi(e,n)}return null}function p(e,t,n,s,r){if("string"===typeof s&&""!==s||"number"===typeof s)return l(t,e=e.get(n)||null,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case x:return c(t,e=e.get(null===s.key?n:s.key)||null,s,r);case k:return u(t,e=e.get(null===s.key?n:s.key)||null,s,r);case P:return p(e,t,n,(0,s._init)(s._payload),r)}if(te(s)||O(s))return d(t,e=e.get(n)||null,s,r,null);vi(t,s)}return null}function f(r,i,o,l){for(var c=null,u=null,d=i,f=i=0,g=null;null!==d&&f<o.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=m(r,d,o[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),i=a(v,i,f),null===u?c=v:u.sibling=v,u=v,d=g}if(f===o.length)return n(r,d),ri&&Xr(r,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(r,o[f],l))&&(i=a(d,i,f),null===u?c=d:u.sibling=d,u=d);return ri&&Xr(r,f),c}for(d=s(r,d);f<o.length;f++)null!==(g=p(d,r,f,o[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),i=a(g,i,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),ri&&Xr(r,f),c}function g(r,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=m(r,f,y.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(r,f),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,f=v}if(y.done)return n(r,f),ri&&Xr(r,g),u;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return ri&&Xr(r,g),u}for(f=s(r,f);!y.done;g++,y=l.next())null!==(y=p(f,r,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(r,e)})),ri&&Xr(r,g),u}return function e(s,i,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(s,u.sibling),(i=r(u,a.props.children)).return=s,s=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&yi(c)===u.type){n(s,u.sibling),(i=r(u,a.props)).ref=gi(s,u,a),i.return=s,s=i;break e}n(s,u);break}t(s,u),u=u.sibling}a.type===N?((i=Oc(a.props.children,s.mode,l,a.key)).return=s,s=i):((l=Dc(a.type,a.key,a.props,null,s.mode,l)).ref=gi(s,i,a),l.return=s,s=l)}return o(s);case k:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(s,i.sibling),(i=r(i,a.children||[])).return=s,s=i;break e}n(s,i);break}t(s,i),i=i.sibling}(i=Uc(a,s.mode,l)).return=s,s=i}return o(s);case P:return e(s,i,(u=a._init)(a._payload),l)}if(te(a))return f(s,i,a,l);if(O(a))return g(s,i,a,l);vi(s,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(s,i.sibling),(i=r(i,a)).return=s,s=i):(n(s,i),(i=Mc(a,s.mode,l)).return=s,s=i),o(s)):n(s,i)}}var wi=bi(!0),xi=bi(!1),ki=jr(null),Ni=null,ji=null,Ti=null;function Si(){Ti=ji=Ni=null}function Ei(e){var t=ki.current;Tr(ki),e._currentValue=t}function _i(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){Ni=e,Ti=ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(Ti!==e)if(e={context:e,memoizedValue:t,next:null},null===ji){if(null===Ni)throw Error(i(308));ji=e,Ni.dependencies={lanes:0,firstContext:e}}else ji=ji.next=e;return t}var Ai=null;function Pi(e){null===Ai?Ai=[e]:Ai.push(e)}function Ri(e,t,n,s){var r=t.interleaved;return null===r?(n.next=n,Pi(t)):(n.next=r.next,r.next=n),t.interleaved=n,Di(e,s)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&_l)){var r=s.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Di(e,n)}return null===(r=s.interleaved)?(t.next=t,Pi(s)):(t.next=r.next,r.next=t),s.interleaved=t,Di(e,n)}function Vi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zi(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,s){var r=e.updateQueue;Oi=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=r.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,m=o.eventTime;if((s&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=n,f.tag){case 1:if("function"===typeof(p=f.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,a|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(null!==r){if(s.callback=null,s=n,"function"!==typeof r)throw Error(i(191,r));r.call(s)}}}var Hi={},Wi=jr(Hi),Ki=jr(Hi),Gi=jr(Hi);function Qi(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(Sr(Gi,t),Sr(Ki,e),Sr(Wi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Tr(Wi),Sr(Wi,t)}function $i(){Tr(Wi),Tr(Ki),Tr(Gi)}function Ji(e){Qi(Gi.current);var t=Qi(Wi.current),n=le(t,e.type);t!==n&&(Sr(Ki,e),Sr(Wi,n))}function Xi(e){Ki.current===e&&(Tr(Wi),Tr(Ki))}var Zi=jr(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var sa=w.ReactCurrentDispatcher,ra=w.ReactCurrentBatchConfig,ia=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function ma(){throw Error(i(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!os(e[n],t[n]))return!1;return!0}function fa(e,t,n,s,r,a){if(ia=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sa.current=null===e||null===e.memoizedState?Xa:Za,e=n(s,r),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(i(301));a+=1,la=oa=null,t.updateQueue=null,sa.current=eo,e=n(s,r)}while(ua)}if(sa.current=Ja,t=null!==oa&&null!==oa.next,ia=0,la=oa=aa=null,ca=!1,t)throw Error(i(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var s=oa,r=s.baseQueue,a=n.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=s):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=s:c.next=l,os(s,t.memoizedState)||(bo=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,aa.lanes|=a,Ll|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=e(a,o.action),o=o.next}while(o!==r);os(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function ka(){}function Na(e,t){var n=aa,s=ya(),r=t(),a=!os(s.memoizedState,r);if(a&&(s.memoizedState=r,bo=!0),s=s.queue,Oa(Sa.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ia(9,Ta.bind(null,n,s,r,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&ia)||ja(n,t,r)}return r}function ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,s){t.value=n,t.getSnapshot=s,Ea(t)&&_a(e)}function Sa(e,t,n){return n((function(){Ea(t)&&_a(e)}))}function Ea(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!os(e,n)}catch(s){return!0}}function _a(e){var t=Di(e,1);null!==t&&nc(t,e,1,-1)}function Ca(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Ia(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Aa(){return ya().memoizedState}function Pa(e,t,n,s){var r=va();aa.flags|=e,r.memoizedState=Ia(1|t,n,void 0,void 0===s?null:s)}function Ra(e,t,n,s){var r=ya();s=void 0===s?null:s;var i=void 0;if(null!==oa){var a=oa.memoizedState;if(i=a.destroy,null!==s&&pa(s,a.deps))return void(r.memoizedState=Ia(t,n,i,s))}aa.flags|=e,r.memoizedState=Ia(1|t,n,i,s)}function Da(e,t){return Pa(8390656,8,e,t)}function Oa(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function Ma(e,t){return Ra(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Ua.bind(null,t,e),n)}function Va(){}function za(e,t){var n=ya();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&pa(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&pa(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(os(n,t)||(n=ft(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var s=ra.transition;ra.transition={};try{e(!1),t()}finally{bt=n,ra.transition=s}}function Wa(){return ya().memoizedState}function Ka(e,t,n){var s=tc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Ri(e,t,n,s))){nc(n,e,s,ec()),$a(n,t,s)}}function Ga(e,t,n){var s=tc(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,os(o,a)){var l=t.interleaved;return null===l?(r.next=r,Pi(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ri(e,t,r,s))&&(nc(n,e,s,r=ec()),$a(n,t,s))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Ii,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Xa={readContext:Ii,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=va();return t=void 0!==n?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ca,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ca(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=aa,r=va();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&ia)||ja(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Da(Sa.bind(null,s,a,e),[e]),s.flags|=2048,Ia(9,Ta.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Cl.identifierPrefix;if(ri){var n=Jr;t=":"+t+"R"+(n=($r&~(1<<32-at($r)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Ii,useCallback:za,useContext:Ii,useEffect:Oa,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Aa,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){return qa(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:ka,useSyncExternalStore:Na,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:Ii,useCallback:za,useContext:Ii,useEffect:Oa,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:xa,useRef:Aa,useState:function(){return xa(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],ya().memoizedState]},useMutableSource:ka,useSyncExternalStore:Na,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ec(),r=tc(e),i=Ui(s,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,r))&&(nc(t,e,r,s),Vi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ec(),r=tc(e),i=Ui(s,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,r))&&(nc(t,e,r,s),Vi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),s=tc(e),r=Ui(n,s);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Fi(e,r,s))&&(nc(t,e,s,n),Vi(t,e,s))}};function ro(e,t,n,s,r,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ls(n,s)||!ls(r,i))}function io(e,t,n){var s=!1,r=Er,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(r=Pr(t)?Ir:_r.current,i=(s=null!==(s=t.contextTypes)&&void 0!==s)?Ar(e,r):Er),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function ao(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Ii(i):(i=Pr(t)?Ir:_r.current,r.context=Ar(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&so.enqueueReplaceState(r,r.state,null),Bi(e,n,r,s),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",s=t;do{n+=z(s),s=s.return}while(s);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=s),uo(0,t)},n}function po(e,t,n){(n=Ui(-1,n)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof s&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new ho;var r=new Set;s.set(t,r)}else void 0===(r=s.get(t))&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,s,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ui(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,s){t.child=null===e?xi(t,null,n,s):wi(t,e.child,n,s)}function xo(e,t,n,s,r){n=n.render;var i=t.ref;return Ci(t,r),s=fa(e,t,n,s,i,r),n=ga(),null===e||bo?(ri&&n&&ei(t),t.flags|=1,wo(e,t,s,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ho(e,t,r))}function ko(e,t,n,s,r){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,No(e,t,i,s,r))}if(i=e.child,0===(e.lanes&r)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:ls)(a,s)&&e.ref===t.ref)return Ho(e,t,r)}return t.flags|=1,(e=Rc(i,s)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,s,r){if(null!==e){var i=e.memoizedProps;if(ls(i,s)&&e.ref===t.ref){if(bo=!1,t.pendingProps=s=i,0===(e.lanes&r))return t.lanes=e.lanes,Ho(e,t,r);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,n,s,r)}function jo(e,t,n){var s=t.pendingProps,r=s.children,i=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==i?i.baseLanes:n,Sr(Rl,Pl),Pl|=s}else null!==i?(s=i.baseLanes|n,t.memoizedState=null):s=n,Sr(Rl,Pl),Pl|=s;return wo(e,t,r,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,s,r){var i=Pr(n)?Ir:_r.current;return i=Ar(t,i),Ci(t,r),n=fa(e,t,n,s,i,r),s=ga(),null===e||bo?(ri&&s&&ei(t),t.flags|=1,wo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ho(e,t,r))}function Eo(e,t,n,s,r){if(Pr(n)){var i=!0;Lr(t)}else i=!1;if(Ci(t,r),null===t.stateNode)qo(e,t),io(t,n,s),oo(t,n,s,r),s=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=Ar(t,c=Pr(n)?Ir:_r.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==s||l!==c)&&ao(t,a,s,c),Oi=!1;var h=t.memoizedState;a.state=h,Bi(t,s,a,r),l=t.memoizedState,o!==s||h!==l||Cr.current||Oi?("function"===typeof u&&(no(t,n,u,s),l=t.memoizedState),(o=Oi||ro(t,n,o,s,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),a.props=s,a.state=l,a.context=c,s=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Mi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ii(l):l=Ar(t,l=Pr(n)?Ir:_r.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,s,l),Oi=!1,h=t.memoizedState,a.state=h,Bi(t,s,a,r);var p=t.memoizedState;o!==d||h!==p||Cr.current||Oi?("function"===typeof m&&(no(t,n,m,s),p=t.memoizedState),(c=Oi||ro(t,n,c,s,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(s,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(s,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),a.props=s,a.state=p,a.context=l,s=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return _o(e,t,n,s,i,r)}function _o(e,t,n,s,r,i){To(e,t);var a=0!==(128&t.flags);if(!s&&!a)return r&&Mr(t,n,!1),Ho(e,t,i);s=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=s.state,r&&Mr(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Dr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dr(0,t.context,!1),Yi(e,t.containerInfo)}function Io(e,t,n,s,r){return mi(),pi(r),t.flags|=256,wo(e,t,n,s),t.child}var Ao,Po,Ro,Do,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var s,r=t.pendingProps,a=Zi.current,o=!1,l=0!==(128&t.flags);if((s=l)||(s=(null===e||null!==e.memoizedState)&&0!==(2&a)),s?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Sr(Zi,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,r,0,null),e=Oc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(s=a.dehydrated))return function(e,t,n,s,r,a,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,s=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=s.fallback,r=t.mode,s=Lc({mode:"visible",children:s.children},r,0,null),(a=Oc(a,r,o,null)).flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,0!==(1&t.mode)&&wi(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===r.data){if(s=r.nextSibling&&r.nextSibling.dataset)var l=s.dgst;return s=l,Fo(e,t,o,s=co(a=Error(i(419)),s,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(s=Cl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(s.suspendedLanes|o))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Di(e,r),nc(s,e,r,-1))}return fc(),Fo(e,t,o,s=co(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,si=cr(r.nextSibling),ni=t,ri=!0,ii=null,null!==e&&(Gr[Qr++]=$r,Gr[Qr++]=Jr,Gr[Qr++]=Yr,$r=e.id,Jr=e.overflow,Yr=t),t=Uo(t,s.children),t.flags|=4096,t)}(e,t,l,r,s,a,n);if(o){o=r.fallback,l=t.mode,s=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==s?o=Rc(s,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,r}return e=(o=e.child).sibling,r=Rc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Uo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,s){return null!==s&&pi(s),wi(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),_i(e.return,t,n)}function zo(e,t,n,s,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Bo(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(wo(e,t,s.children,n),0!==(2&(s=Zi.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Sr(Zi,s),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),zo(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ea(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}zo(t,!0,n,null,i);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=14680064&r.subtreeFlags,s|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Go(e,t,n){var s=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Pr(t.type)&&Rr(),Ko(t),null;case 3:return s=t.stateNode,$i(),Tr(Cr),Tr(_r),na(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ac(ii),ii=null))),Po(e,t),Ko(t),null;case 5:Xi(t);var r=Qi(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(i(166));return Ko(t),null}if(e=Qi(Wi.current),di(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[hr]=t,s[mr]=a,e=0!==(1&t.mode),n){case"dialog":Fs("cancel",s),Fs("close",s);break;case"iframe":case"object":case"embed":Fs("load",s);break;case"video":case"audio":for(r=0;r<Os.length;r++)Fs(Os[r],s);break;case"source":Fs("error",s);break;case"img":case"image":case"link":Fs("error",s),Fs("load",s);break;case"details":Fs("toggle",s);break;case"input":$(s,a),Fs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Fs("invalid",s);break;case"textarea":re(s,a),Fs("invalid",s)}for(var l in ye(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?s.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xs(s.textContent,c,e),r=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xs(s.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fs("scroll",s)}switch(n){case"input":K(s),Z(s,a,!0);break;case"textarea":K(s),ae(s);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(s.onclick=Zs)}s=r,t.updateQueue=s,null!==s&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),"select"===n&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[hr]=t,e[mr]=s,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,s),n){case"dialog":Fs("cancel",e),Fs("close",e),r=s;break;case"iframe":case"object":case"embed":Fs("load",e),r=s;break;case"video":case"audio":for(r=0;r<Os.length;r++)Fs(Os[r],e);r=s;break;case"source":Fs("error",e),r=s;break;case"img":case"image":case"link":Fs("error",e),Fs("load",e),r=s;break;case"details":Fs("toggle",e),r=s;break;case"input":$(e,s),r=Y(e,s),Fs("invalid",e);break;case"option":default:r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=M({},s,{value:void 0}),Fs("invalid",e);break;case"textarea":re(e,s),r=se(e,s),Fs("invalid",e)}for(a in ye(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fs("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,s,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=s.value&&e.setAttribute("value",""+H(s.value));break;case"select":e.multiple=!!s.multiple,null!=(a=s.value)?ne(e,!!s.multiple,a,!1):null!=s.defaultValue&&ne(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(i(166));if(n=Qi(Gi.current),Qi(Wi.current),di(t)){if(s=t.stateNode,n=t.memoizedProps,s[hr]=t,(a=s.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xs(s.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xs(s.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[hr]=t,t.stateNode=s}return Ko(t),null;case 13:if(Tr(Zi),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==si&&0!==(1&t.mode)&&0===(128&t.flags))hi(),mi(),t.flags|=98560,a=!1;else if(a=di(t),null!==s&&null!==s.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[hr]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ii&&(ac(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Dl&&(Dl=3):fc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return $i(),Po(e,t),null===e&&Bs(t.stateNode.containerInfo),Ko(t),null;case 10:return Ei(t.type._context),Ko(t),null;case 19:if(Tr(Zi),null===(a=t.memoizedState))return Ko(t),null;if(s=0!==(128&t.flags),null===(l=a.rendering))if(s)Wo(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Wo(a,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)e=s,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Bl&&(t.flags|=128,s=!0,Wo(a,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=ea(l))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ri)return Ko(t),null}else 2*Je()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,s=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zi.current,Sr(Zi,s?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qo(e,t){switch(ti(t),t.tag){case 1:return Pr(t.type)&&Rr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $i(),Tr(Cr),Tr(_r),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Tr(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Tr(Zi),null;case 4:return $i(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Qi(Wi.current);var i,a=null;switch(n){case"input":r=Y(e,r),s=Y(e,s),a=[];break;case"select":r=M({},r,{value:void 0}),s=M({},s,{value:void 0}),a=[];break;case"textarea":r=se(e,r),s=se(e,s),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof s.onClick&&(e.onclick=Zs)}for(u in ye(n,s),n=null,r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=null!=r?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fs("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,s){n!==s&&(t.flags|=4)};var Yo=!1,$o=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(s){jc(e,t,s)}else n.current=null}function el(e,t,n){try{n()}catch(s){jc(e,t,s)}}var tl=!1;function nl(e,t,n){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&el(t,n,i)}r=r.next}while(r!==s)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[mr],delete t[fr],delete t[gr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zs));else if(4!==s&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:$o||Zo(n,t);case 6:var s=ul,r=dl;ul=null,hl(e,t,n),dl=r,null!==(ul=s)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Bt(e)):lr(ul,n.stateNode));break;case 4:s=ul,r=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=s,dl=r;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(s=n.updateQueue)&&null!==(s=s.lastEffect))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(n,t,a),r=r.next}while(r!==s)}hl(e,t,n);break;case 1:if(!$o&&(Zo(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){jc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($o=(s=$o)||null!==n.memoizedState,hl(e,t,n),$o=s):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var s=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var r=n[s];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));ml(a,o,r),ul=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){jc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&s){try{nl(3,e,e.return),sl(3,e)}catch(g){jc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:fl(t,e),vl(e),512&s&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),vl(e),512&s&&null!==n&&Zo(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){jc(e,e.return,g)}}if(4&s&&null!=(r=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(r,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):b(r,d,h,u)}switch(l){case"input":X(r,a);break;case"textarea":ie(r,a);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(r,!!a.multiple,p,!1):m!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[mr]=a}catch(g){jc(e,e.return,g)}}break;case 6:if(fl(t,e),vl(e),4&s){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(g){jc(e,e.return,g)}}break;case 3:if(fl(t,e),vl(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(zl=Je())),4&s&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||d,fl(t,e),$o=u):fl(t,e),vl(e),8192&s){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(m=Xo).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){s=m,n=m.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){jc(s,n,g)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){xl(h);continue}}null!==p?(p.return=m,Xo=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&s&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var r=s.stateNode;32&s.flags&&(he(r,""),s.flags&=-33),cl(e,ol(e),r);break;case 3:case 4:var a=s.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(i(161))}}catch(o){jc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,bl(e,t,n)}function bl(e,t,n){for(var s=0!==(1&e.mode);null!==Xo;){var r=Xo,i=r.child;if(22===r.tag&&s){var a=null!==r.memoizedState||Yo;if(!a){var o=r.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Yo;var c=$o;if(Yo=a,($o=l)&&!c)for(Xo=r;null!==Xo;)l=(a=Xo).child,22===a.tag&&null!==a.memoizedState?kl(r):null!==l?(l.return=a,Xo=l):kl(r);for(;null!==i;)Xo=i,bl(i,t,n),i=i.sibling;Xo=r,Yo=o,$o=c}wl(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Xo=i):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||sl(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!$o)if(null===n)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qi(t,a,s);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}$o||512&t.flags&&rl(t)}catch(m){jc(t,t.return,m)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function kl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){jc(t,n,l)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var r=t.return;try{s.componentDidMount()}catch(l){jc(t,r,l)}}var i=t.return;try{rl(t)}catch(l){jc(t,i,l)}break;case 5:var a=t.return;try{rl(t)}catch(l){jc(t,a,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Nl,jl=Math.ceil,Tl=w.ReactCurrentDispatcher,Sl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,_l=0,Cl=null,Il=null,Al=0,Pl=0,Rl=jr(0),Dl=0,Ol=null,Ll=0,Ml=0,Ul=0,Fl=null,Vl=null,zl=0,Bl=1/0,ql=null,Hl=!1,Wl=null,Kl=null,Gl=!1,Ql=null,Yl=0,$l=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&_l)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Al?Al&-Al:null!==fi.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,s){if(50<$l)throw $l=0,Jl=null,Error(i(185));vt(e,n,s),0!==(2&_l)&&e===Cl||(e===Cl&&(0===(2&_l)&&(Ml|=n),4===Dl&&oc(e,Al)),sc(e,s),1===n&&0===_l&&0===(1&t.mode)&&(Bl=Je()+500,Fr&&Br()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&s)||(r[a]=mt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var s=ht(e,e===Cl?Al:0);if(0===s)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fr=!0,zr(e)}(lc.bind(null,e)):zr(lc.bind(null,e)),ar((function(){0===(6&_l)&&Br()})),n=null;else{switch(wt(s)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=st}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Zl=0,0!==(6&_l))throw Error(i(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var s=ht(e,e===Cl?Al:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=gc(e,s);else{t=s;var r=_l;_l|=2;var a=pc();for(Cl===e&&Al===t||(ql=null,Bl=Je()+500,hc(e,t));;)try{yc();break}catch(l){mc(e,l)}Si(),Tl.current=a,_l=r,null!==Il?t=0:(Cl=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(s=r,t=ic(e,r))),1===t)throw n=Ol,hc(e,0),oc(e,s),sc(e,Je()),n;if(6===t)oc(e,s);else{if(r=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!os(i(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,s))&&(0!==(a=pt(e))&&(s=a,t=ic(e,a))),1===t))throw n=Ol,hc(e,0),oc(e,s),sc(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Vl,ql);break;case 3:if(oc(e,s),(130023424&s)===s&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=sr(xc.bind(null,e,Vl,ql),t);break}xc(e,Vl,ql);break;case 4:if(oc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-at(s);a=1<<o,(o=t[o])>r&&(r=o),s&=~a}if(s=r,10<(s=(120>(s=Je()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*jl(s/1960))-s)){e.timeoutHandle=sr(xc.bind(null,e,Vl,ql),s);break}xc(e,Vl,ql);break;default:throw Error(i(329))}}}return sc(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Ul,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),s=1<<n;e[n]=-1,t&=~s}}function lc(e){if(0!==(6&_l))throw Error(i(327));kc();var t=ht(e,0);if(0===(1&t))return sc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var s=pt(e);0!==s&&(t=s,n=ic(e,s))}if(1===n)throw n=Ol,hc(e,0),oc(e,t),sc(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vl,ql),sc(e,Je()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Bl=Je()+500,Fr&&Br())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&_l)&&kc();var t=_l;_l|=1;var n=El.transition,s=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=s,El.transition=n,0===(6&(_l=t))&&Br()}}function dc(){Pl=Rl.current,Tr(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Il)for(n=Il.return;null!==n;){var s=n;switch(ti(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Rr();break;case 3:$i(),Tr(Cr),Tr(_r),na();break;case 5:Xi(s);break;case 4:$i();break;case 13:case 19:Tr(Zi);break;case 10:Ei(s.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Il=e=Rc(e.current,null),Al=Pl=t,Dl=0,Ol=null,Ul=Ml=Ll=0,Vl=Fl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(s=(n=Ai[t]).interleaved)){n.interleaved=null;var r=s.next,i=n.pending;if(null!==i){var a=i.next;i.next=r,s.next=a}n.pending=s}Ai=null}return e}function mc(e,t){for(;;){var n=Il;try{if(Si(),sa.current=Ja,ca){for(var s=aa.memoizedState;null!==s;){var r=s.queue;null!==r&&(r.pending=null),s=s.next}ca=!1}if(ia=0,la=oa=aa=null,ua=!1,da=0,Sl.current=null,null===n||null===n.return){Dl=1,Ol=t,Il=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&fo(a,u,t),c=u;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(a,u,t),fc();break e}c=Error(i(426))}else if(ri&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pi(lo(c,l));break e}}a=c=lo(c,l),4!==Dl&&(Dl=2),null===Fl?Fl=[a]:Fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,mo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Ja,null===e?Ja:e}function fc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Cl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(Cl,Al)}function gc(e,t){var n=_l;_l|=2;var s=pc();for(Cl===e&&Al===t||(ql=null,hc(e,t));;)try{vc();break}catch(r){mc(e,r)}if(Si(),_l=n,Tl.current=s,null!==Il)throw Error(i(261));return Cl=null,Al=0,Dl}function vc(){for(;null!==Il;)bc(Il)}function yc(){for(;null!==Il&&!Ye();)bc(Il)}function bc(e){var t=Nl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):Il=t,Sl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Pl)))return void(Il=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Dl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var s=bt,r=El.transition;try{El.transition=null,bt=1,function(e,t,n,s){do{kc()}while(null!==Ql);if(0!==(6&_l))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}(e,a),e===Cl&&(Il=Cl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Cc(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=El.transition,El.transition=null;var o=bt;bt=1;var l=_l;_l|=4,Sl.current=null,function(e,t){if(er=Ht,ms(e=hs())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==a||0!==s&&3!==h.nodeType||(c=o+s),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===r&&(l=o),m===a&&++d===s&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){jc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=tl,tl=!1}(e,n),gl(n,e),ps(tr),Ht=!!er,tr=er=null,e.current=n,yl(n,e,r),$e(),_l=l,bt=o,El.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=r),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Je()),null!==t)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Jl?$l++:($l=0,Jl=e):$l=0,Br()}(e,t,n,s)}finally{El.transition=r,bt=s}return null}function kc(){if(null!==Ql){var e=wt(Yl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Ql)var s=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&_l))throw Error(i(331));var r=_l;for(_l|=4,Xo=e.current;null!==Xo;){var a=Xo,o=a.child;if(0!==(16&Xo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var m=(d=Xo).sibling,p=d.return;if(il(d),d===u){Xo=null;break}if(null!==m){m.return=p,Xo=m;break}Xo=p}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(a=Xo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xo=y;break e}Xo=a.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(k){jc(l,l.return,k)}if(l===o){Xo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xo=x;break e}Xo=l.return}}if(_l=r,Br(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(k){}s=!0}return s}finally{bt=n,El.transition=t}}return!1}function Nc(e,t,n){e=Fi(e,t=mo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),sc(e,t))}function jc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Kl||!Kl.has(s))){t=Fi(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function Tc(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Je()-zl?hc(e,0):Ul|=n),sc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Di(e,t))&&(vt(e,t,n),sc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}null!==s&&s.delete(t),Sc(e,n)}function Cc(e,t){return Ge(e,t)}function Ic(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,s){return new Ic(e,t,n,s)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,s,r,a){var o=2;if(s=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Oc(n.children,r,a,t);case j:o=8,r|=8;break;case T:return(e=Ac(12,n,t,2|r)).elementType=T,e.lanes=a,e;case C:return(e=Ac(13,n,t,r)).elementType=C,e.lanes=a,e;case I:return(e=Ac(19,n,t,r)).elementType=I,e.lanes=a,e;case R:return Lc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case E:o=9;break e;case _:o=11;break e;case A:o=14;break e;case P:o=16,s=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,r)).elementType=e,t.type=s,t.lanes=a,t}function Oc(e,t,n,s){return(e=Ac(7,e,s,t)).lanes=n,e}function Lc(e,t,n,s){return(e=Ac(22,e,s,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,s,r,i,a,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function zc(e){if(!e)return Er;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Pr(n))return Or(e,n,t)}return t}function Bc(e,t,n,s,r,i,a,o,l){return(e=Vc(n,s,!0,e,0,i,0,o,l)).context=zc(null),n=e.current,(i=Ui(s=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,r),e.current.lanes=r,vt(e,r,s),sc(e,s),e}function qc(e,t,n,s){var r=t.current,i=ec(),a=tc(r);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ui(i,a)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Fi(r,t,a))&&(nc(e,r,a,i),Vi(e,r,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Cr.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),mi();break;case 5:Ji(t);break;case 1:Pr(t.type)&&Lr(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;Sr(ki,s._currentValue),s._currentValue=r;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(Sr(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Sr(Zi,1&Zi.current),null!==(e=Ho(e,t,n))?e.sibling:null);Sr(Zi,1&Zi.current);break;case 19:if(s=0!==(n&t.childLanes),0!==(128&e.flags)){if(s)return Bo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(Zi,Zi.current),s)break;return null;case 22:case 23:return t.lanes=0,jo(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ri&&0!==(1048576&t.flags)&&Zr(t,Kr,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qo(e,t),e=t.pendingProps;var r=Ar(t,_r.current);Ci(t,n),r=fa(null,t,s,e,r,n);var a=ga();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(s)?(a=!0,Lr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Li(t),r.updater=so,t.stateNode=r,r._reactInternals=t,oo(t,s,e,n),t=_o(null,t,s,!0,a,n)):(t.tag=0,ri&&a&&ei(t),wo(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,s=(r=s._init)(s._payload),t.type=s,r=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(s),e=to(s,e),r){case 0:t=So(null,t,s,e,n);break e;case 1:t=Eo(null,t,s,e,n);break e;case 11:t=xo(null,t,s,e,n);break e;case 14:t=ko(null,t,s,to(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,So(e,t,s,r=t.elementType===s?r:to(s,r),n);case 1:return s=t.type,r=t.pendingProps,Eo(e,t,s,r=t.elementType===s?r:to(s,r),n);case 3:e:{if(Co(t),null===e)throw Error(i(387));s=t.pendingProps,r=(a=t.memoizedState).element,Mi(e,t),Bi(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Io(e,t,s,n,r=lo(Error(i(423)),t));break e}if(s!==r){t=Io(e,t,s,n,r=lo(Error(i(424)),t));break e}for(si=cr(t.stateNode.containerInfo.firstChild),ni=t,ri=!0,ii=null,n=xi(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),s===r){t=Ho(e,t,n);break e}wo(e,t,s,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ci(t),s=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,o=r.children,nr(s,r)?o=null:null!==a&&nr(s,a)&&(t.flags|=32),To(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Mo(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=wi(t,null,s,n):wo(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,xo(e,t,s,r=t.elementType===s?r:to(s,r),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,Sr(ki,s._currentValue),s._currentValue=o,null!==a)if(os(a.value,o)){if(a.children===r.children&&!Cr.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===s){if(1===a.tag){(c=Ui(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_i(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_i(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Ci(t,n),s=s(r=Ii(r)),t.flags|=1,wo(e,t,s,n),t.child;case 14:return r=to(s=t.type,t.pendingProps),ko(e,t,s,r=to(s.type,r),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:to(s,r),qo(e,t),t.tag=1,Pr(s)?(e=!0,Lr(t)):e=!1,Ci(t,n),io(t,s,r),oo(t,s,r,n),_o(null,t,s,!0,e,n);case 19:return Bo(e,t,n);case 22:return jo(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}qc(t,a,e,r)}else a=function(e,t,n,s,r){if(r){if("function"===typeof s){var i=s;s=function(){var e=Hc(a);i.call(e)}}var a=Bc(t,s,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[pr]=a.current,Bs(8===e.nodeType?e.parentNode:e),uc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof s){var o=s;s=function(){var e=Hc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pr]=l.current,Bs(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,s)})),l}(n,t,e,r,s);return Hc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pr]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),sc(t,Je()),0===(6&_l)&&(Bl=Je()+500,Br()))}break;case 13:uc((function(){var t=Di(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Di(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},jt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=xr(s);if(!r)throw Error(i(90));G(s),X(s,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[br,wr,xr,Se,Ee,cc]},tu={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{rt=su.inject(nu),it=su}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(i(200));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(i(299));var n=!1,s="",r=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,s,r),e[pr]=t.current,Bs(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(i(405));var s=null!=n&&n.hydratedSources||null,r=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,r,0,a,o),e[pr]=t.current,Bs(e),s)for(e=0;e<s.length;e++)r=(r=(n=s[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},799:(e,t,n)=>{n.d(t,{P2:()=>v});var s=n(555);const r=(e,t)=>t.some((t=>e instanceof t));let i,a;const o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.apply(g(this),n),f(o.get(this))}:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return f(e.apply(g(this),n))}:function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];const i=e.call(g(this),t,...s);return c.set(i,t.sort?t.sort():[t]),f(i)}}function p(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise(((t,n)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",i),e.removeEventListener("abort",i)},r=()=>{t(),s()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",i),e.addEventListener("abort",i)}));l.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",i)},r=()=>{t(f(e.result)),s()},i=()=>{n(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=p(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function v(e,t){let{blocked:n,upgrade:s,blocking:r,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=f(a);return s&&a.addEventListener("upgradeneeded",(e=>{s(f(a.result),e.oldVersion,e.newVersion,f(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const y=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=b.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!r&&!y.includes(n))return;const i=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return s&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),r&&t.done]))[0]};return w.set(t,i),i}h=(e=>(0,s.A)((0,s.A)({},e),{},{get:(t,n,s)=>x(t,n)||e.get(t,n,s),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(h)},812:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>r});var s=n(529);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new s.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),s=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(s)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:s});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&i.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(s))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(s){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===i?void 0:r),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch(a){}var r;return s||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},853:(e,t,n)=>{e.exports=n(234)},861:(e,t,n)=>{n.d(t,{Y:()=>o,checkEmailExists:()=>a});var s=n(555),r=n(472),i=n(910);async function a(e){try{if(!e)return!1;const t=e.toLowerCase().trim(),n=(0,r.H9)(i.db,"users_by_email",t);return(await(0,r.x7)(n)).exists()}catch(t){throw console.error("Error checking email existence:",t),t}}async function o(e,t){try{const n=t.name?"".concat(t.name.replace(/\s+/g,"_"),"_").concat(e.slice(-6)):e;if(t.email){const n=t.email.toLowerCase().trim(),s=(0,r.H9)(i.db,"users_by_email",n);await(0,r.BN)(s,{uid:e,email:n,createdAt:new Date})}const a=(0,r.H9)(i.db,"users",n);return await(0,r.BN)(a,(0,s.A)((0,s.A)({},t),{},{originalUid:e,displayDocId:n}),{merge:!0}),n}catch(n){throw console.error("Error saving user profile:",n),n}}},910:(e,t,n)=>{n.d(t,{j2:()=>it,db:()=>at});var s=n(52);(0,s.KO)("firebase","11.7.3","app");var r=n(443),i=n(529),a=n(812),o=n(799);const l="@firebase/installations",c="0.6.16",u=1e4,d="w:".concat(c),h="FIS_v2",m=36e5,p={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},f=new i.FA("installations","Installations",p);function g(e){return e instanceof i.g&&e.code.includes("request-failed")}function v(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function y(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function b(e,t){const n=(await t.json()).error;return f.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function w(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function x(e,t){let{refreshToken:n}=t;const s=w(e);return s.append("Authorization",function(e){return"".concat(h," ").concat(e)}(n)),s}async function k(e){const t=await e();return t.status>=500&&t.status<600?e():t}function N(e){return new Promise((t=>{setTimeout(t,e)}))}const j=/^[cdef][\w-]{21}$/;function T(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return j.test(t)?t:""}catch(e){return""}}function S(e){return"".concat(e.appName,"!").concat(e.appId)}const E=new Map;function _(e,t){const n=S(e);C(n,t),function(e,t){const n=A();n&&n.postMessage({key:e,fid:t});P()}(n,t)}function C(e,t){const n=E.get(e);if(n)for(const s of n)s(t)}let I=null;function A(){return!I&&"BroadcastChannel"in self&&(I=new BroadcastChannel("[Firebase] FID Change"),I.onmessage=e=>{C(e.data.key,e.data.fid)}),I}function P(){0===E.size&&I&&(I.close(),I=null)}const R="firebase-installations-store";let D=null;function O(){return D||(D=(0,o.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(R)}})),D}async function L(e,t){const n=S(e),s=(await O()).transaction(R,"readwrite"),r=s.objectStore(R),i=await r.get(n);return await r.put(t,n),await s.done,i&&i.fid===t.fid||_(e,t.fid),t}async function M(e){const t=S(e),n=(await O()).transaction(R,"readwrite");await n.objectStore(R).delete(t),await n.done}async function U(e,t){const n=S(e),s=(await O()).transaction(R,"readwrite"),r=s.objectStore(R),i=await r.get(n),a=t(i);return void 0===a?await r.delete(n):await r.put(a,n),await s.done,!a||i&&i.fid===a.fid||_(e,a.fid),a}async function F(e){let t;const n=await U(e.appConfig,(n=>{const s=function(e){const t=e||{fid:T(),registrationStatus:0};return B(t)}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(f.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:s}=e,{fid:r}=t;const i=v(n),a=w(n),o=s.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:r,authVersion:h,appId:n.appId,sdkVersion:d},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await k((()=>fetch(i,c)));if(u.ok){const e=await u.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:y(e.authToken)}}throw await b("Create Installation",u)}(e,t);return L(e.appConfig,n)}catch(n){throw g(n)&&409===n.customData.serverCode?await M(e.appConfig):await L(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:s}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:V(e)}:{installationEntry:t}}(e,s);return t=r.registrationPromise,r.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function V(e){let t=await z(e.appConfig);for(;1===t.registrationStatus;)await N(100),t=await z(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await F(e);return n||t}return t}function z(e){return U(e,(e=>{if(!e)throw f.create("installation-not-found");return B(e)}))}function B(e){return 1===(t=e).registrationStatus&&t.registrationTime+u<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function q(e,t){let{appConfig:n,heartbeatServiceProvider:s}=e;const r=function(e,t){let{fid:n}=t;return"".concat(v(e),"/").concat(n,"/authTokens:generate")}(n,t),i=x(n,t),a=s.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:d,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await k((()=>fetch(r,l)));if(c.ok){return y(await c.json())}throw await b("Generate Auth Token",c)}async function H(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=await U(e.appConfig,(s=>{if(!K(s))throw f.create("not-registered");const r=s.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+m}(e)}(r))return s;if(1===r.requestStatus)return t=async function(e,t){let n=await W(e.appConfig);for(;1===n.authToken.requestStatus;)await N(100),n=await W(e.appConfig);const s=n.authToken;return 0===s.requestStatus?H(e,t):s}(e,n),s;{if(!navigator.onLine)throw f.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(s);return t=async function(e,t){try{const n=await q(e,t),s=Object.assign(Object.assign({},t),{authToken:n});return await L(e.appConfig,s),n}catch(n){if(!g(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await L(e.appConfig,n)}else await M(e.appConfig);throw n}}(e,n),n}}));return t?await t:s.authToken}function W(e){return U(e,(e=>{if(!K(e))throw f.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+u<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function K(e){return void 0!==e&&2===e.registrationStatus}async function G(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await F(e);t&&await t}(n);return(await H(n,t)).token}function Q(e){return f.create("missing-app-config-values",{valueName:e})}const Y="installations",$=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Q("App Configuration");if(!e.name)throw Q("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Q(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,s.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},J=e=>{const t=e.getProvider("app").getImmediate(),n=(0,s.j6)(t,Y).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:s}=await F(t);return s?s.catch(console.error):H(t).catch(console.error),n.fid}(n),getToken:e=>G(n,e)}};(0,s.om)(new a.uA(Y,$,"PUBLIC")),(0,s.om)(new a.uA("installations-internal",J,"PRIVATE")),(0,s.KO)(l,c),(0,s.KO)(l,c,"esm2017");const X="analytics",Z="https://www.googletagmanager.com/gtag/js",ee=new r.Vy("@firebase/analytics"),te={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ne=new i.FA("analytics","Analytics",te);function se(e){if(!e.startsWith(Z)){const t=ne.create("invalid-gtag-resource",{gtagURL:e});return ee.warn(t.message),""}return e}function re(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function ie(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:se}),s=document.createElement("script"),r="".concat(Z,"?l=").concat(e,"&id=").concat(t);s.src=n?null===n||void 0===n?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function ae(e,t,n,s){return async function(r){try{for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("event"===r){const[s,r]=a;await async function(e,t,n,s,r){try{let i=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const s=await re(n);for(const n of e){const e=s.find((e=>e.measurementId===n)),r=e&&t[e.appId];if(!r){i=[];break}i.push(r)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",s,r||{})}catch(i){ee.error(i)}}(e,t,n,s,r)}else if("config"===r){const[r,i]=a;await async function(e,t,n,s,r,i){const a=s[r];try{if(a)await t[a];else{const e=(await re(n)).find((e=>e.measurementId===r));e&&await t[e.appId]}}catch(o){ee.error(o)}e("config",r,i)}(e,t,n,s,r,i)}else if("consent"===r){const[t,n]=a;e("consent",t,n)}else if("get"===r){const[t,n,s]=a;e("get",t,n,s)}else if("set"===r){const[t]=a;e("set",t)}else e(r,...a)}catch(l){ee.error(l)}}}const oe=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function le(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe,n=arguments.length>2?arguments[2]:void 0;const{appId:s,apiKey:r,measurementId:i}=e.options;if(!s)throw ne.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw ne.create("no-api-key")}const a=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new de;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),ue({appId:s,apiKey:r,measurementId:i},a,o,t)}async function ue(e,t,n){let{throttleEndTimeMillis:s,backoffCount:r}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:oe;var o;const{appId:l,measurementId:c}=e;try{await function(e,t){return new Promise(((n,s)=>{const r=Math.max(t-Date.now(),0),i=setTimeout(n,r);e.addEventListener((()=>{clearTimeout(i),s(ne.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,s)}catch(u){if(c)return ee.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===u||void 0===u?void 0:u.message,"]")),{appId:l,measurementId:c};throw u}try{const t=await async function(e){var t;const{appId:n,apiKey:s}=e,r={method:"GET",headers:le(s)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(i,r);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw ne.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(l),t}catch(u){const t=u;if(!function(e){if(!(e instanceof i.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(a.deleteThrottleMetadata(l),c)return ee.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:l,measurementId:c};throw u}const s=503===Number(null===(o=null===t||void 0===t?void 0:t.customData)||void 0===o?void 0:o.httpStatus)?(0,i.p9)(r,a.intervalMillis,30):(0,i.p9)(r,a.intervalMillis),d={throttleEndTimeMillis:Date.now()+s,backoffCount:r+1};return a.setThrottleMetadata(l,d),ee.debug("Calling attemptFetch again in ".concat(s," millis")),ue(e,d,n,a)}}class de{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let he,me;function pe(e){me=e}function fe(e){he=e}async function ge(e,t,n,s,r,a,o){var l;const c=ce(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ee.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>ee.error(e))),t.push(c);const u=async function(){if(!(0,i.zW)())return ee.warn(ne.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,i.eX)()}catch(e){return ee.warn(ne.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?s.getId():void 0)),[d,h]=await Promise.all([c,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Z)&&n.src.includes(e))return n;return null})(a)||ie(a,d.measurementId),me&&(r("consent","default",me),pe(void 0)),r("js",new Date);const m=null!==(l=null===o||void 0===o?void 0:o.config)&&void 0!==l?l:{};return m.origin="firebase",m.update=!0,null!=h&&(m.firebase_id=h),r("config",d.measurementId,m),he&&(r("set",he),fe(void 0)),d.measurementId}class ve{constructor(e){this.app=e}_delete(){return delete ye[this.app.options.appId],Promise.resolve()}}let ye={},be=[];const we={};let xe,ke,Ne="dataLayer",je="gtag",Te=!1;function Se(e,t,n){!function(){const e=[];if((0,i.sr)()&&e.push("This is a browser extension environment."),(0,i.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=ne.create("invalid-analytics-context",{errorInfo:t});ee.warn(n.message)}}();const s=e.options.appId;if(!s)throw ne.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ne.create("no-api-key");ee.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ye[s])throw ne.create("already-exists",{id:s});if(!Te){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ne);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,s,r){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[s].push(arguments)};return window[r]&&"function"===typeof window[r]&&(i=window[r]),window[r]=ae(i,e,t,n),{gtagCore:i,wrappedGtag:window[r]}}(ye,be,we,Ne,je);ke=e,xe=t,Te=!0}ye[s]=ge(e,be,we,t,xe,Ne,n);return new ve(e)}function Ee(e,t,n,s){e=(0,i.Ku)(e),async function(e,t,n,s,r){if(r&&r.global)e("event",n,s);else{const r=await t;e("event",n,Object.assign(Object.assign({},s),{send_to:r}))}}(ke,ye[e.app.options.appId],t,n,s).catch((e=>ee.error(e)))}const _e="@firebase/analytics",Ce="0.10.15";(0,s.om)(new a.uA(X,((e,t)=>{let{options:n}=t;return Se(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),(0,s.om)(new a.uA("analytics-internal",(function(e){try{const t=e.getProvider(X).getImmediate();return{logEvent:(e,n,s)=>Ee(t,e,n,s)}}catch(t){throw ne.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),(0,s.KO)(_e,Ce),(0,s.KO)(_e,Ce,"esm2017");var Ie=n(267),Ae=n(472);const Pe="firebasestorage.googleapis.com",Re="storageBucket";class De extends i.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Me(e),"Firebase Storage: ".concat(t," (").concat(Me(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,De.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Me(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Oe,Le;function Me(e){return"storage/"+e}function Ue(){return new De(Oe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Fe(){return new De(Oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ve(){return new De(Oe.CANCELED,"User canceled the upload/download.")}function ze(e){return new De(Oe.INVALID_ARGUMENT,e)}function Be(){return new De(Oe.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Oe||(Oe={}));class qe{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=qe.makeFromUrl(e,t)}catch(r){return new qe(e,"")}if(""===n.path)return n;throw s=e,new De(Oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.");var s}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+s+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(s,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===Pe?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(s,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],s=t.regex.exec(e);if(s){const e=s[t.indices.bucket];let r=s[t.indices.path];r||(r=""),n=new qe(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new De(Oe.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class He{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function We(e,t,n,s){if(s<t)throw ze("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(s>n)throw ze("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Ke(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){n=n+(t(s)+"="+t(e[s]))+"&"}return n=n.slice(0,-1),n}function Ge(e,t){const n=e>=500&&e<600,s=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||s||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Le||(Le={}));class Qe{constructor(e,t,n,s,r,i,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Ye(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const s=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(s),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(s),this.pendingConnection_=null;const t=n.getErrorCode()===Le.NO_ERROR,r=n.getStatus();if(!t||Ge(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Le.ABORT;return void e(!1,new Ye(!1,null,t))}const i=-1!==this.successCodes_.indexOf(r);e(!0,new Ye(i,n))}))},t=(e,t)=>{const n=this.resolve_,s=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());void 0!==e?n(e):n()}catch(i){s(i)}else if(null!==r){const e=Ue();e.serverResponse=r.getErrorText(),this.errorCallback_?s(this.errorCallback_(r,e)):s(e)}else if(t.canceled){s(this.appDelete_?Be():Ve())}else{s(Fe())}};this.canceled_?t(0,new Ye(!1,null,!0)):this.backoffId_=function(e,t,n){let s=1,r=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(null,n)}}function d(t){r=setTimeout((()=>{r=null,e(m,l())}),t)}function h(){i&&clearTimeout(i)}function m(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;s<64&&(s*=2),1===o?(o=2,i=0):i=1e3*(s+Math.random()),d(i)}let p=!1;function f(e){p||(p=!0,h(),c||(null!==r?(e||(o=2),clearTimeout(r),d(0)):e||(o=1)))}return d(0),i=setTimeout((()=>{a=!0,f(!0)}),n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ye{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function $e(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Je{constructor(e,t){this._service=e,this._location=t instanceof qe?t:qe.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Je(e,t)}get root(){const e=new qe(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $e(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new qe(this._location.bucket,e);return new Je(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new De(Oe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Xe(e,t){const n=null===t||void 0===t?void 0:t[Re];return null==n?null:qe.makeFromBucketSpec(n,e)}class Ze{constructor(e,t,n,s,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=r,this._isUsingEmulator=i,this._bucket=null,this._host=Pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?qe.makeFromBucketSpec(s,this._host):Xe(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=qe.makeFromBucketSpec(this._url,e):this._bucket=Xe(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){We("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){We("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Je(this,e)}_makeRequest(e,t,n,s){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new He(Be());{const i=function(e,t,n,s,r,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Ke(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,s),new Qe(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a,o)}(e,this._appId,n,s,t,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const et="@firebase/storage",tt="0.13.10",nt="storage";function st(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ze(r,i,a,n,s.MF)}(0,s.om)(new a.uA(nt,st,"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(et,tt,""),(0,s.KO)(et,tt,"esm2017");const rt=(0,s.Wp)({apiKey:"AIzaSyDu0zh_z4DSdWIvO-jMtGy0NXUrwwvbEfw",authDomain:"tasklio-b8336.firebaseapp.com",projectId:"tasklio-b8336",storageBucket:"tasklio-b8336.firebasestorage.app",messagingSenderId:"438026561395",appId:"1:438026561395:web:d4827a6c58768a4c39c706",measurementId:"G-9W6DZXE5ZT"}),it=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();e=(0,i.Ku)(e);const t=(0,s.j6)(e,X);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,s.j6)(e,X);if(n.isInitialized()){const e=n.getImmediate();if((0,i.bD)(t,n.getOptions()))return e;throw ne.create("already-initialized")}const r=n.initialize({options:t})}(e)}(rt),(0,Ie.xI)(rt)),at=(0,Ae.aU)(rt);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,i.Ku)(e),(0,i.P1)("Storage",!1);const n=(0,s.j6)(e,nt).getImmediate({identifier:t}),r=(0,i.yU)("storage");r&&function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const r=(0,i.zJ)(t);r&&((0,i.gE)("https://".concat(e.host)),(0,i.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:a}=s;a&&(e._overrideAuthToken="string"===typeof a?a:(0,i.Fy)(a,e.app.options.projectId))}(e,t,n,s)}(n,...r)}(rt)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s,r=n(43),i=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const o="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,s){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function p(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:c=!1}=r,m=i.history,p=s.Pop,f=null,g=v();function v(){return(m.state||{idx:null}).idx}function y(){p=s.Pop;let e=v(),t=null==e?null:e-g;g=e,f&&f({action:p,location:w.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:h(e);return l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,m.replaceState(a({},m.state,{idx:g}),""));let w={get action(){return p},get location(){return e(i,m)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(o,y),f=e,()=>{i.removeEventListener(o,y),f=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=s.Push;let r=d(w.location,e,t);n&&n(r,e),g=v()+1;let a=u(r,g),o=w.createHref(r);try{m.pushState(a,"",o)}catch(l){i.location.assign(o)}c&&f&&f({action:p,location:w.location,delta:1})},replace:function(e,t){p=s.Replace;let r=d(w.location,e,t);n&&n(r,e),g=v();let i=u(r,g),a=w.createHref(r);m.replaceState(i,"",a),c&&f&&f({action:p,location:w.location,delta:0})},go:e=>m.go(e)};return w}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){void 0===n&&(n="/");let s=I(("string"===typeof t?m(t):t).pathname||"/",n);if(null==s)return null;let r=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let i=null;for(let a=0;null==i&&a<r.length;++a)i=E(r[a],C(s));return i}function v(e,t,n,s){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===s&&(s="");let r=(e,r,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(s),'Absolute route path "'+a.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(s.length));let o=D([s,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let s of y(e.path))r(e,t,s);else r(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===s.length)return r?[i,""]:[i];let a=y(s.join("/")),o=[];return o.push(...a.map((e=>""===e?i:[i,e].join("/")))),r&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:\w+$/,w=3,x=2,k=1,N=10,j=-2,T=e=>"*"===e;function S(e,t){let n=e.split("/"),s=n.length;return n.some(T)&&(s+=j),t&&(s+=x),n.filter((e=>!T(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?k:N)),s)}function E(e,t){let{routesMeta:n}=e,s={},r="/",i=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(s,c.params);let u=e.route;i.push({params:s,pathname:D([r,c.pathname]),pathnameBase:O(D([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=D([r,c.pathnameBase]))}return i}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(s.push(t),"/([^\\/]+)")));e.endsWith("*")?(s.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let i=new RegExp(r,t?void 0:"i");return[i,s]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return c(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o[n]||"",t),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function C(e){try{return decodeURI(e)}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function A(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t,n,s){let r;void 0===s&&(s=!1),"string"===typeof e?r=m(e):(r=a({},e),l(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let i,o=""===e||""===r.pathname,c=o?"/":r.pathname;if(s||null==c)i=n;else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:s="",hash:r=""}="string"===typeof e?m(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:L(s),hash:M(r)}}(r,i),d=c&&"/"!==c&&c.endsWith("/"),h=(o||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],V=(new Set(F),["get",...F]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z.apply(this,arguments)}const B=r.createContext(null);const q=r.createContext(null);const H=r.createContext(null);const W=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const G=r.createContext(null);function Q(){return null!=r.useContext(W)}function Y(){return Q()||l(!1),r.useContext(W).location}function $(e){r.useContext(H).static||r.useLayoutEffect(e)}function J(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=oe(ie.UseNavigateStable),t=ce(ae.UseNavigateStable),n=r.useRef(!1);return $((()=>{n.current=!0})),r.useCallback((function(s,r){void 0===r&&(r={}),n.current&&("number"===typeof s?e.navigate(s):e.navigate(s,z({fromRouteId:t},r)))}),[e,t])}():function(){Q()||l(!1);let e=r.useContext(B),{basename:t,navigator:n}=r.useContext(H),{matches:s}=r.useContext(K),{pathname:i}=Y(),a=JSON.stringify(P(s).map((e=>e.pathnameBase))),o=r.useRef(!1);return $((()=>{o.current=!0})),r.useCallback((function(s,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof s)return void n.go(s);let l=R(s,JSON.parse(a),i,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:D([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[t,n,a,i,e])}()}function X(e,t){let{relative:n}=void 0===t?{}:t,{matches:s}=r.useContext(K),{pathname:i}=Y(),a=JSON.stringify(P(s).map((e=>e.pathnameBase)));return r.useMemo((()=>R(e,JSON.parse(a),i,"path"===n)),[e,a,i,n])}function Z(e,t,n){Q()||l(!1);let{navigator:i}=r.useContext(H),{matches:a}=r.useContext(K),o=a[a.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let d,h=Y();if(t){var p;let e="string"===typeof t?m(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||l(!1),d=e}else d=h;let f=d.pathname||"/",v=g(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});let y=re(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:D([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n);return t&&y?r.createElement(W.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:s.Pop}},y):y}function ee(){let e=function(){var e;let t=r.useContext(G),n=le(ae.UseRouteError),s=ce(ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[s]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const te=r.createElement(ee,null);class ne extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:s}=e,i=r.useContext(B);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},s)}function re(e,t,n){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var i;if(null==(i=n)||!i.errors)return null;e=n.matches}let a=e,o=null==(s=n)?void 0:s.errors;if(null!=o){let e=a.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,s,i)=>{let l=s.route.id?null==o?void 0:o[s.route.id]:null,c=null;n&&(c=s.route.errorElement||te);let u=t.concat(a.slice(0,i+1)),d=()=>{let t;return t=l?c:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(se,{match:s,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===i)?r.createElement(ne,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var ie,ae;function oe(e){let t=r.useContext(B);return t||l(!1),t}function le(e){let t=r.useContext(q);return t||l(!1),t}function ce(e){let t=function(){let e=r.useContext(K);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(ie||(ie={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(ae||(ae={}));function ue(e){let{to:t,replace:n,state:s,relative:i}=e;Q()||l(!1);let{matches:a}=r.useContext(K),{pathname:o}=Y(),c=J(),u=R(t,P(a).map((e=>e.pathnameBase)),o,"path"===i),d=JSON.stringify(u);return r.useEffect((()=>c(JSON.parse(d),{replace:n,state:s,relative:i})),[c,d,i,n,s]),null}function de(e){l(!1)}function he(e){let{basename:t="/",children:n=null,location:i,navigationType:a=s.Pop,navigator:o,static:c=!1}=e;Q()&&l(!1);let u=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:u,navigator:o,static:c})),[u,o,c]);"string"===typeof i&&(i=m(i));let{pathname:h="/",search:p="",hash:f="",state:g=null,key:v="default"}=i,y=r.useMemo((()=>{let e=I(h,u);return null==e?null:{location:{pathname:e,search:p,hash:f,state:g,key:v},navigationType:a}}),[u,h,p,f,g,v,a]);return null==y?null:r.createElement(H.Provider,{value:d},r.createElement(W.Provider,{children:n,value:y}))}function me(e){let{children:t,location:n}=e;return Z(fe(t),n)}var pe;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(pe||(pe={}));new Promise((()=>{}));r.Component;function fe(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,s)=>{if(!r.isValidElement(e))return;let i=[...t,s];if(e.type===r.Fragment)return void n.push.apply(n,fe(e.props.children,i));e.type!==de&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=fe(e.props.children,i)),n.push(a)})),n}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ge.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}const ye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function be(e){let{basename:t,children:n,window:s}=e,i=r.useRef();var a;null==i.current&&(i.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),p((function(e,t){let{pathname:n,search:s,hash:r}=e.location;return d("",{pathname:n,search:s,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,a)));let o=i.current,[l,c]=r.useState({action:o.action,location:o.location});return r.useLayoutEffect((()=>o.listen(c)),[o]),r.createElement(he,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}const we="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=r.forwardRef((function(e,t){let n,{onClick:s,relative:i,reloadDocument:a,replace:o,state:c,target:u,to:d,preventScrollReset:m}=e,p=ve(e,ye),{basename:f}=r.useContext(H),g=!1;if("string"===typeof d&&xe.test(d)&&(n=d,we))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=I(t.pathname,f);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(b){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||l(!1);let{basename:s,navigator:i}=r.useContext(H),{hash:a,pathname:o,search:c}=X(e,{relative:n}),u=o;return"/"!==s&&(u="/"===o?s:D([s,o])),i.createHref({pathname:u,search:c,hash:a})}(d,{relative:i}),y=function(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o}=void 0===t?{}:t,l=J(),c=Y(),u=X(e,{relative:o});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==s?s:h(c)===h(u);l(e,{replace:n,state:i,preventScrollReset:a,relative:o})}}),[c,l,u,s,i,n,e,a,o])}(d,{replace:o,state:c,target:u,preventScrollReset:m,relative:i});return r.createElement("a",ge({},p,{href:n||v,onClick:g||a?s:function(e){s&&s(e),e.defaultPrevented||y(e)},ref:t,target:u}))}));var Ne,je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ne||(Ne={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));const Te=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{offset:n=0,delay:s=10,behavior:r="smooth"}=t;setTimeout((()=>{const t=document.getElementById(e);if(!t)return;const s=t.getBoundingClientRect(),i=s.height,a=window.innerHeight,o=window.scrollY+s.top,l=(i<a?o-(a-i)/2:o)-n;window.scrollTo({top:l,behavior:r})}),s)};var Se=n(555),Ee=n(267),_e=n(472),Ce=n(910);var Ie=n(579);const Ae=(0,r.createContext)(),Pe=()=>{const e=(0,r.useContext)(Ae);if(void 0===e)throw new Error("useUser must be used within a UserProvider");return e},Re=e=>{let{children:t}=e;const[n,s]=(0,r.useState)(null),[i,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=localStorage.getItem("user");if(e)try{s(JSON.parse(e))}catch(r){console.error("Failed to parse user data:",r),localStorage.removeItem("user")}const t=(n=async e=>{if(e)try{const{data:t,error:n}=await(async e=>{try{var t;const n=await(0,_e.x7)((0,_e.H9)(Ce.db,"users",e));if(n.exists())return{data:n.data()};const s=await Ce.db.collection("users").where("originalUid","==",e).limit(1).get();return s.empty?{data:{name:"User",email:null===(t=Ce.j2.currentUser)||void 0===t?void 0:t.email}}:{data:s.docs[0].data()}}catch(n){return console.error("Error fetching user profile:",n),{error:n}}})(e.uid);if(t){const n=Object.entries(t).reduce(((e,t)=>{let[n,s]=t;return e[n.replace(/_([a-z])/g,((e,t)=>t.toUpperCase()))]=s,e}),{}),r=(0,Se.A)({id:e.uid,email:e.email,emailVerified:e.emailVerified},n);s(r),localStorage.setItem("user",JSON.stringify(r))}}catch(r){console.error("Error fetching user data:",r)}else s(null),localStorage.removeItem("user");a(!1)},(0,Ee.hg)(Ce.j2,n));var n;return()=>{t&&t()}}),[]);const c={user:n,loading:i,showRegistration:o,loginUser:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s((0,Se.A)((0,Se.A)({},e),t)),localStorage.setItem("user",JSON.stringify((0,Se.A)((0,Se.A)({},e),t))),l(!1)},logoutUser:async()=>{try{await(0,Ee.CI)(Ce.j2),s(null),localStorage.removeItem("user")}catch(e){console.error("Logout error:",e)}},toggleRegistration:()=>{l(!o)},updateUserProfile:e=>{const t=(0,Se.A)((0,Se.A)({},n),e);return s(t),localStorage.setItem("user",JSON.stringify(t)),t},updateUserData:e=>{s((t=>t?(0,Se.A)((0,Se.A)({},t),e):e)),n&&localStorage.setItem("user",JSON.stringify((0,Se.A)((0,Se.A)({},n),e)))}};return(0,Ie.jsx)(Ae.Provider,{value:c,children:t})},De=()=>{const[e,t]=(0,r.useState)(!1),[n,s]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),{user:o,logoutUser:l}=Pe();(0,r.useEffect)((()=>{const t=()=>{const e=window.scrollY>20;e!==n&&s(e)};return window.addEventListener("scroll",t),document.body.style.overflow=e?"hidden":"",()=>{window.removeEventListener("scroll",t),document.body.style.overflow=""}}),[n,e]);const c=e=>{t(!1),Te(e,{offset:80})},u=()=>o?o.firstName?o.firstName.charAt(0).toUpperCase():o.name?o.name.charAt(0).toUpperCase():o.email?o.email.charAt(0).toUpperCase():"U":"";return(0,r.useEffect)((()=>{const e=e=>{const t=document.getElementById("profile-dropdown-container");t&&!t.contains(e.target)&&a(!1)};return i&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i]),(0,Ie.jsx)("header",{className:"landing-header ".concat(n?"scrolled":""),children:(0,Ie.jsxs)("div",{className:"container",children:[(0,Ie.jsx)("div",{className:"logo-container",children:(0,Ie.jsxs)(ke,{to:"/",className:"logo",children:[(0,Ie.jsx)("div",{className:"logo-icon",children:"T"}),(0,Ie.jsx)("div",{className:"logo-text",children:"Tasklio"})]})}),(0,Ie.jsxs)("button",{className:"mobile-menu-toggle ".concat(e?"active":""),onClick:()=>t(!e),"aria-label":"Toggle mobile menu",children:[(0,Ie.jsx)("span",{className:"menu-bar"}),(0,Ie.jsx)("span",{className:"menu-bar"}),(0,Ie.jsx)("span",{className:"menu-bar"})]}),(0,Ie.jsxs)("nav",{className:"nav-menu ".concat(e?"open":""),children:[(0,Ie.jsxs)("ul",{className:"landing-nav-list",children:[(0,Ie.jsx)("li",{className:"landing-nav-item",children:(0,Ie.jsx)("button",{onClick:()=>c("landing-features"),className:"nav-link",children:"Features"})}),(0,Ie.jsx)("li",{className:"landing-nav-item",children:(0,Ie.jsx)("button",{onClick:()=>c("how-it-works"),className:"nav-link",children:"How It Works"})}),(0,Ie.jsx)("li",{className:"landing-nav-item",children:(0,Ie.jsx)("button",{onClick:()=>c("testimonials"),className:"nav-link",children:"Testimonials"})}),(0,Ie.jsx)("li",{className:"landing-nav-item",children:(0,Ie.jsx)("button",{onClick:()=>c("pricing"),className:"nav-link",children:"Pricing"})}),(0,Ie.jsx)("li",{className:"landing-nav-item",children:(0,Ie.jsx)("button",{onClick:()=>c("faq"),className:"nav-link",children:"FAQ"})}),(0,Ie.jsx)("li",{className:"landing-nav-item",children:(0,Ie.jsx)(ke,{to:"/about",className:"nav-link nav-button",onClick:()=>t(!1),children:"About"})})]}),(0,Ie.jsx)("div",{className:"header-actions",children:o?(0,Ie.jsxs)("div",{id:"profile-dropdown-container",className:"profile-container",children:[(0,Ie.jsx)("button",{className:"profile-button",onClick:()=>a(!i),"aria-label":"User profile",children:(0,Ie.jsx)("div",{className:"user-avatar",style:{backgroundColor:o.color||"#5b5ef4"},children:u()})}),i&&(0,Ie.jsxs)("div",{className:"profile-dropdown",children:[(0,Ie.jsxs)("div",{className:"dropdown-user-info",children:[(0,Ie.jsx)("div",{className:"dropdown-avatar",style:{backgroundColor:o.color||"#5b5ef4"},children:u()}),(0,Ie.jsxs)("div",{className:"dropdown-user-details",children:[(0,Ie.jsx)("div",{className:"dropdown-user-name",children:o.firstName&&o.lastName?"".concat(o.firstName," ").concat(o.lastName):o.name||o.email}),(0,Ie.jsx)("div",{className:"dropdown-user-email",children:o.email})]})]}),(0,Ie.jsx)("div",{className:"dropdown-divider"}),(0,Ie.jsxs)(ke,{to:"/app",className:"dropdown-item",children:[(0,Ie.jsx)("span",{className:"dropdown-item-icon",children:"\ud83d\udccb"}),"Dashboard"]}),(0,Ie.jsxs)("button",{onClick:async()=>{try{console.log("Attempting to sign out..."),a(!1),await l(),console.log("Sign out successful, redirecting..."),localStorage.removeItem("currentUser"),localStorage.removeItem("temporaryUserData"),sessionStorage.clear(),window.location.href="/"}catch(e){console.error("Logout error:",e),console.error("Error details:",{message:e.message,code:e.code,stack:e.stack}),alert("Sign out failed: ".concat(e.message||"Unknown error occurred")),localStorage.removeItem("currentUser"),sessionStorage.clear()}},className:"dropdown-item logout-button",children:[(0,Ie.jsx)("span",{className:"dropdown-item-icon",children:"\ud83d\udeaa"}),"Log Out"]})]})]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(ke,{to:"/login",className:"login-button",children:"Log In"}),(0,Ie.jsx)(ke,{to:"/register",className:"get-started-button",children:"Get Started Free"})]})})]})]})})},Oe=()=>{const e=J();return(0,Ie.jsxs)("section",{className:"landing-hero",id:"hero",children:[(0,Ie.jsxs)("div",{className:"hero-content",children:[(0,Ie.jsxs)("div",{className:"hero-tag",children:[(0,Ie.jsx)("span",{className:"hero-tag-icon",children:"\u26a1"}),(0,Ie.jsx)("span",{className:"hero-tag-text",children:"Task Management Simplified"})]}),(0,Ie.jsxs)("h1",{className:"hero-title",children:["Take control of your day with ",(0,Ie.jsx)("span",{className:"brand-name",children:"Tasklio"})]}),(0,Ie.jsx)("p",{className:"hero-subtitle",children:"The intelligent task manager that helps you organize, prioritize, and accomplish more\u2014without the complexity."}),(0,Ie.jsxs)("div",{className:"hero-cta-group",children:[(0,Ie.jsxs)(ke,{to:"/register",className:"cta-button",children:["Get Started ",(0,Ie.jsx)("span",{className:"cta-arrow",children:"\u2192"})]}),(0,Ie.jsx)("button",{onClick:t=>{t.preventDefault(),e("/about")},className:"cta-button secondary",style:{color:"white"},children:"Learn More"})]}),(0,Ie.jsxs)("div",{className:"feature-pills-container",children:[(0,Ie.jsxs)("div",{className:"feature-pill",children:[(0,Ie.jsx)("span",{className:"pill-icon",children:"\ud83d\ude80"}),(0,Ie.jsx)("span",{className:"pill-text",children:"100% Free to Use"})]}),(0,Ie.jsxs)("div",{className:"feature-pill",children:[(0,Ie.jsx)("span",{className:"pill-icon",children:"\ud83d\udd12"}),(0,Ie.jsx)("span",{className:"pill-text",children:"Private \u2022 No Account Needed"})]}),(0,Ie.jsxs)("div",{className:"feature-pill",children:[(0,Ie.jsx)("span",{className:"pill-icon",children:"\u26a1"}),(0,Ie.jsx)("span",{className:"pill-text",children:"Simple & Easy to Start"})]})]})]}),(0,Ie.jsx)("div",{className:"hero-image",children:(0,Ie.jsxs)("div",{className:"hero-image-wrapper",children:[(0,Ie.jsxs)("div",{className:"animated-app-mockup",children:[(0,Ie.jsxs)("div",{className:"mockup-header",children:[(0,Ie.jsx)("div",{className:"mockup-title",children:"My Tasks"}),(0,Ie.jsxs)("div",{className:"mockup-actions",children:[(0,Ie.jsx)("div",{className:"mockup-action"}),(0,Ie.jsx)("div",{className:"mockup-action"})]})]}),(0,Ie.jsxs)("div",{className:"mockup-body",children:[(0,Ie.jsxs)("div",{className:"task-item highlighted",children:[(0,Ie.jsx)("div",{className:"task-checkbox"}),(0,Ie.jsxs)("div",{className:"task-content",children:[(0,Ie.jsx)("div",{className:"task-title",children:"Complete project proposal"}),(0,Ie.jsx)("div",{className:"task-due",children:"Due: Today"})]}),(0,Ie.jsx)("div",{className:"task-priority high"})]}),(0,Ie.jsxs)("div",{className:"task-item",children:[(0,Ie.jsx)("div",{className:"task-checkbox completed"}),(0,Ie.jsxs)("div",{className:"task-content",children:[(0,Ie.jsx)("div",{className:"task-title",children:"Schedule team meeting"}),(0,Ie.jsx)("div",{className:"task-due",children:"Completed"})]}),(0,Ie.jsx)("div",{className:"task-priority medium"})]}),(0,Ie.jsxs)("div",{className:"task-item",children:[(0,Ie.jsx)("div",{className:"task-checkbox"}),(0,Ie.jsxs)("div",{className:"task-content",children:[(0,Ie.jsx)("div",{className:"task-title",children:"Pick up groceries"}),(0,Ie.jsx)("div",{className:"task-due",children:"Due: Tomorrow"})]}),(0,Ie.jsx)("div",{className:"task-priority low"})]}),(0,Ie.jsxs)("div",{className:"task-item",children:[(0,Ie.jsx)("div",{className:"task-checkbox"}),(0,Ie.jsxs)("div",{className:"task-content",children:[(0,Ie.jsx)("div",{className:"task-title",children:"Plan weekend activities"}),(0,Ie.jsx)("div",{className:"task-due",children:"Due: Friday"})]}),(0,Ie.jsx)("div",{className:"task-priority medium"})]})]}),(0,Ie.jsx)("div",{className:"mockup-footer",children:(0,Ie.jsxs)("div",{className:"mockup-add-button visible",children:[(0,Ie.jsx)("span",{className:"add-icon",children:"+"}),(0,Ie.jsx)("span",{className:"add-text",children:"New Task"})]})})]}),(0,Ie.jsxs)("div",{className:"floating-element calendar",children:[(0,Ie.jsx)("div",{className:"calendar-header"}),(0,Ie.jsx)("div",{className:"calendar-body"})]}),(0,Ie.jsxs)("div",{className:"floating-element notification",children:[(0,Ie.jsx)("div",{className:"notification-icon",children:"\ud83d\udd14"}),(0,Ie.jsxs)("div",{className:"notification-content",children:[(0,Ie.jsx)("div",{className:"notification-title"}),(0,Ie.jsx)("div",{className:"notification-message"})]})]})]})}),(0,Ie.jsx)("div",{className:"hero-decoration circle-1"}),(0,Ie.jsx)("div",{className:"hero-decoration circle-2"}),(0,Ie.jsx)("div",{className:"hero-decoration dots"})]})},Le=()=>((0,r.useEffect)((()=>{const e=document.querySelectorAll(".logo-item"),t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{threshold:.3});return e.forEach((e=>t.observe(e))),()=>t.disconnect()}),[]),(0,Ie.jsx)("section",{className:"brand-logos-section",children:(0,Ie.jsxs)("div",{className:"brand-logos-container",children:[(0,Ie.jsx)("h3",{className:"trusted-by",children:"Trusted by professionals from"}),(0,Ie.jsxs)("div",{className:"logo-grid",children:[(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg",alt:"Google",className:"brand-logo"})}),(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/9/96/Microsoft_logo_%282012%29.svg",alt:"Microsoft",className:"brand-logo"})}),(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon",className:"brand-logo"})}),(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",alt:"Apple",className:"brand-logo"})}),(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/7b/Meta_Platforms_Inc._logo.svg",alt:"Meta",className:"brand-logo"})}),(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/69/Airbnb_Logo_B%C3%A9lo.svg",alt:"Airbnb",className:"brand-logo"})}),(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg",alt:"Netflix",className:"brand-logo"})}),(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/19/Spotify_logo_without_text.svg",alt:"Spotify",className:"brand-logo spotify-logo"})}),(0,Ie.jsx)("div",{className:"logo-item",children:(0,Ie.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/44/BMW.svg",alt:"BMW",className:"brand-logo"})})]})]})})),Me=()=>(0,Ie.jsx)("section",{className:"landing-features-section",id:"landing-features",children:(0,Ie.jsxs)("div",{className:"features-container section-container",children:[(0,Ie.jsxs)("div",{className:"features-header",children:[(0,Ie.jsx)("div",{className:"features-badge",children:"Powerful Features"}),(0,Ie.jsx)("h2",{children:"Your Command Center for Getting Things Done"}),(0,Ie.jsx)("p",{children:"Tasklio combines powerful functionality with elegant simplicity. Experience task management that works the way your brain does."})]}),(0,Ie.jsx)("div",{className:"features-grid",children:[{icon:"\ud83d\ude80",title:"Supercharge Your Productivity",description:"Effortlessly organize tasks with our intuitive drag-and-drop interface. Focus on what matters most and watch your productivity soar."},{icon:"\ud83d\udd04",title:"Seamless Task Workflows",description:"Create custom workflows that adapt to your unique process. Move tasks through stages from 'To Do' to 'Done' with visual satisfaction."},{icon:"\ud83d\udd14",title:"Smart Notifications",description:"Never miss a deadline with intelligent reminders that know exactly when to alert you. Stay on track without the constant interruptions."},{icon:"\ud83d\udc65",title:"Team Collaboration",description:"Share projects, assign tasks, and track progress together in real-time. Perfect for teams of any size who need to stay coordinated."},{icon:"\ud83d\udcca",title:"Insightful Analytics",description:"Visualize your productivity patterns with beautiful charts and reports. Identify bottlenecks and celebrate your accomplishments."},{icon:"\ud83d\udd12",title:"Privacy-First Design",description:"Your data belongs to you alone. We don't track usage or sell information\u2014total privacy with optional local-only storage."}].map(((e,t)=>(0,Ie.jsxs)("div",{className:"feature-card",style:{animationDelay:"".concat(.1*t,"s"),opacity:0,animation:"fadeIn 0.5s ease-out ".concat(.1*t,"s forwards")},children:[(0,Ie.jsxs)("div",{className:"feature-icon-wrapper",children:[(0,Ie.jsx)("div",{className:"feature-icon",children:(0,Ie.jsx)("span",{children:e.icon})}),(0,Ie.jsx)("div",{className:"feature-icon-bg"})]}),(0,Ie.jsx)("h3",{className:"feature-title",children:e.title}),(0,Ie.jsx)("p",{className:"feature-description",children:e.description}),(0,Ie.jsx)("div",{className:"feature-hover-effect"})]},t)))}),(0,Ie.jsxs)("div",{className:"features-cta",children:[(0,Ie.jsx)("p",{className:"features-cta-text",children:"From quick personal to-dos to complex team projects\u2014we've built the task management solution you've been dreaming about."}),(0,Ie.jsxs)("a",{href:"#signup",className:"features-cta-button",children:["Start Organizing Today",(0,Ie.jsx)("span",{className:"button-arrow",children:"\u2192"})]})]})]})}),Ue=()=>{const[e,t]=(0,r.useState)(1);(0,r.useEffect)((()=>{const e=setInterval((()=>{t((e=>3===e?1:e+1))}),5e3);return()=>clearInterval(e)}),[]);const n=e=>{t(e)};return(0,Ie.jsxs)("section",{className:"workflow-section",id:"how-it-works",children:[(0,Ie.jsx)("div",{className:"workflow-blur-gradient blue-gradient"}),(0,Ie.jsx)("div",{className:"workflow-blur-gradient purple-gradient"}),(0,Ie.jsx)("div",{className:"workflow-dots-pattern"}),(0,Ie.jsxs)("div",{className:"workflow-container",children:[(0,Ie.jsxs)("div",{className:"workflow-header",children:[(0,Ie.jsx)("div",{className:"workflow-badge",children:"How It Works"}),(0,Ie.jsx)("h2",{children:"Simple workflow. Maximum productivity."}),(0,Ie.jsx)("p",{className:"workflow-subtitle",children:"Get started in minutes with a simple three-step process that will transform the way you manage tasks."})]}),(0,Ie.jsxs)("div",{className:"workflow-steps-nav",children:[(0,Ie.jsx)("div",{className:"workflow-progress-track",children:(0,Ie.jsx)("div",{className:"workflow-progress-fill",style:{width:"".concat(e/3*100,"%")}})}),(0,Ie.jsxs)("div",{className:"workflow-nav",children:[(0,Ie.jsxs)("button",{className:"workflow-nav-step ".concat(1===e?"active":""),onClick:()=>n(1),"aria-label":"View step 1",children:[(0,Ie.jsxs)("div",{className:"workflow-step-icon",children:[(0,Ie.jsx)("span",{children:"1"}),(0,Ie.jsx)("svg",{viewBox:"0 0 24 24",className:"step-icon",children:(0,Ie.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})]}),(0,Ie.jsx)("span",{className:"workflow-step-label",children:"Capture"})]}),(0,Ie.jsxs)("button",{className:"workflow-nav-step ".concat(2===e?"active":""),onClick:()=>n(2),"aria-label":"View step 2",children:[(0,Ie.jsxs)("div",{className:"workflow-step-icon",children:[(0,Ie.jsx)("span",{children:"2"}),(0,Ie.jsx)("svg",{viewBox:"0 0 24 24",className:"step-icon",children:(0,Ie.jsx)("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"})})]}),(0,Ie.jsx)("span",{className:"workflow-step-label",children:"Organize"})]}),(0,Ie.jsxs)("button",{className:"workflow-nav-step ".concat(3===e?"active":""),onClick:()=>n(3),"aria-label":"View step 3",children:[(0,Ie.jsxs)("div",{className:"workflow-step-icon",children:[(0,Ie.jsx)("span",{children:"3"}),(0,Ie.jsx)("svg",{viewBox:"0 0 24 24",className:"step-icon",children:(0,Ie.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"})})]}),(0,Ie.jsx)("span",{className:"workflow-step-label",children:"Achieve"})]})]})]}),(0,Ie.jsxs)("div",{className:"workflow-showcase",children:[(0,Ie.jsxs)("div",{className:"workflow-visual",children:[(0,Ie.jsx)("div",{className:"workflow-step-visual ".concat(1===e?"active":""),id:"step1-visual",children:(0,Ie.jsxs)("div",{className:"device-mockup phone-mockup",children:[(0,Ie.jsxs)("div",{className:"device-frame",children:[(0,Ie.jsx)("div",{className:"device-screen",children:(0,Ie.jsxs)("div",{className:"app-ui task-creation",children:[(0,Ie.jsxs)("div",{className:"app-header",children:[(0,Ie.jsx)("h3",{children:"New Task"}),(0,Ie.jsx)("button",{className:"close-btn",children:"\xd7"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{children:"Task Title"}),(0,Ie.jsx)("div",{className:"input-field active",children:"Quarterly team presentation"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{children:"Description"}),(0,Ie.jsx)("div",{className:"input-field textarea",children:"Prepare slides with project updates, metrics and next quarter goals."})]}),(0,Ie.jsxs)("div",{className:"form-row",children:[(0,Ie.jsxs)("div",{className:"form-group half",children:[(0,Ie.jsx)("label",{children:"Due Date"}),(0,Ie.jsxs)("div",{className:"input-field with-icon",children:[(0,Ie.jsx)("i",{className:"icon-calendar",children:"\ud83d\udcc5"}),(0,Ie.jsx)("span",{children:"May 20, 2025"})]})]}),(0,Ie.jsxs)("div",{className:"form-group half",children:[(0,Ie.jsx)("label",{children:"Priority"}),(0,Ie.jsx)("div",{className:"input-field with-badge",children:(0,Ie.jsx)("span",{className:"priority high",children:"High"})})]})]}),(0,Ie.jsx)("button",{className:"action-button primary",children:"Create Task"})]})}),(0,Ie.jsx)("div",{className:"device-stripe"}),(0,Ie.jsx)("div",{className:"device-header"}),(0,Ie.jsx)("div",{className:"device-sensors"})]}),(0,Ie.jsx)("div",{className:"floating-element categories-floating",children:(0,Ie.jsxs)("div",{className:"floating-content",children:[(0,Ie.jsx)("div",{className:"category-chip work",children:"Work"}),(0,Ie.jsx)("div",{className:"category-chip personal",children:"Personal"}),(0,Ie.jsx)("div",{className:"category-chip health",children:"Health"})]})}),(0,Ie.jsx)("div",{className:"floating-element notes-floating",children:(0,Ie.jsxs)("div",{className:"floating-content",children:[(0,Ie.jsx)("div",{className:"notes-title",children:"Quick Notes"}),(0,Ie.jsx)("div",{className:"notes-item",children:"Include quarterly metrics"}),(0,Ie.jsx)("div",{className:"notes-item",children:"Share competitor analysis"})]})})]})}),(0,Ie.jsx)("div",{className:"workflow-step-visual ".concat(2===e?"active":""),id:"step2-visual",children:(0,Ie.jsxs)("div",{className:"device-mockup desktop-mockup",children:[(0,Ie.jsxs)("div",{className:"device-frame",children:[(0,Ie.jsx)("div",{className:"device-screen",children:(0,Ie.jsxs)("div",{className:"app-ui task-organization",children:[(0,Ie.jsxs)("div",{className:"app-sidebar",children:[(0,Ie.jsxs)("div",{className:"sidebar-item active",children:[(0,Ie.jsx)("i",{className:"sidebar-icon",children:"\ud83d\udccc"}),(0,Ie.jsx)("span",{children:"Today"})]}),(0,Ie.jsxs)("div",{className:"sidebar-item",children:[(0,Ie.jsx)("i",{className:"sidebar-icon",children:"\ud83d\udcc5"}),(0,Ie.jsx)("span",{children:"Upcoming"})]}),(0,Ie.jsxs)("div",{className:"sidebar-item",children:[(0,Ie.jsx)("i",{className:"sidebar-icon",children:"\ud83d\udd04"}),(0,Ie.jsx)("span",{children:"Recurring"})]}),(0,Ie.jsxs)("div",{className:"sidebar-item",children:[(0,Ie.jsx)("i",{className:"sidebar-icon",children:"\ud83d\udcc2"}),(0,Ie.jsx)("span",{children:"Projects"})]}),(0,Ie.jsx)("div",{className:"sidebar-divider"}),(0,Ie.jsxs)("div",{className:"sidebar-item",children:[(0,Ie.jsx)("i",{className:"sidebar-icon",children:"\ud83d\udcca"}),(0,Ie.jsx)("span",{children:"Analytics"})]})]}),(0,Ie.jsxs)("div",{className:"app-main",children:[(0,Ie.jsxs)("div",{className:"main-header",children:[(0,Ie.jsx)("h3",{children:"Today's Tasks"}),(0,Ie.jsxs)("div",{className:"view-controls",children:[(0,Ie.jsx)("button",{className:"view-btn active",children:"List"}),(0,Ie.jsx)("button",{className:"view-btn",children:"Board"})]})]}),(0,Ie.jsxs)("div",{className:"filter-bar",children:[(0,Ie.jsxs)("div",{className:"filter-tabs",children:[(0,Ie.jsx)("button",{className:"filter-tab active",children:"All"}),(0,Ie.jsx)("button",{className:"filter-tab",children:"Work"}),(0,Ie.jsx)("button",{className:"filter-tab",children:"Personal"})]}),(0,Ie.jsxs)("div",{className:"filter-sort",children:[(0,Ie.jsx)("span",{children:"Sort: "}),(0,Ie.jsx)("select",{className:"sort-select",children:(0,Ie.jsx)("option",{children:"Priority"})})]})]}),(0,Ie.jsxs)("div",{className:"task-list",children:[(0,Ie.jsxs)("div",{className:"task-item high drag-indicator",children:[(0,Ie.jsx)("div",{className:"task-checkbox"}),(0,Ie.jsxs)("div",{className:"task-content",children:[(0,Ie.jsx)("h4",{children:"Quarterly team presentation"}),(0,Ie.jsxs)("div",{className:"task-meta",children:[(0,Ie.jsx)("span",{className:"due-time",children:"Today at 2:00 PM"}),(0,Ie.jsx)("span",{className:"task-tag work",children:"Work"})]})]}),(0,Ie.jsx)("div",{className:"task-priority high"}),(0,Ie.jsx)("div",{className:"drag-handle",children:"\u22ee\u22ee"})]}),(0,Ie.jsxs)("div",{className:"task-item medium",children:[(0,Ie.jsx)("div",{className:"task-checkbox"}),(0,Ie.jsxs)("div",{className:"task-content",children:[(0,Ie.jsx)("h4",{children:"Review project proposal"}),(0,Ie.jsxs)("div",{className:"task-meta",children:[(0,Ie.jsx)("span",{className:"due-time",children:"Today at 4:30 PM"}),(0,Ie.jsx)("span",{className:"task-tag work",children:"Work"})]})]}),(0,Ie.jsx)("div",{className:"task-priority medium"}),(0,Ie.jsx)("div",{className:"drag-handle",children:"\u22ee\u22ee"})]}),(0,Ie.jsxs)("div",{className:"task-item low",children:[(0,Ie.jsx)("div",{className:"task-checkbox"}),(0,Ie.jsxs)("div",{className:"task-content",children:[(0,Ie.jsx)("h4",{children:"Schedule doctor appointment"}),(0,Ie.jsxs)("div",{className:"task-meta",children:[(0,Ie.jsx)("span",{className:"due-time",children:"Tomorrow"}),(0,Ie.jsx)("span",{className:"task-tag personal",children:"Personal"})]})]}),(0,Ie.jsx)("div",{className:"task-priority low"}),(0,Ie.jsx)("div",{className:"drag-handle",children:"\u22ee\u22ee"})]})]})]})]})}),(0,Ie.jsx)("div",{className:"device-bezel"})]}),(0,Ie.jsx)("div",{className:"floating-element organize-floating",children:(0,Ie.jsxs)("div",{className:"floating-content",children:[(0,Ie.jsx)("div",{className:"organize-title",children:"Smart Organization"}),(0,Ie.jsxs)("div",{className:"organize-feature",children:[(0,Ie.jsx)("span",{className:"feature-icon",children:"\ud83d\udd04"}),(0,Ie.jsx)("span",{children:"Drag & Drop"})]})]})})]})}),(0,Ie.jsx)("div",{className:"workflow-step-visual ".concat(3===e?"active":""),id:"step3-visual",children:(0,Ie.jsxs)("div",{className:"device-mockup tablet-mockup",children:[(0,Ie.jsxs)("div",{className:"device-frame",children:[(0,Ie.jsx)("div",{className:"device-screen",children:(0,Ie.jsxs)("div",{className:"app-ui task-analytics",children:[(0,Ie.jsxs)("div",{className:"analytics-header",children:[(0,Ie.jsx)("h3",{children:"Weekly Performance"}),(0,Ie.jsxs)("div",{className:"date-navigator",children:[(0,Ie.jsx)("button",{className:"nav-btn",children:"\u25c0"}),(0,Ie.jsx)("span",{className:"date-range",children:"May 10-16"}),(0,Ie.jsx)("button",{className:"nav-btn",children:"\u25b6"})]})]}),(0,Ie.jsxs)("div",{className:"stats-row",children:[(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"14"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Tasks Completed"}),(0,Ie.jsx)("div",{className:"stat-trend positive",children:"+27%"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsxs)("div",{className:"stat-number",children:["85",(0,Ie.jsx)("span",{className:"percent",children:"%"})]}),(0,Ie.jsx)("div",{className:"stat-label",children:"Completion Rate"}),(0,Ie.jsx)("div",{className:"stat-trend positive",children:"+12%"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsxs)("div",{className:"stat-number",children:["93",(0,Ie.jsx)("span",{className:"percent",children:"%"})]}),(0,Ie.jsx)("div",{className:"stat-label",children:"On-time Rate"}),(0,Ie.jsx)("div",{className:"stat-trend positive",children:"+5%"})]})]}),(0,Ie.jsxs)("div",{className:"chart-container",children:[(0,Ie.jsx)("h4",{children:"Daily Progress"}),(0,Ie.jsx)("div",{className:"progress-chart",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(((e,t)=>(0,Ie.jsxs)("div",{className:"chart-column ".concat("Fri"===e?"active":""),children:[(0,Ie.jsx)("div",{className:"column-bar",style:{height:"".concat([60,40,75,90,80,30,20][t],"%")},children:(0,Ie.jsxs)("div",{className:"column-value",children:[[60,40,75,90,80,30,20][t],"%"]})}),(0,Ie.jsx)("div",{className:"column-label",children:e})]},e)))})]}),(0,Ie.jsxs)("div",{className:"completed-tasks",children:[(0,Ie.jsxs)("div",{className:"section-header",children:[(0,Ie.jsx)("h4",{children:"Recently Completed"}),(0,Ie.jsx)("button",{className:"view-all",children:"View All"})]}),(0,Ie.jsxs)("div",{className:"completed-list",children:[(0,Ie.jsxs)("div",{className:"completed-item",children:[(0,Ie.jsx)("div",{className:"completion-check",children:"\u2713"}),(0,Ie.jsxs)("div",{className:"completion-details",children:[(0,Ie.jsx)("h5",{children:"Team presentation"}),(0,Ie.jsxs)("div",{className:"completion-meta",children:[(0,Ie.jsx)("span",{children:"Completed today"}),(0,Ie.jsx)("span",{className:"badge",children:"On time"})]})]}),(0,Ie.jsx)("div",{className:"achievement-badge",children:"\ud83c\udfc6"})]}),(0,Ie.jsxs)("div",{className:"completed-item",children:[(0,Ie.jsx)("div",{className:"completion-check",children:"\u2713"}),(0,Ie.jsxs)("div",{className:"completion-details",children:[(0,Ie.jsx)("h5",{children:"Review project proposal"}),(0,Ie.jsx)("div",{className:"completion-meta",children:(0,Ie.jsx)("span",{children:"Completed yesterday"})})]})]})]})]})]})}),(0,Ie.jsx)("div",{className:"device-home"})]}),(0,Ie.jsx)("div",{className:"floating-element achievement-floating",children:(0,Ie.jsxs)("div",{className:"floating-content",children:[(0,Ie.jsx)("div",{className:"achievement-icon",children:"\ud83c\udfaf"}),(0,Ie.jsx)("div",{className:"achievement-text",children:"Goal Achieved!"})]})})]})})]}),(0,Ie.jsxs)("div",{className:"workflow-steps-content",children:[(0,Ie.jsxs)("div",{className:"workflow-step-info ".concat(1===e?"active":""),children:[(0,Ie.jsx)("div",{className:"step-icon-container",children:(0,Ie.jsx)("div",{className:"step-icon",children:(0,Ie.jsx)("svg",{viewBox:"0 0 24 24",children:(0,Ie.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})})}),(0,Ie.jsxs)("div",{className:"step-content",children:[(0,Ie.jsx)("h3",{children:"Capture Everything"}),(0,Ie.jsx)("p",{children:"Quickly create detailed tasks with all the information you need. Set deadlines, priorities, and categories in seconds."}),(0,Ie.jsxs)("ul",{className:"step-features",children:[(0,Ie.jsx)("li",{children:"Create tasks with rich details"}),(0,Ie.jsx)("li",{children:"Set precise deadlines & reminders"}),(0,Ie.jsx)("li",{children:"Assign priority levels"}),(0,Ie.jsx)("li",{children:"Organize with custom categories"})]})]})]}),(0,Ie.jsxs)("div",{className:"workflow-step-info ".concat(2===e?"active":""),children:[(0,Ie.jsx)("div",{className:"step-icon-container",children:(0,Ie.jsx)("div",{className:"step-icon",children:(0,Ie.jsx)("svg",{viewBox:"0 0 24 24",children:(0,Ie.jsx)("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"})})})}),(0,Ie.jsxs)("div",{className:"step-content",children:[(0,Ie.jsx)("h3",{children:"Organize Your Way"}),(0,Ie.jsx)("p",{children:"Take control of your task list with powerful organization tools. Drag and drop to reorder, filter by priority, and customize your view."}),(0,Ie.jsxs)("ul",{className:"step-features",children:[(0,Ie.jsx)("li",{children:"Intuitive drag-and-drop interface"}),(0,Ie.jsx)("li",{children:"Smart filters and sorting options"}),(0,Ie.jsx)("li",{children:"Customizable views and layouts"}),(0,Ie.jsx)("li",{children:"Group related tasks together"})]})]})]}),(0,Ie.jsxs)("div",{className:"workflow-step-info ".concat(3===e?"active":""),children:[(0,Ie.jsx)("div",{className:"step-icon-container",children:(0,Ie.jsx)("div",{className:"step-icon",children:(0,Ie.jsx)("svg",{viewBox:"0 0 24 24",children:(0,Ie.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"})})})}),(0,Ie.jsxs)("div",{className:"step-content",children:[(0,Ie.jsx)("h3",{children:"Achieve More"}),(0,Ie.jsx)("p",{children:"Track your progress and celebrate your achievements. Visualize productivity trends and watch your completion rate soar."}),(0,Ie.jsxs)("ul",{className:"step-features",children:[(0,Ie.jsx)("li",{children:"Visual productivity analytics"}),(0,Ie.jsx)("li",{children:"Achievement celebrations"}),(0,Ie.jsx)("li",{children:"Performance trends over time"}),(0,Ie.jsx)("li",{children:"Goal tracking and streaks"})]})]})]})]})]}),(0,Ie.jsxs)("div",{className:"workflow-cta",children:[(0,Ie.jsxs)("div",{className:"workflow-cta-content",children:[(0,Ie.jsx)("h3",{children:"Ready to transform your productivity?"}),(0,Ie.jsx)("p",{children:"Join thousands of users who have simplified their workflow with Tasklio."}),(0,Ie.jsxs)("div",{className:"workflow-buttons",children:[(0,Ie.jsxs)(ke,{to:"/register",className:"workflow-button primary",children:["Get Started Free ",(0,Ie.jsx)("span",{className:"button-arrow",children:"\u2192"})]}),(0,Ie.jsx)("a",{href:"#features",className:"workflow-button secondary",children:"Learn more"})]}),(0,Ie.jsxs)("div",{className:"workflow-cta-guarantee",children:[(0,Ie.jsx)("span",{className:"guarantee-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"guarantee-text",children:"No credit card \u2022 Always free core features"})]})]}),(0,Ie.jsx)("div",{className:"workflow-cta-decoration"})]})]})]})},Fe=()=>(0,Ie.jsx)("section",{className:"showcase-section",children:(0,Ie.jsxs)("div",{className:"showcase-container",children:[(0,Ie.jsxs)("div",{className:"showcase-header",children:[(0,Ie.jsx)("div",{className:"showcase-badge",children:"App Showcase"}),(0,Ie.jsx)("h2",{children:"Beautiful, Simple, and Functional"}),(0,Ie.jsx)("p",{children:"Tasklio combines elegant design with practical features to create the perfect task management experience"})]}),(0,Ie.jsxs)("div",{className:"showcase-mockup",children:[(0,Ie.jsxs)("div",{className:"showcase-phone",children:[(0,Ie.jsx)("div",{className:"phone-notch"}),(0,Ie.jsx)("div",{className:"phone-screen",children:(0,Ie.jsxs)("div",{className:"app-preview",children:[(0,Ie.jsx)("div",{className:"preview-header",children:(0,Ie.jsx)("div",{className:"preview-title",children:"My Tasks"})}),(0,Ie.jsxs)("div",{className:"preview-content",children:[(0,Ie.jsxs)("div",{className:"preview-category",children:[(0,Ie.jsx)("h3",{children:"Today"}),(0,Ie.jsxs)("div",{className:"preview-task completed",children:[(0,Ie.jsx)("span",{className:"task-dot"}),(0,Ie.jsx)("p",{children:"Answer emails from team"})]}),(0,Ie.jsxs)("div",{className:"preview-task highlight",children:[(0,Ie.jsx)("span",{className:"task-dot"}),(0,Ie.jsx)("p",{children:"Prepare presentation for meeting"})]}),(0,Ie.jsxs)("div",{className:"preview-task",children:[(0,Ie.jsx)("span",{className:"task-dot"}),(0,Ie.jsx)("p",{children:"Schedule dentist appointment"})]})]}),(0,Ie.jsxs)("div",{className:"preview-category",children:[(0,Ie.jsx)("h3",{children:"Tomorrow"}),(0,Ie.jsxs)("div",{className:"preview-task",children:[(0,Ie.jsx)("span",{className:"task-dot"}),(0,Ie.jsx)("p",{children:"Team sync meeting"})]}),(0,Ie.jsxs)("div",{className:"preview-task",children:[(0,Ie.jsx)("span",{className:"task-dot"}),(0,Ie.jsx)("p",{children:"Review project timeline"})]})]})]}),(0,Ie.jsx)("div",{className:"preview-footer",children:(0,Ie.jsx)("div",{className:"preview-add-button",style:{fontSize:"18px",fontWeight:"bold",color:"#007BFF"},children:"+ Add New Task"})})]})})]}),(0,Ie.jsxs)("div",{className:"showcase-features",children:[(0,Ie.jsxs)("div",{className:"showcase-feature",children:[(0,Ie.jsx)("h3",{children:"Intuitive Design"}),(0,Ie.jsx)("p",{children:"User-friendly interface that makes task management a breeze"})]}),(0,Ie.jsxs)("div",{className:"showcase-feature",children:[(0,Ie.jsx)("h3",{children:"Quick Task Entry"}),(0,Ie.jsx)("p",{children:"Add new tasks in seconds with our streamlined input system"})]}),(0,Ie.jsxs)("div",{className:"showcase-feature",children:[(0,Ie.jsx)("h3",{children:"Clean Organization"}),(0,Ie.jsx)("p",{children:"Clear categorization keeps your tasks neat and accessible"})]})]})]}),(0,Ie.jsxs)("div",{className:"showcase-cta",children:[(0,Ie.jsx)("h3",{children:"Ready to simplify your task management?"}),(0,Ie.jsx)("a",{href:"/register",className:"showcase-button",children:"Get Started Now"})]})]})}),Ve=()=>(0,Ie.jsxs)("section",{className:"testimonials-section",id:"testimonials",children:[(0,Ie.jsxs)("div",{className:"testimonials-background",children:[(0,Ie.jsx)("div",{className:"bubble bubble-1"}),(0,Ie.jsx)("div",{className:"bubble bubble-2"}),(0,Ie.jsx)("div",{className:"bubble bubble-3"})]}),(0,Ie.jsxs)("div",{className:"testimonials-container",children:[(0,Ie.jsxs)("div",{className:"testimonials-header",children:[(0,Ie.jsx)("div",{className:"testimonials-badge",children:"User Stories"}),(0,Ie.jsx)("h2",{children:"What Our Users Say"}),(0,Ie.jsx)("p",{children:"Join thousands of satisfied users who have improved their productivity with Tasklio."})]}),(0,Ie.jsx)("div",{className:"testimonials-showcase",children:(0,Ie.jsx)("div",{className:"testimonials-cards",children:[{id:1,text:"Tasklio has completely transformed how I manage my daily workload. The intuitive interface makes it so easy to prioritize tasks and stay focused throughout the day.",name:"Michael Chen",title:"Software Developer at TechCorp",avatar:"MC",color:"#4F46E5"},{id:2,text:"As a freelance designer juggling multiple clients, I needed something flexible yet powerful. Tasklio strikes that perfect balance and has become an essential part of my workflow.",name:"Olivia Rodriguez",title:"Freelance UX Designer",avatar:"OR",color:"#0EA5E9"},{id:3,text:"The ability to organize tasks by priority and category has been a game-changer for our small team. We've seen a 30% boost in productivity since switching to Tasklio.",name:"David Patel",title:"Project Manager, Innovate Solutions",avatar:"DP",color:"#10B981"}].map((e=>(0,Ie.jsxs)("div",{className:"testimonial-card",style:{"--accent-color":e.color},children:[(0,Ie.jsx)("div",{className:"testimonial-quote-mark",children:'"'}),(0,Ie.jsx)("div",{className:"testimonial-content",children:(0,Ie.jsx)("p",{children:e.text})}),(0,Ie.jsxs)("div",{className:"testimonial-author",children:[(0,Ie.jsx)("div",{className:"testimonial-avatar",style:{backgroundColor:e.color},children:e.avatar}),(0,Ie.jsxs)("div",{className:"testimonial-info",children:[(0,Ie.jsx)("h4",{children:e.name}),(0,Ie.jsx)("p",{children:e.title})]})]})]},e.id)))})}),(0,Ie.jsxs)("div",{className:"testimonials-stats",children:[(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"10k+"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Active Users"})]}),(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"98%"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Satisfaction"})]}),(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"4.9"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Average Rating"})]})]})]})]}),ze=()=>(0,Ie.jsx)("section",{className:"pricing-section",id:"pricing",children:(0,Ie.jsxs)("div",{className:"pricing-container",children:[(0,Ie.jsxs)("div",{className:"pricing-header",children:[(0,Ie.jsx)("div",{className:"pricing-badge",children:"No Subscriptions Ever"}),(0,Ie.jsx)("h2",{children:"Free Forever, Without Compromise"}),(0,Ie.jsx)("p",{children:"Tasklio believes in giving you powerful tools without the price tag. We're changing task management by proving premium features don't require premium pricing."})]}),(0,Ie.jsx)("div",{className:"pricing-highlight",children:(0,Ie.jsx)("span",{className:"highlight-text",children:"Most task managers make you pay for advanced features. We give them to you for free."})}),(0,Ie.jsxs)("div",{className:"pricing-comparison-wrapper",children:[(0,Ie.jsx)("div",{className:"price-tag-decoration",children:(0,Ie.jsxs)("div",{className:"price-tag",children:[(0,Ie.jsx)("span",{className:"price-amount",children:"$0"}),(0,Ie.jsx)("span",{className:"price-period",children:"Forever"})]})}),(0,Ie.jsxs)("div",{className:"pricing-comparison",children:[(0,Ie.jsxs)("div",{className:"pricing-card tasklio",children:[(0,Ie.jsxs)("div",{className:"pricing-card-header",children:[(0,Ie.jsxs)("div",{className:"pricing-logo",children:[(0,Ie.jsx)("span",{className:"logo-icon",children:"\ud83d\udccb"}),(0,Ie.jsx)("span",{className:"logo-text",children:"Tasklio"})]}),(0,Ie.jsx)("div",{className:"pricing-card-badge",children:"Recommended"})]}),(0,Ie.jsxs)("div",{className:"pricing-features",children:[(0,Ie.jsxs)("div",{className:"pricing-feature",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Unlimited Tasks & Projects"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Custom Categories & Tags"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Priority Levels & Sorting"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Smart Reminders & Due Dates"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"100% Private Local Storage"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"No Ads or User Tracking"})]})]}),(0,Ie.jsx)("div",{className:"pricing-cta",children:(0,Ie.jsx)(ke,{to:"/register",className:"cta-button",children:"Get Started Free"})})]}),(0,Ie.jsx)("div",{className:"vs-divider",children:(0,Ie.jsx)("span",{children:"VS"})}),(0,Ie.jsxs)("div",{className:"pricing-card competitors",children:[(0,Ie.jsxs)("div",{className:"pricing-card-header",children:[(0,Ie.jsx)("div",{className:"pricing-logo",children:(0,Ie.jsx)("span",{className:"logo-text",children:"Typical Paid Apps"})}),(0,Ie.jsxs)("div",{className:"pricing-price",children:["$5-15",(0,Ie.jsx)("span",{children:"/month"})]})]}),(0,Ie.jsxs)("div",{className:"pricing-features",children:[(0,Ie.jsxs)("div",{className:"pricing-feature limited",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Limited Tasks (50-100 in Free Tier)"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature limited",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Basic Organizational Tools"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature limited",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Basic Priority Settings"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature limited",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Limited Reminder Features"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature negative",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u2715"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Required Cloud Storage (Privacy Risk)"})]}),(0,Ie.jsxs)("div",{className:"pricing-feature negative",children:[(0,Ie.jsx)("span",{className:"pricing-feature-icon",children:"\u2715"}),(0,Ie.jsx)("span",{className:"pricing-feature-text",children:"Data Collection & Targeted Ads"})]})]})]})]})]}),(0,Ie.jsx)("div",{className:"pricing-question",children:(0,Ie.jsx)("h3",{children:"Why would you pay for less?"})}),(0,Ie.jsxs)("div",{className:"free-promise",children:[(0,Ie.jsxs)("div",{className:"promise-header",children:[(0,Ie.jsx)("h3",{children:"Our Free Forever Promise"}),(0,Ie.jsx)("p",{children:"Tasklio will always remain 100% free. Here's why:"})]}),(0,Ie.jsxs)("div",{className:"reasons-grid",children:[(0,Ie.jsxs)("div",{className:"reason-card",children:[(0,Ie.jsx)("span",{className:"reason-icon",children:"\u2764\ufe0f"}),(0,Ie.jsx)("h4",{children:"Built With Purpose"}),(0,Ie.jsx)("p",{children:"Created by Alexander Wright and Sophia Lin, who believe productivity tools should be accessible to everyone, not just those who can afford them."})]}),(0,Ie.jsxs)("div",{className:"reason-card",children:[(0,Ie.jsx)("span",{className:"reason-icon",children:"\ud83d\udee1\ufe0f"}),(0,Ie.jsx)("h4",{children:"Privacy as a Right"}),(0,Ie.jsx)("p",{children:"We reject the data harvesting business model. Your tasks and personal information remain private and stored only on your device."})]}),(0,Ie.jsxs)("div",{className:"reason-card",children:[(0,Ie.jsx)("span",{className:"reason-icon",children:"\ud83d\udcaa"}),(0,Ie.jsx)("h4",{children:"Community Driven"}),(0,Ie.jsx)("p",{children:"Supported by a thriving community of 10,000+ users who contribute, suggest features, and help others experience truly free productivity."})]})]})]}),(0,Ie.jsxs)("div",{className:"pricing-testimonial",children:[(0,Ie.jsx)("blockquote",{children:'"I switched from a $10/month task manager to Tasklio and got more features for free. It\'s shocking how much better the free option is."'}),(0,Ie.jsx)("cite",{children:"\u2014 Jamie Rivera, Marketing Director"})]})]})}),Be=[{question:"Is Tasklio really free?",answer:"Yes! Tasklio is 100% free with no hidden fees or premium tiers. We believe task management should be accessible to everyone."},{question:"Do I need to create an account?",answer:"Creating an account allows you to access your tasks from any device. We offer a quick signup process, or you can use your Google account to get started immediately."},{question:"How does Tasklio protect my privacy?",answer:"Your tasks stay on your device and are never uploaded to any cloud server without your explicit permission. We don't track your usage or collect your data."},{question:"Does Tasklio work offline?",answer:"Yes, Tasklio works 100% offline. Your tasks are stored locally on your device so you can access them anytime, anywhere."},{question:"How can I get support or contribute?",answer:"You can find help, report issues, or contribute on our GitHub or by checking our documentation."}],qe=()=>{const[e,t]=(0,r.useState)(null);return(0,Ie.jsx)("section",{className:"faq-section",id:"faq",children:(0,Ie.jsxs)("div",{className:"faq-container",children:[(0,Ie.jsxs)("div",{className:"faq-header",children:[(0,Ie.jsx)("div",{className:"faq-badge",children:"FAQ"}),(0,Ie.jsx)("h2",{children:"Frequently Asked Questions"}),(0,Ie.jsx)("p",{children:"Find quick answers to common questions about Tasklio"})]}),(0,Ie.jsx)("ul",{className:"faq-list",children:Be.map(((n,s)=>(0,Ie.jsxs)("li",{className:"faq-item".concat(e===s?" open":""),onClick:()=>t(e===s?null:s),tabIndex:0,onKeyPress:n=>{"Enter"!==n.key&&" "!==n.key||t(e===s?null:s)},"aria-expanded":e===s,children:[(0,Ie.jsxs)("div",{className:"faq-question",children:[n.question,(0,Ie.jsx)("span",{className:"faq-toggle",children:e===s?"\u2212":"+"})]}),(0,Ie.jsx)("div",{className:"faq-answer",style:{maxHeight:e===s?200:0},children:(0,Ie.jsx)("p",{children:n.answer})})]},n.question)))})]})})},He=()=>(0,Ie.jsx)("section",{className:"cta-section",id:"cta",children:(0,Ie.jsxs)("div",{className:"cta-container",children:[(0,Ie.jsxs)("div",{className:"cta-content",children:[(0,Ie.jsx)("div",{className:"cta-badge",children:"Start Today"}),(0,Ie.jsx)("h2",{children:"Transform Your Productivity Journey"}),(0,Ie.jsx)("p",{children:"Join thousands of organized professionals who've simplified their workflow and reclaimed hours of their day with Tasklio's intuitive task management system."}),(0,Ie.jsxs)("div",{className:"cta-benefits",children:[(0,Ie.jsxs)("div",{className:"benefit-item",children:[(0,Ie.jsx)("div",{className:"benefit-icon",children:"\ud83d\udd12"}),(0,Ie.jsx)("div",{className:"benefit-text",children:"100% Private & Secure"})]}),(0,Ie.jsxs)("div",{className:"benefit-item",children:[(0,Ie.jsx)("div",{className:"benefit-icon",children:"\u26a1"}),(0,Ie.jsx)("div",{className:"benefit-text",children:"Boost Productivity"})]}),(0,Ie.jsxs)("div",{className:"benefit-item",children:[(0,Ie.jsx)("div",{className:"benefit-icon",children:"\ud83d\ude80"}),(0,Ie.jsx)("div",{className:"benefit-text",children:"Quick Setup"})]})]}),(0,Ie.jsx)("div",{className:"cta-actions",children:(0,Ie.jsxs)(ke,{to:"/register",className:"cta-button primary pulse-animation",children:["Get Started Free ",(0,Ie.jsx)("span",{className:"arrow-icon",children:"\u2192"})]})}),(0,Ie.jsxs)("div",{className:"cta-guarantee",children:[(0,Ie.jsx)("div",{className:"guarantee-icon",children:"\u2713"}),(0,Ie.jsx)("div",{className:"guarantee-text",children:"No credit card \u2022 Always free \u2022 No hidden fees"})]}),(0,Ie.jsxs)("div",{className:"cta-testimonial",children:[(0,Ie.jsx)("div",{className:"testimonial-quote",children:'"Tasklio helped me organize my work and stay focused on what matters most."'}),(0,Ie.jsxs)("div",{className:"testimonial-author",children:[(0,Ie.jsx)("div",{className:"author-avatar",children:"JD"}),(0,Ie.jsxs)("div",{className:"author-info",children:[(0,Ie.jsx)("div",{className:"author-name",children:"Jennifer Davis"}),(0,Ie.jsx)("div",{className:"author-title",children:"Product Designer"})]})]})]})]}),(0,Ie.jsxs)("div",{className:"cta-decoration",children:[(0,Ie.jsx)("div",{className:"decoration-circle circle-1"}),(0,Ie.jsx)("div",{className:"decoration-circle circle-2"}),(0,Ie.jsx)("div",{className:"decoration-circle circle-3"}),(0,Ie.jsx)("div",{className:"decoration-dots"})]})]})}),We=e=>{let{isOpen:t,onClose:n}=e;return t?(0,Ie.jsx)("div",{className:"tos-modal-overlay",children:(0,Ie.jsxs)("div",{className:"tos-modal-container",children:[(0,Ie.jsxs)("div",{className:"tos-modal-header",children:[(0,Ie.jsx)("h2",{children:"Terms of Service"}),(0,Ie.jsx)("button",{className:"tos-close-button",onClick:n,children:"\xd7"})]}),(0,Ie.jsxs)("div",{className:"tos-modal-content",children:[(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"1. Introduction and Acceptance"}),(0,Ie.jsx)("p",{children:'Welcome to Tasklio ("Service"). By accessing or using our Service, you agree to be bound by these Terms of Service ("Terms"), our Privacy Policy, and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing the Service.'}),(0,Ie.jsx)("p",{children:"We reserve the right to modify these Terms at any time, and such modifications shall be effective immediately upon posting. Your continued use of the Service following any modifications indicates your acceptance of the modified Terms."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"2. User Accounts and Registration"}),(0,Ie.jsx)("p",{children:"To access certain features of the Service, you may be required to register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete."}),(0,Ie.jsx)("p",{children:"You are responsible for maintaining the confidentiality of your account and password, including but not limited to the restriction of access to your computer and/or account. You agree to accept responsibility for any and all activities or actions that occur under your account and/or password."}),(0,Ie.jsx)("p",{children:"We reserve the right to refuse service, terminate accounts, remove or edit content, or cancel orders at our sole discretion."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"3. User Data and Privacy"}),(0,Ie.jsx)("p",{children:"Your privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your personal information. By using our Service, you consent to our collection and use of personal data as explained in our Privacy Policy."}),(0,Ie.jsx)("p",{children:"All task data and personal information you provide are stored locally on your device. We do not track, collect, or share your personal information or usage data except as described in our Privacy Policy."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"4. Intellectual Property Rights"}),(0,Ie.jsx)("p",{children:"The Service and its original content, features, and functionality are and will remain the exclusive property of Tasklio and its licensors. The Service is protected by copyright, trademark, and other laws of both the United States and foreign countries."}),(0,Ie.jsx)("p",{children:"Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of Tasklio."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"5. User-Generated Content"}),(0,Ie.jsx)("p",{children:"By submitting content to the Service, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, adapt, publish, translate, and distribute your content in any existing or future media. You also grant us the right to sublicense these rights and the right to enforce these rights against third parties."}),(0,Ie.jsx)("p",{children:"You represent and warrant that your content does not violate any third-party rights, including intellectual property rights and privacy rights, and that it does not contain any material that is harmful, offensive, or otherwise illegal."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"6. Prohibited Uses"}),(0,Ie.jsx)("p",{children:"You agree not to use the Service:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"In any way that violates any applicable federal, state, local, or international law or regulation."}),(0,Ie.jsx)("li",{children:'To transmit, or procure the sending of, any advertising or promotional material, including any "junk mail," "chain letter," "spam," or any other similar solicitation.'}),(0,Ie.jsx)("li",{children:"To impersonate or attempt to impersonate Tasklio, a Tasklio employee, another user, or any other person or entity."}),(0,Ie.jsx)("li",{children:"To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of the Service, or which may harm Tasklio or users of the Service or expose them to liability."})]})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"7. Third-Party Links"}),(0,Ie.jsx)("p",{children:"Our Service may contain links to third-party websites or services that are not owned or controlled by Tasklio. We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third-party websites or services."}),(0,Ie.jsx)("p",{children:"You acknowledge and agree that Tasklio shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with the use of or reliance on any such content, goods, or services available on or through any such websites or services."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"8. Termination"}),(0,Ie.jsx)("p",{children:"We may terminate or suspend your account and bar access to the Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever, including but not limited to a breach of the Terms."}),(0,Ie.jsx)("p",{children:"If you wish to terminate your account, you may simply discontinue using the Service or delete your account through the settings in your profile."}),(0,Ie.jsx)("p",{children:"All provisions of the Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"9. Disclaimer of Warranties"}),(0,Ie.jsx)("p",{children:'The Service is provided "as is" and "as available" without any warranty of any kind, either express or implied, including but not limited to the implied warranties of merchantability, fitness for a particular purpose, or non-infringement.'}),(0,Ie.jsx)("p",{children:"Tasklio does not warrant that the Service will be uninterrupted or error-free, that defects will be corrected, or that the Service or the server that makes it available are free of viruses or other harmful components."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"10. Limitation of Liability"}),(0,Ie.jsx)("p",{children:"In no event shall Tasklio, its directors, employees, partners, agents, suppliers, or affiliates be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to loss of profits, data, use, goodwill, or other intangible losses, resulting from:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"Your access to or use of or inability to access or use the Service;"}),(0,Ie.jsx)("li",{children:"Any conduct or content of any third party on the Service;"}),(0,Ie.jsx)("li",{children:"Any content obtained from the Service; or"}),(0,Ie.jsx)("li",{children:"Unauthorized access, use, or alteration of your transmissions or content, whether based on warranty, contract, tort (including negligence), or any other legal theory, whether or not we have been informed of the possibility of such damage."})]})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"11. Governing Law"}),(0,Ie.jsx)("p",{children:"These Terms shall be governed and construed in accordance with the laws of the United States, without regard to its conflict of law provisions."}),(0,Ie.jsx)("p",{children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"12. Contact Us"}),(0,Ie.jsx)("p",{children:"If you have any questions about these Terms, please contact us at support@tasklio.com."})]})]}),(0,Ie.jsx)("div",{className:"tos-modal-footer",children:(0,Ie.jsx)("button",{className:"tos-accept-button",onClick:n,children:"I Accept"})})]})}):null},Ke=e=>{let{isOpen:t,onClose:n}=e;return t?(0,Ie.jsx)("div",{className:"tos-modal-overlay",children:(0,Ie.jsxs)("div",{className:"tos-modal-container",children:[(0,Ie.jsxs)("div",{className:"tos-modal-header",children:[(0,Ie.jsx)("h2",{children:"Privacy Policy"}),(0,Ie.jsx)("button",{className:"tos-close-button",onClick:n,children:"\xd7"})]}),(0,Ie.jsxs)("div",{className:"tos-modal-content",children:[(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"1. Introduction"}),(0,Ie.jsx)("p",{children:'At Tasklio ("we", "us", or "our"), we respect your privacy and are committed to protecting your personal data. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our task management application ("Service").'}),(0,Ie.jsx)("p",{children:"We encourage you to read this Privacy Policy carefully to understand our policies and practices regarding your information. By accessing or using our Service, you agree to this Privacy Policy."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"2. Information We Collect"}),(0,Ie.jsx)("p",{children:"We collect several types of information from and about users of our Service:"}),(0,Ie.jsx)("h4",{children:"2.1 Personal Identification Information"}),(0,Ie.jsx)("p",{children:"We may collect personal identification information from users in various ways, including, but not limited to, when users register on our Service, and in connection with other activities, services, features, or resources we make available. Users may be asked for, as appropriate:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"Name"}),(0,Ie.jsx)("li",{children:"Email address"}),(0,Ie.jsx)("li",{children:"Username"}),(0,Ie.jsx)("li",{children:"Profile information"})]}),(0,Ie.jsx)("h4",{children:"2.2 Task and Usage Data"}),(0,Ie.jsx)("p",{children:"When you use our Service, we may collect information about your tasks, including titles, descriptions, due dates, categories, and completion status. This information is primarily stored locally on your device."}),(0,Ie.jsx)("h4",{children:"2.3 Device and Technical Information"}),(0,Ie.jsx)("p",{children:"We may collect information about your device and internet connection, including the device's unique device identifier, IP address, operating system, browser type, mobile network information, and the device's telephone number."}),(0,Ie.jsx)("h4",{children:"2.4 Usage Details"}),(0,Ie.jsx)("p",{children:"We may collect information about how you use our Service, including:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"Traffic data"}),(0,Ie.jsx)("li",{children:"Logs and other communication data"}),(0,Ie.jsx)("li",{children:"Resources that you access and use on the Service"}),(0,Ie.jsx)("li",{children:"Information about your computer and internet connection"})]})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"3. How We Collect Your Information"}),(0,Ie.jsx)("p",{children:"We use different methods to collect information from and about you, including through:"}),(0,Ie.jsx)("h4",{children:"3.1 Direct Interactions"}),(0,Ie.jsx)("p",{children:"Information you provide when you register, create or modify your account, set up a profile, set preferences, sign-up for or make purchases through the Service."}),(0,Ie.jsx)("h4",{children:"3.2 Automated Technologies"}),(0,Ie.jsx)("p",{children:"As you interact with our Service, we may automatically collect technical data about your equipment, browsing actions, and patterns."}),(0,Ie.jsx)("h4",{children:"3.3 Local Storage"}),(0,Ie.jsx)("p",{children:"Many of your tasks and preferences are stored locally on your device using technologies like localStorage to enhance performance and provide offline capabilities."}),(0,Ie.jsx)("h4",{children:"3.4 Third Parties"}),(0,Ie.jsx)("p",{children:"We may receive information about you if you use any of the other websites we operate or services we provide. We also work with third parties (including, for example, business partners, service providers, sub-contractors, analytics providers, search information providers) and may receive information about you from them."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"4. How We Use Your Information"}),(0,Ie.jsx)("p",{children:"We use information held about you in the following ways:"}),(0,Ie.jsx)("h4",{children:"4.1 To Provide and Maintain our Service"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"To provide the core functionality of task management"}),(0,Ie.jsx)("li",{children:"To create and maintain your account"}),(0,Ie.jsx)("li",{children:"To provide customer support"}),(0,Ie.jsx)("li",{children:"To process and deliver orders and request"})]}),(0,Ie.jsx)("h4",{children:"4.2 To Improve and Personalize our Service"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"To understand how our users use the Service"}),(0,Ie.jsx)("li",{children:"To improve our Service, website, and products"}),(0,Ie.jsx)("li",{children:"To personalize your experience and to deliver content and product offerings relevant to your interests"})]}),(0,Ie.jsx)("h4",{children:"4.3 To Communicate with You"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"To respond to your comments, questions, and requests"}),(0,Ie.jsx)("li",{children:"To provide you with notices about your account"}),(0,Ie.jsx)("li",{children:"To send you technical notices, updates, security alerts, and support messages"}),(0,Ie.jsx)("li",{children:"To inform you about changes to our Service, products, or policies"})]}),(0,Ie.jsx)("h4",{children:"4.4 For Security and Legal Purposes"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"To protect the security of our Service"}),(0,Ie.jsx)("li",{children:"To verify identity and prevent fraud or other unauthorized access"}),(0,Ie.jsx)("li",{children:"To enforce our Terms of Service and other legal rights"}),(0,Ie.jsx)("li",{children:"To comply with applicable laws and regulations"})]})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"5. Data Security"}),(0,Ie.jsx)("p",{children:"We have implemented appropriate technical and organizational measures to protect the security of your personal information. However, please be aware that no method of transmission over the internet or method of electronic storage is 100% secure."}),(0,Ie.jsx)("p",{children:"Your task data is primarily stored locally on your device, which helps maintain your privacy. If you enable cloud synchronization, we use industry-standard encryption and security protocols to protect your data during transmission and storage."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"6. Data Retention"}),(0,Ie.jsx)("p",{children:"We will retain your personal information only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your information to the extent necessary to comply with our legal obligations, resolve disputes, and enforce our policies."}),(0,Ie.jsx)("p",{children:"Task data stored locally on your device remains there until you delete it or uninstall the application. If you use our cloud synchronization features, we retain your data until you delete it or request account deletion."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"7. Your Data Protection Rights"}),(0,Ie.jsx)("p",{children:"Depending on your location, you may have the following data protection rights:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Access:"})," You can request copies of your personal data."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Rectification:"})," You can request that we correct inaccurate or complete incomplete data."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Erasure:"})," You can request that we erase your personal data."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Restriction:"})," You can request that we restrict the processing of your data."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Data Portability:"})," You can request the transfer of your data to you or a third party."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Objection:"})," You can object to our processing of your personal data."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Withdraw Consent:"})," You can withdraw your consent at any time where we relied on consent to process your data."]})]}),(0,Ie.jsx)("p",{children:"To exercise these rights, please contact us. Note that we may ask you to verify your identity before responding to such requests."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"8. Children's Privacy"}),(0,Ie.jsx)("p",{children:"Our Service is not intended for children under the age of 13. We do not knowingly collect personally identifiable information from children under 13. If you are a parent or guardian and you are aware that your child has provided us with personal information, please contact us so that we can take necessary actions."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"9. Third-Party Services"}),(0,Ie.jsx)("p",{children:"Our Service may contain links to other websites that are not operated by us. If you click on a third-party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."}),(0,Ie.jsx)("p",{children:"We have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"10. Analytics and Cookies"}),(0,Ie.jsx)("p",{children:"We use cookies and similar tracking technologies to track activity on our Service and we hold certain information. Cookies are files with a small amount of data which may include an anonymous unique identifier."}),(0,Ie.jsx)("p",{children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"11. Changes to This Privacy Policy"}),(0,Ie.jsx)("p",{children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'}),(0,Ie.jsx)("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"12. Contact Us"}),(0,Ie.jsx)("p",{children:"If you have any questions about this Privacy Policy or our data practices, please contact us at:"}),(0,Ie.jsx)("p",{children:"Email: privacy@tasklio.com"}),(0,Ie.jsx)("p",{children:"Last Updated: May 11, 2023"})]})]}),(0,Ie.jsx)("div",{className:"tos-modal-footer",children:(0,Ie.jsx)("button",{className:"tos-accept-button",onClick:n,children:"I Understand"})})]})}):null},Ge=e=>{let{isOpen:t,onClose:n}=e;return t?(0,Ie.jsx)("div",{className:"tos-modal-overlay",children:(0,Ie.jsxs)("div",{className:"tos-modal-container",children:[(0,Ie.jsxs)("div",{className:"tos-modal-header",children:[(0,Ie.jsx)("h2",{children:"Cookie Policy"}),(0,Ie.jsx)("button",{className:"tos-close-button",onClick:n,children:"\xd7"})]}),(0,Ie.jsxs)("div",{className:"tos-modal-content",children:[(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"1. Introduction"}),(0,Ie.jsx)("p",{children:'This Cookie Policy explains how Tasklio ("we", "us", or "our") uses cookies and similar technologies on our website and application. This Policy should be read alongside our Privacy Policy which explains how we use your personal information.'}),(0,Ie.jsx)("p",{children:"By continuing to use our Service, you are agreeing to our use of cookies as described in this Cookie Policy."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"2. What are Cookies?"}),(0,Ie.jsx)("p",{children:"Cookies are small text files that are placed on your computer, smartphone, or other device when you access the internet, which enable users to navigate around the site and allow us to tailor content and remember your preferences."}),(0,Ie.jsx)("p",{children:"Some cookies are essential for the operation of our website while others are used to improve your experience and help make our website more efficient."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"3. How We Use Cookies"}),(0,Ie.jsx)("p",{children:"We use cookies in several ways to improve your experience on our site:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Essential cookies:"})," These cookies are necessary for the website to function properly. They enable core functionality such as security, network management, and account access."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Functionality cookies:"})," These cookies allow us to remember choices you make and provide enhanced features."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Analytics cookies:"})," These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Preference cookies:"})," These cookies allow a website to remember information that changes the way the website behaves or looks, like your preferred language or the region you are in."]})]})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"4. Local Storage"}),(0,Ie.jsx)("p",{children:"In addition to cookies, we also use local storage to save your tasks and preferences directly on your device. Local storage allows us to:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"Store your tasks and settings locally on your device"}),(0,Ie.jsx)("li",{children:"Provide you with offline functionality"}),(0,Ie.jsx)("li",{children:"Improve performance by reducing server requests"}),(0,Ie.jsx)("li",{children:"Ensure your data remains private and under your control"})]}),(0,Ie.jsx)("p",{children:"Unlike cookies, data in local storage doesn't get sent to the server with each request and typically persists until explicitly cleared by you or our application."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"5. Your Cookie Choices"}),(0,Ie.jsx)("p",{children:"You can manage your cookie preferences in several ways:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Browser settings:"})," Most web browsers allow some control of cookies through your browser settings. To find out more about cookies, including how to see what cookies have been set and how to manage and delete them, visit ",(0,Ie.jsx)("a",{href:"https://www.allaboutcookies.org",target:"_blank",rel:"noopener noreferrer",children:"www.allaboutcookies.org"}),"."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"In-app settings:"})," You can also adjust your privacy preferences within our application settings."]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Clear local storage:"})," You can clear local storage through your browser's settings or by clearing site data."]})]}),(0,Ie.jsx)("p",{children:"Please note that restricting cookies may impact the functionality of our website and service."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"6. Third-Party Cookies"}),(0,Ie.jsx)("p",{children:"Some cookies are placed by third parties on our website. These third parties may include analytics providers, social media platforms, and advertising networks. We do not control the use of such cookies."}),(0,Ie.jsx)("p",{children:"Each third party uses its own cookies and has its own privacy policy. We encourage you to read the privacy policies of these third parties to understand how they use cookies and how they process your information."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"7. Data Privacy in Tasklio"}),(0,Ie.jsx)("p",{children:"At Tasklio, we prioritize your privacy. That's why:"}),(0,Ie.jsxs)("ul",{className:"tos-list",children:[(0,Ie.jsx)("li",{children:"We primarily use local storage instead of server-side storage when possible"}),(0,Ie.jsx)("li",{children:"We minimize our use of analytics cookies to only what's necessary"}),(0,Ie.jsx)("li",{children:"We do not use advertising cookies"}),(0,Ie.jsx)("li",{children:"We provide transparent information about our data practices"})]}),(0,Ie.jsxs)("p",{children:["For complete information about how we process your data, please refer to our ",(0,Ie.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),window.openPrivacyModal&&window.openPrivacyModal()},children:"Privacy Policy"}),"."]})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"8. Updates to This Cookie Policy"}),(0,Ie.jsx)("p",{children:"We may update this Cookie Policy from time to time to reflect changes in technology, regulation, or our business practices. Any changes will be posted on this page with an updated revision date."}),(0,Ie.jsx)("p",{children:"We encourage you to periodically review this page to stay informed about our use of cookies."})]}),(0,Ie.jsxs)("div",{className:"tos-section",children:[(0,Ie.jsx)("h3",{children:"9. Contact Us"}),(0,Ie.jsx)("p",{children:"If you have any questions about our use of cookies or this Cookie Policy, please contact us at:"}),(0,Ie.jsx)("p",{children:"Email: privacy@tasklio.com"}),(0,Ie.jsx)("p",{children:"Last Updated: May 11, 2023"})]})]}),(0,Ie.jsx)("div",{className:"tos-modal-footer",children:(0,Ie.jsx)("button",{className:"tos-accept-button",onClick:n,children:"I Understand"})})]})}):null},Qe=()=>{const[e,t]=(0,r.useState)(!1),[n,s]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),o=(new Date).getFullYear();return(0,Ie.jsxs)("footer",{className:"landing-footer",children:[(0,Ie.jsxs)("div",{className:"footer-main",children:[(0,Ie.jsxs)("div",{className:"footer-brand",children:[(0,Ie.jsxs)("div",{className:"footer-logo",children:[(0,Ie.jsx)("div",{className:"logo-bubble",children:"T"}),(0,Ie.jsx)("span",{children:"Tasklio"})]}),(0,Ie.jsx)("p",{className:"footer-tagline",children:"The simple task manager that respects your privacy"})]}),(0,Ie.jsxs)("div",{className:"footer-links",children:[(0,Ie.jsxs)("div",{className:"footer-column",children:[(0,Ie.jsx)("h4",{children:"Product"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:(0,Ie.jsx)(ke,{to:"/app",children:"App"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)(ke,{to:"/about",children:"About"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)(ke,{to:"/about",children:"Features"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)(ke,{to:"/about",children:"Roadmap"})})]})]}),(0,Ie.jsxs)("div",{className:"footer-column",children:[(0,Ie.jsx)("h4",{children:"Resources"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:(0,Ie.jsx)(ke,{to:"/about",children:"Codebase"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)(ke,{to:"/about",children:"Developer"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)("a",{href:"https://github.com/yourusername/tasklio",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})})]})]}),(0,Ie.jsxs)("div",{className:"footer-column",children:[(0,Ie.jsx)("h4",{children:"Legal"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:(0,Ie.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t(!0)},children:"Terms of Service"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),s(!0)},children:"Privacy Policy"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),a(!0)},children:"Cookie Policy"})})]})]})]})]}),(0,Ie.jsxs)("div",{className:"footer-bottom",children:[(0,Ie.jsxs)("div",{className:"footer-info",children:[(0,Ie.jsxs)("p",{children:["\xa9 ",o," Tasklio. All rights reserved."]}),(0,Ie.jsxs)("div",{className:"footer-legal",children:[(0,Ie.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t(!0)},children:"Terms"}),(0,Ie.jsx)("span",{className:"footer-divider",children:"\u2022"}),(0,Ie.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),s(!0)},children:"Privacy"}),(0,Ie.jsx)("span",{className:"footer-divider",children:"\u2022"}),(0,Ie.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),a(!0)},children:"Cookies"})]})]}),(0,Ie.jsxs)("div",{className:"footer-social",children:[(0,Ie.jsx)("a",{href:"https://twitter.com/",className:"social-icon",target:"_blank",rel:"noopener noreferrer",children:"\ud835\udd4f"}),(0,Ie.jsx)("a",{href:"https://github.com/",className:"social-icon",target:"_blank",rel:"noopener noreferrer",children:(0,Ie.jsx)("i",{className:"fab fa-github"})}),(0,Ie.jsx)("a",{href:"https://linkedin.com/",className:"social-icon",target:"_blank",rel:"noopener noreferrer",children:(0,Ie.jsx)("i",{className:"fab fa-linkedin"})})]})]}),(0,Ie.jsx)(We,{isOpen:e,onClose:()=>t(!1)}),(0,Ie.jsx)(Ke,{isOpen:n,onClose:()=>s(!1)}),(0,Ie.jsx)(Ge,{isOpen:i,onClose:()=>a(!1)})]})},Ye=()=>{const[e,t]=(0,r.useState)(!1),n=()=>{window.pageYOffset>300?t(!0):t(!1)};return(0,r.useEffect)((()=>(window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n))),[]),(0,Ie.jsx)("button",{className:"back-to-top ".concat(e?"visible":""),onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Back to top",children:(0,Ie.jsx)("span",{className:"back-to-top-icon",children:"\u2191"})})},$e=()=>((0,r.useEffect)((()=>{if(window.location.hash){const e=window.location.hash.substring(1);!window.performance.getEntriesByType("navigation").map((e=>e.type)).includes("navigate")?window.history.replaceState(null,document.title,window.location.pathname+window.location.search):Te(e,{offset:80,delay:100})}}),[]),(0,Ie.jsxs)("div",{className:"landing-page",children:[(0,Ie.jsx)(De,{}),(0,Ie.jsxs)("main",{className:"landing-main",children:[(0,Ie.jsx)(Oe,{}),(0,Ie.jsx)(Le,{}),(0,Ie.jsx)(Me,{}),(0,Ie.jsx)(Ue,{}),(0,Ie.jsx)(Fe,{}),(0,Ie.jsx)(Ve,{}),(0,Ie.jsx)(ze,{}),(0,Ie.jsx)(qe,{}),(0,Ie.jsx)(He,{})," "]}),(0,Ie.jsx)(Qe,{}),(0,Ie.jsx)(Ye,{})," "]})),Je=e=>{let{activeTab:t,setActiveTab:n}=e;const[s,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(window.innerWidth<768);(0,r.useEffect)((()=>{const e=()=>{const e=window.innerWidth<768;o(e),e&&!s&&i(!0)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[s]),(0,r.useEffect)((()=>{const e=document.querySelector(".about-container");return e&&(s?(e.classList.add("nav-collapsed"),e.classList.remove("nav-expanded")):(e.classList.remove("nav-collapsed"),e.classList.add("nav-expanded"))),()=>{const e=document.querySelector(".about-container");e&&e.classList.remove("nav-collapsed","nav-expanded")}}),[s]);return(0,Ie.jsxs)("nav",{className:"side-navigation ".concat(s?"collapsed":""),children:[(0,Ie.jsx)("button",{className:"nav-toggle",onClick:e=>{e.stopPropagation(),i(!s)},"aria-label":s?"Expand navigation":"Collapse navigation",children:(0,Ie.jsx)("span",{className:"toggle-icon",children:s?"\u203a":"\u2039"})}),(0,Ie.jsxs)("div",{className:"nav-content",children:[!s&&(0,Ie.jsx)("div",{className:"nav-header",children:(0,Ie.jsx)("span",{className:"nav-title",children:"Menu"})}),(0,Ie.jsx)("ul",{className:"nav-sections",children:[{id:"vision",label:"Our Vision",icon:"\ud83d\udd2d"},{id:"features",label:"Features",icon:"\u2728"},{id:"developer",label:"Developer",icon:"\ud83d\udc68\u200d\ud83d\udcbb"},{id:"roadmap",label:"Roadmap",icon:"\ud83d\uddfa\ufe0f"},{id:"codebase",label:"Codebase",icon:"\ud83d\udcca"},{id:"demo",label:"Demo",icon:"\ud83c\udfae"}].map((e=>(0,Ie.jsxs)("li",{className:"nav-item ".concat(t===e.id?"active":""),onClick:()=>{return t=e.id,a&&i(!0),n(t),void Te(t,{offset:60});var t},children:[(0,Ie.jsx)("span",{className:"nav-icon",children:e.icon}),!s&&(0,Ie.jsx)("span",{className:"nav-label",children:e.label}),s&&(0,Ie.jsx)("span",{className:"nav-tooltip",children:e.label})]},e.id)))})]})]})},Xe=e=>{let{activeTab:t,setActiveTab:n}=e;const[s,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)([{id:1,title:"Complete project proposal",due:"Today",completed:!1,priority:"high"},{id:2,title:"Schedule team meeting",due:"Today",completed:!0,priority:"medium"},{id:3,title:"Pick up groceries",due:"Tomorrow",completed:!1,priority:"low"}]),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),h=e=>{n(e),Te(e,{offset:60})};return(0,Ie.jsxs)("header",{className:"about-header",children:[(0,Ie.jsx)("div",{className:"about-header-top",children:(0,Ie.jsxs)(ke,{to:"/",className:"home-button",children:[(0,Ie.jsx)("span",{className:"home-icon",children:"\ud83c\udfe0"}),"Home"]})}),(0,Ie.jsxs)("div",{className:"about-header-content",children:[(0,Ie.jsx)("h1",{children:"About Tasklio"}),(0,Ie.jsx)("p",{className:"about-tagline",children:"A simple, privacy-focused task manager that helps you organize your life without tracking your data."})]}),(0,Ie.jsxs)("nav",{className:"about-nav",children:[(0,Ie.jsxs)("button",{className:"tab-button ".concat("vision"===t?"active":""),onClick:()=>h("vision"),children:[(0,Ie.jsx)("span",{className:"tab-icon",children:"\ud83d\udd0d"}),(0,Ie.jsx)("span",{className:"tab-text",children:"Our Vision"})]}),(0,Ie.jsxs)("button",{className:"tab-button ".concat("features"===t?"active":""),onClick:()=>h("features"),children:[(0,Ie.jsx)("span",{className:"tab-icon",children:"\u2728"}),(0,Ie.jsx)("span",{className:"tab-text",children:"Features"})]}),(0,Ie.jsxs)("button",{className:"tab-button ".concat("developer"===t?"active":""),onClick:()=>h("developer"),children:[(0,Ie.jsx)("span",{className:"tab-icon",children:"\ud83d\udc68\u200d\ud83d\udcbb"}),(0,Ie.jsx)("span",{className:"tab-text",children:"Developer"})]}),(0,Ie.jsxs)("button",{className:"tab-button ".concat("roadmap"===t?"active":""),onClick:()=>h("roadmap"),children:[(0,Ie.jsx)("span",{className:"tab-icon",children:"\ud83d\uddfa\ufe0f"}),(0,Ie.jsx)("span",{className:"tab-text",children:"Roadmap"})]}),(0,Ie.jsxs)("button",{className:"tab-button ".concat("codebase"===t?"active":""),onClick:()=>h("codebase"),children:[(0,Ie.jsx)("span",{className:"tab-icon",children:"\ud83d\udcca"}),(0,Ie.jsx)("span",{className:"tab-text",children:"Codebase"})]}),(0,Ie.jsxs)("button",{className:"tab-button ".concat("demo"===t?"active":""),onClick:()=>h("demo"),children:[(0,Ie.jsx)("span",{className:"tab-icon",children:"\ud83c\udfae"}),(0,Ie.jsx)("span",{className:"tab-text",children:"Demo"})]})]}),(0,Ie.jsx)("div",{className:"header-decoration header-shape-1"}),(0,Ie.jsx)("div",{className:"header-decoration header-shape-2"}),s&&(0,Ie.jsx)("div",{className:"demo-modal-overlay",children:(0,Ie.jsxs)("div",{className:"fullscreen-demo-modal",children:[(0,Ie.jsxs)("div",{className:"demo-modal-header",children:[(0,Ie.jsxs)("div",{className:"demo-app-logo",children:[(0,Ie.jsx)("span",{className:"demo-logo-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"demo-logo-text",children:"Tasklio"})]}),(0,Ie.jsx)("div",{className:"demo-mode-indicator",children:"Interactive Demo"}),(0,Ie.jsx)("button",{className:"modal-close-btn",onClick:()=>{i(!1),c(!1)},children:"\xd7"})]}),(0,Ie.jsxs)("div",{className:"demo-app-container",children:[(0,Ie.jsxs)("div",{className:"demo-sidebar",children:[(0,Ie.jsxs)("div",{className:"demo-user-profile",children:[(0,Ie.jsx)("div",{className:"demo-avatar",children:(0,Ie.jsx)("span",{children:"JD"})}),(0,Ie.jsxs)("div",{className:"demo-user-info",children:[(0,Ie.jsx)("div",{className:"demo-user-name",children:"John Doe"}),(0,Ie.jsx)("div",{className:"demo-user-email",children:"john@example.com"})]})]}),(0,Ie.jsxs)("nav",{className:"demo-nav",children:[(0,Ie.jsxs)("div",{className:"demo-nav-section",children:[(0,Ie.jsx)("h3",{className:"demo-nav-title",children:"Main"}),(0,Ie.jsxs)("ul",{className:"demo-nav-list",children:[(0,Ie.jsxs)("li",{className:"demo-nav-item active",children:[(0,Ie.jsx)("span",{className:"demo-nav-icon",children:"\ud83d\udccb"}),(0,Ie.jsx)("span",{className:"demo-nav-text",children:"Tasks"})]}),(0,Ie.jsxs)("li",{className:"demo-nav-item",children:[(0,Ie.jsx)("span",{className:"demo-nav-icon",children:"\ud83d\udcc5"}),(0,Ie.jsx)("span",{className:"demo-nav-text",children:"Calendar"})]}),(0,Ie.jsxs)("li",{className:"demo-nav-item",children:[(0,Ie.jsx)("span",{className:"demo-nav-icon",children:"\ud83d\udcca"}),(0,Ie.jsx)("span",{className:"demo-nav-text",children:"Analytics"})]})]})]}),(0,Ie.jsxs)("div",{className:"demo-nav-section",children:[(0,Ie.jsx)("h3",{className:"demo-nav-title",children:"Categories"}),(0,Ie.jsxs)("ul",{className:"demo-nav-list",children:[(0,Ie.jsxs)("li",{className:"demo-nav-item",children:[(0,Ie.jsx)("span",{className:"demo-category-dot work"}),(0,Ie.jsx)("span",{className:"demo-nav-text",children:"Work"}),(0,Ie.jsx)("span",{className:"demo-category-count",children:"4"})]}),(0,Ie.jsxs)("li",{className:"demo-nav-item",children:[(0,Ie.jsx)("span",{className:"demo-category-dot personal"}),(0,Ie.jsx)("span",{className:"demo-nav-text",children:"Personal"}),(0,Ie.jsx)("span",{className:"demo-category-count",children:"2"})]}),(0,Ie.jsxs)("li",{className:"demo-nav-item",children:[(0,Ie.jsx)("span",{className:"demo-category-dot health"}),(0,Ie.jsx)("span",{className:"demo-nav-text",children:"Health"}),(0,Ie.jsx)("span",{className:"demo-category-count",children:"1"})]})]})]})]}),(0,Ie.jsx)("div",{className:"demo-sidebar-footer",children:(0,Ie.jsxs)("button",{className:"demo-settings-btn",children:[(0,Ie.jsx)("span",{className:"demo-settings-icon",children:"\u2699\ufe0f"}),(0,Ie.jsx)("span",{children:"Settings"})]})})]}),(0,Ie.jsxs)("div",{className:"demo-main-content",children:[(0,Ie.jsxs)("header",{className:"demo-content-header",children:[(0,Ie.jsxs)("div",{className:"demo-header-left",children:[(0,Ie.jsx)("h1",{className:"demo-page-title",children:"My Tasks"}),(0,Ie.jsxs)("p",{className:"demo-tasks-subtitle",children:[(0,Ie.jsx)("span",{className:"demo-date",children:"Today: May 11, 2025"})," \xb7",(0,Ie.jsx)("span",{className:"demo-task-count",children:"7 tasks total"})]})]}),(0,Ie.jsxs)("div",{className:"demo-header-actions",children:[(0,Ie.jsxs)("div",{className:"demo-search-box",children:[(0,Ie.jsx)("span",{className:"demo-search-icon",children:"\ud83d\udd0d"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search tasks...",className:"demo-search-input"})]}),(0,Ie.jsxs)("button",{className:"demo-add-btn",onClick:()=>{c(!0)},children:[(0,Ie.jsx)("span",{children:"+"})," Add Task"]})]})]}),(0,Ie.jsxs)("div",{className:"demo-content-body",children:[(0,Ie.jsxs)("div",{className:"demo-tasks-calendar",children:[(0,Ie.jsxs)("div",{className:"demo-calendar-header",children:[(0,Ie.jsx)("h3",{className:"demo-section-title",children:"Calendar"}),(0,Ie.jsxs)("div",{className:"demo-calendar-controls",children:[(0,Ie.jsx)("button",{className:"demo-calendar-btn",children:"Week"}),(0,Ie.jsx)("button",{className:"demo-calendar-btn active",children:"Month"})]})]}),(0,Ie.jsxs)("div",{className:"demo-calendar",children:[(0,Ie.jsxs)("div",{className:"demo-calendar-weekdays",children:[(0,Ie.jsx)("div",{className:"demo-weekday",children:"Sun"}),(0,Ie.jsx)("div",{className:"demo-weekday",children:"Mon"}),(0,Ie.jsx)("div",{className:"demo-weekday",children:"Tue"}),(0,Ie.jsx)("div",{className:"demo-weekday",children:"Wed"}),(0,Ie.jsx)("div",{className:"demo-weekday",children:"Thu"}),(0,Ie.jsx)("div",{className:"demo-weekday",children:"Fri"}),(0,Ie.jsx)("div",{className:"demo-weekday",children:"Sat"})]}),(0,Ie.jsx)("div",{className:"demo-calendar-grid",children:Array.from({length:35},((e,t)=>{const n=t-4,s=n>0&&n<=31,r=11===n,i=[3,5,11,15,22,25].includes(n),a=[11,15].includes(n);return(0,Ie.jsx)("div",{className:"demo-calendar-day ".concat(s?"":"other-month"," ").concat(r?"today":""),children:s&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("span",{className:"demo-day-number",children:n}),i&&(0,Ie.jsx)("div",{className:"demo-day-indicator ".concat(a?"multiple":"")})]})},t)}))})]})]}),(0,Ie.jsxs)("div",{className:"demo-tasks-list",children:[(0,Ie.jsxs)("div",{className:"demo-list-header",children:[(0,Ie.jsx)("h3",{className:"demo-section-title",children:"Upcoming Tasks"}),(0,Ie.jsxs)("div",{className:"demo-view-filters",children:[(0,Ie.jsx)("button",{className:"demo-view-btn active",children:"All"}),(0,Ie.jsx)("button",{className:"demo-view-btn",children:"Today"}),(0,Ie.jsx)("button",{className:"demo-view-btn",children:"Upcoming"})]})]}),a.map((e=>(0,Ie.jsxs)("div",{className:"demo-task-item ".concat(1===e.id?"highlighted":""," ").concat(e.completed?"completed":""),children:[(0,Ie.jsx)("div",{className:"demo-task-checkbox ".concat(e.completed?"completed":""),onClick:()=>{return t=e.id,void o(a.map((e=>e.id===t?(0,Se.A)((0,Se.A)({},e),{},{completed:!e.completed}):e)));var t}}),(0,Ie.jsxs)("div",{className:"demo-task-content",children:[(0,Ie.jsx)("div",{className:"demo-task-title",children:e.title}),(0,Ie.jsxs)("div",{className:"demo-task-meta",children:[(0,Ie.jsx)("span",{className:"demo-task-priority ".concat(e.priority),children:e.priority}),(0,Ie.jsx)("span",{className:"demo-task-due",children:e.completed?"Completed":"Due: ".concat(e.due)})]})]}),(0,Ie.jsxs)("div",{className:"demo-task-actions",children:[(0,Ie.jsx)("button",{className:"demo-task-action edit",children:"\u270f\ufe0f"}),(0,Ie.jsx)("button",{className:"demo-task-action delete",children:"\ud83d\uddd1\ufe0f"})]})]},e.id))),l&&(0,Ie.jsxs)("div",{className:"demo-new-task-form",children:[(0,Ie.jsx)("input",{type:"text",placeholder:"What needs to be done?",value:u,onChange:e=>d(e.target.value),autoFocus:!0,className:"demo-task-input"}),(0,Ie.jsxs)("div",{className:"demo-task-form-options",children:[(0,Ie.jsxs)("div",{className:"demo-task-form-option",children:[(0,Ie.jsx)("span",{className:"demo-option-icon",children:"\ud83d\udcc5"}),(0,Ie.jsx)("span",{children:"Due Date"})]}),(0,Ie.jsxs)("div",{className:"demo-task-form-option",children:[(0,Ie.jsx)("span",{className:"demo-option-icon",children:"\ud83c\udff7\ufe0f"}),(0,Ie.jsx)("span",{children:"Category"})]}),(0,Ie.jsxs)("div",{className:"demo-task-form-option",children:[(0,Ie.jsx)("span",{className:"demo-option-icon",children:"\ud83d\udea9"}),(0,Ie.jsx)("span",{children:"Priority"})]})]}),(0,Ie.jsxs)("div",{className:"demo-form-actions",children:[(0,Ie.jsx)("button",{onClick:()=>{if(u.trim()){const e={id:Date.now(),title:u,due:"Tomorrow",completed:!1,priority:"medium"};o([...a,e]),d(""),c(!1)}},className:"demo-add-task-btn",children:"Add Task"}),(0,Ie.jsx)("button",{onClick:()=>c(!1),className:"demo-cancel-btn",children:"Cancel"})]})]})]})]})]}),(0,Ie.jsx)("div",{className:"demo-right-sidebar",children:(0,Ie.jsxs)("div",{className:"demo-task-details",children:[(0,Ie.jsx)("h3",{className:"demo-details-title",children:"Task Details"}),(0,Ie.jsxs)("div",{className:"demo-selected-task",children:[(0,Ie.jsxs)("div",{className:"demo-detail-header",children:[(0,Ie.jsx)("div",{className:"demo-detail-checkbox completed"}),(0,Ie.jsx)("h4",{className:"demo-detail-title",children:"Complete project proposal"})]}),(0,Ie.jsxs)("div",{className:"demo-detail-section",children:[(0,Ie.jsx)("div",{className:"demo-detail-label",children:"Due Date"}),(0,Ie.jsx)("div",{className:"demo-detail-value",children:"May 11, 2025 (Today)"})]}),(0,Ie.jsxs)("div",{className:"demo-detail-section",children:[(0,Ie.jsx)("div",{className:"demo-detail-label",children:"Priority"}),(0,Ie.jsx)("div",{className:"demo-detail-value",children:(0,Ie.jsx)("span",{className:"demo-priority-badge high",children:"High"})})]}),(0,Ie.jsxs)("div",{className:"demo-detail-section",children:[(0,Ie.jsx)("div",{className:"demo-detail-label",children:"Category"}),(0,Ie.jsx)("div",{className:"demo-detail-value",children:(0,Ie.jsx)("span",{className:"demo-category-badge work",children:"Work"})})]}),(0,Ie.jsxs)("div",{className:"demo-detail-section",children:[(0,Ie.jsx)("div",{className:"demo-detail-label",children:"Notes"}),(0,Ie.jsx)("div",{className:"demo-detail-value demo-notes",children:"Include all research findings and preliminary budget estimates. Make sure to include the timeline section and resource allocation."})]}),(0,Ie.jsxs)("div",{className:"demo-detail-section",children:[(0,Ie.jsx)("div",{className:"demo-detail-label",children:"Subtasks"}),(0,Ie.jsx)("div",{className:"demo-detail-value",children:(0,Ie.jsxs)("ul",{className:"demo-subtasks",children:[(0,Ie.jsxs)("li",{className:"demo-subtask",children:[(0,Ie.jsx)("div",{className:"demo-subtask-checkbox completed"}),(0,Ie.jsx)("div",{className:"demo-subtask-text",children:"Research market trends"})]}),(0,Ie.jsxs)("li",{className:"demo-subtask",children:[(0,Ie.jsx)("div",{className:"demo-subtask-checkbox completed"}),(0,Ie.jsx)("div",{className:"demo-subtask-text",children:"Draft executive summary"})]}),(0,Ie.jsxs)("li",{className:"demo-subtask",children:[(0,Ie.jsx)("div",{className:"demo-subtask-checkbox"}),(0,Ie.jsx)("div",{className:"demo-subtask-text",children:"Create budget projection"})]})]})})]})]})]})})]}),(0,Ie.jsxs)("div",{className:"demo-instructions",children:[(0,Ie.jsx)("p",{children:'This is an interactive demo. Try clicking on checkboxes to mark tasks as completed or use the "Add Task" button.'}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Note:"})," This is a demo with limited functionality. Your changes won't be saved."]})]})]})})]})},Ze=()=>{const e=()=>(0,Ie.jsx)("div",{className:"vision-illustration",children:(0,Ie.jsx)("div",{className:"vision-graphic",children:(0,Ie.jsxs)("div",{className:"orbit-container",children:[(0,Ie.jsx)("div",{className:"orbit orbit-1",children:(0,Ie.jsx)("div",{className:"satellite satellite-1",children:(0,Ie.jsx)("span",{children:"\ud83d\udd12"})})}),(0,Ie.jsx)("div",{className:"orbit orbit-2",children:(0,Ie.jsx)("div",{className:"satellite satellite-2",children:(0,Ie.jsx)("span",{children:"\u26a1"})})}),(0,Ie.jsx)("div",{className:"orbit orbit-3",children:(0,Ie.jsx)("div",{className:"satellite satellite-3",children:(0,Ie.jsx)("span",{children:"\ud83c\udfaf"})})}),(0,Ie.jsx)("div",{className:"core-circle",children:(0,Ie.jsx)("span",{children:"\u2713"})})]})})});return(0,Ie.jsxs)("section",{className:"vision-section",children:[(0,Ie.jsx)("div",{className:"vision-hero",children:(0,Ie.jsxs)("div",{className:"vision-headline-new",children:[(0,Ie.jsxs)("div",{className:"vision-title-container",children:[(0,Ie.jsx)("span",{className:"vision-title-icon",children:"\ud83d\ude80"}),(0,Ie.jsx)("h2",{className:"vision-title-text",children:"The Tasklio Approach"})]}),(0,Ie.jsx)("p",{className:"vision-subtitle",children:"Redefining productivity through thoughtful design"}),(0,Ie.jsx)("div",{className:"vision-title-underline"})]})}),(0,Ie.jsxs)("div",{className:"vision-content",children:[(0,Ie.jsxs)("div",{className:"vision-text",children:[(0,Ie.jsx)("div",{className:"vision-intro-card",children:(0,Ie.jsxs)("p",{className:"vision-intro",children:["Tasklio was born from a single question: ",(0,Ie.jsx)("span",{className:"highlight",children:"Why are task managers so complicated?"})]})}),(0,Ie.jsxs)("div",{className:"vision-story",children:[(0,Ie.jsx)("p",{children:"The mission was simple: create a task manager that gets out of your way and lets you focus on what really matters - completing your tasks, not spending hours organizing them."}),(0,Ie.jsxs)("p",{children:["I believe task management should be accessible to everyone, which is why Tasklio is completely ",(0,Ie.jsx)("span",{className:"highlight",children:"free"}),", ",(0,Ie.jsx)("span",{className:"highlight",children:"privacy-focused"}),", and",(0,Ie.jsx)("span",{className:"highlight",children:" straightforward"})," to use."]})]}),(0,Ie.jsxs)("div",{className:"mission-statement",children:[(0,Ie.jsx)("h3",{children:"The Mission"}),(0,Ie.jsx)("blockquote",{children:'"To create the simplest, most intuitive task management tool that helps people focus on what matters most - completing their tasks, not managing them."'})]})]}),(0,Ie.jsx)("div",{className:"vision-illustration-container",children:(0,Ie.jsx)(e,{})})]}),(0,Ie.jsxs)("div",{className:"vision-principles",children:[(0,Ie.jsx)("h3",{children:"Guiding Principles"}),(0,Ie.jsxs)("div",{className:"principles-grid",children:[(0,Ie.jsxs)("div",{className:"principle-card",children:[(0,Ie.jsx)("div",{className:"principle-icon",children:"\ud83c\udfaf"}),(0,Ie.jsx)("h4",{children:"Simplicity First"}),(0,Ie.jsx)("p",{children:"No feature bloat or unnecessary complexity"}),(0,Ie.jsx)("div",{className:"principle-card-decoration"})]}),(0,Ie.jsxs)("div",{className:"principle-card",children:[(0,Ie.jsx)("div",{className:"principle-icon",children:"\ud83d\udd12"}),(0,Ie.jsx)("h4",{children:"Privacy by Design"}),(0,Ie.jsx)("p",{children:"Your data stays on your device, always"}),(0,Ie.jsx)("div",{className:"principle-card-decoration"})]}),(0,Ie.jsxs)("div",{className:"principle-card",children:[(0,Ie.jsx)("div",{className:"principle-icon",children:"\u26a1"}),(0,Ie.jsx)("h4",{children:"Performance Matters"}),(0,Ie.jsx)("p",{children:"Fast, responsive, and reliable"}),(0,Ie.jsx)("div",{className:"principle-card-decoration"})]}),(0,Ie.jsxs)("div",{className:"principle-card",children:[(0,Ie.jsx)("div",{className:"principle-icon",children:"\ud83d\udc50"}),(0,Ie.jsx)("h4",{children:"Free Forever"}),(0,Ie.jsx)("p",{children:"No premium features or hidden costs"}),(0,Ie.jsx)("div",{className:"principle-card-decoration"})]})]})]}),(0,Ie.jsx)("div",{className:"vision-statement-showcase",children:(0,Ie.jsxs)("div",{className:"vision-statement-card",children:[(0,Ie.jsx)("div",{className:"vision-quote-marks",children:"\u201c"}),(0,Ie.jsx)("h3",{className:"vision-statement-title",children:"Our Philosophy"}),(0,Ie.jsxs)("p",{className:"vision-statement-text",children:[(0,Ie.jsx)("span",{className:"vision-highlight",children:"Tasklio is not just a task manager."}),(0,Ie.jsx)("br",{}),"It's a commitment to ",(0,Ie.jsx)("span",{className:"vision-value",children:"simplicity"}),",",(0,Ie.jsx)("span",{className:"vision-value",children:"privacy"}),", and",(0,Ie.jsx)("span",{className:"vision-value",children:"making your life easier"}),"."]}),(0,Ie.jsx)("div",{className:"vision-quote-marks closing",children:"\u201d"})]})})]})},et=()=>{const[e,t]=(0,r.useState)("tasks"),[n,s]=(0,r.useState)(!1),i=(0,r.useRef)(null),a=(0,r.useRef)(!1),o=[{id:"tasks",icon:"\ud83d\udcdd",title:"Intuitive Task Management",description:"Create, organize, and complete tasks with a clean, distraction-free interface designed for focus",benefits:["One-click task creation and completion","Drag and drop for effortless organization","Distraction-free, clean interface","Satisfying visual feedback and animations"],mockupContent:(0,Ie.jsxs)("div",{className:"feature-mockup-content task-mockup",children:[(0,Ie.jsxs)("div",{className:"mockup-header",children:[(0,Ie.jsx)("div",{className:"mockup-title",children:"My Tasks"}),(0,Ie.jsxs)("div",{className:"mockup-actions",children:[(0,Ie.jsx)("div",{className:"mockup-button"}),(0,Ie.jsx)("div",{className:"mockup-button"})]})]}),(0,Ie.jsxs)("div",{className:"mockup-content",children:[(0,Ie.jsxs)("div",{className:"mockup-task completed",children:[(0,Ie.jsx)("div",{className:"mockup-checkbox checked"}),(0,Ie.jsx)("div",{className:"mockup-task-text",children:"Research competitor apps"})]}),(0,Ie.jsxs)("div",{className:"mockup-task highlighted",children:[(0,Ie.jsx)("div",{className:"mockup-checkbox"}),(0,Ie.jsx)("div",{className:"mockup-task-text",children:"Design landing page"})]}),(0,Ie.jsxs)("div",{className:"mockup-task",children:[(0,Ie.jsx)("div",{className:"mockup-checkbox"}),(0,Ie.jsx)("div",{className:"mockup-task-text",children:"Implement responsive layout"})]}),(0,Ie.jsxs)("div",{className:"mockup-task",children:[(0,Ie.jsx)("div",{className:"mockup-checkbox"}),(0,Ie.jsx)("div",{className:"mockup-task-text",children:"Test on mobile devices"})]}),(0,Ie.jsxs)("div",{className:"mockup-add-task",children:[(0,Ie.jsx)("span",{className:"add-icon",children:"+"}),(0,Ie.jsx)("span",{children:"Add New Task"})]})]})]})},{id:"categories",icon:"\ud83c\udff7\ufe0f",title:"Smart Categories",description:"Organize your tasks with customizable categories and filters to keep everything structured",benefits:["Create custom categories with color coding","Filter tasks by category with one click","Visualize task distribution at a glance","Separate work, personal, and other tasks effectively"],mockupContent:(0,Ie.jsx)("div",{className:"feature-mockup-content category-mockup",children:(0,Ie.jsxs)("div",{className:"mockup-sidebar",children:[(0,Ie.jsxs)("div",{className:"mockup-sidebar-item active",children:[(0,Ie.jsx)("span",{className:"item-icon",children:"\ud83d\udccb"}),"All Tasks",(0,Ie.jsx)("span",{className:"item-count",children:"12"})]}),(0,Ie.jsx)("div",{className:"mockup-sidebar-header",children:"Categories"}),(0,Ie.jsxs)("div",{className:"mockup-sidebar-item",children:[(0,Ie.jsx)("span",{className:"category-dot",style:{backgroundColor:"#6366f1"}}),"Work",(0,Ie.jsx)("span",{className:"item-count",children:"5"})]}),(0,Ie.jsxs)("div",{className:"mockup-sidebar-item",children:[(0,Ie.jsx)("span",{className:"category-dot",style:{backgroundColor:"#10b981"}}),"Personal",(0,Ie.jsx)("span",{className:"item-count",children:"4"})]}),(0,Ie.jsxs)("div",{className:"mockup-sidebar-item",children:[(0,Ie.jsx)("span",{className:"category-dot",style:{backgroundColor:"#f59e0b"}}),"Shopping",(0,Ie.jsx)("span",{className:"item-count",children:"2"})]}),(0,Ie.jsxs)("div",{className:"mockup-sidebar-item",children:[(0,Ie.jsx)("span",{className:"category-dot",style:{backgroundColor:"#ef4444"}}),"Health",(0,Ie.jsx)("span",{className:"item-count",children:"1"})]}),(0,Ie.jsxs)("div",{className:"mockup-add-category",children:[(0,Ie.jsx)("span",{className:"add-icon",children:"+"}),(0,Ie.jsx)("span",{children:"Add Category"})]})]})})},{id:"priority",icon:"\ud83d\udd0d",title:"Priority Levels",description:"Focus on what matters most by assigning importance levels to your tasks",benefits:["Set high, medium, or low priority with visual indicators","Sort tasks automatically by importance","Focus view to show only high-priority items","Never miss critical deadlines again"],mockupContent:(0,Ie.jsxs)("div",{className:"feature-mockup-content priority-mockup",children:[(0,Ie.jsxs)("div",{className:"priority-header",children:[(0,Ie.jsx)("h3",{children:"Priority View"}),(0,Ie.jsxs)("div",{className:"priority-filter",children:[(0,Ie.jsx)("span",{className:"priority-filter-item active",children:"All"}),(0,Ie.jsx)("span",{className:"priority-filter-item",children:"High"}),(0,Ie.jsx)("span",{className:"priority-filter-item",children:"Medium"}),(0,Ie.jsx)("span",{className:"priority-filter-item",children:"Low"})]})]}),(0,Ie.jsxs)("div",{className:"priority-tasks",children:[(0,Ie.jsxs)("div",{className:"mockup-priority high",children:[(0,Ie.jsx)("span",{className:"priority-indicator"}),(0,Ie.jsx)("span",{className:"priority-text",children:"Client presentation"}),(0,Ie.jsx)("span",{className:"priority-due",children:"Due today"})]}),(0,Ie.jsxs)("div",{className:"mockup-priority high",children:[(0,Ie.jsx)("span",{className:"priority-indicator"}),(0,Ie.jsx)("span",{className:"priority-text",children:"Finalize project proposal"}),(0,Ie.jsx)("span",{className:"priority-due",children:"Due tomorrow"})]}),(0,Ie.jsxs)("div",{className:"mockup-priority medium",children:[(0,Ie.jsx)("span",{className:"priority-indicator"}),(0,Ie.jsx)("span",{className:"priority-text",children:"Weekly team meeting"}),(0,Ie.jsx)("span",{className:"priority-due",children:"In 3 days"})]}),(0,Ie.jsxs)("div",{className:"mockup-priority low",children:[(0,Ie.jsx)("span",{className:"priority-indicator"}),(0,Ie.jsx)("span",{className:"priority-text",children:"Organize digital files"}),(0,Ie.jsx)("span",{className:"priority-due",children:"Next week"})]})]})]})},{id:"privacy",icon:"\ud83d\udd12",title:"Complete Privacy",description:"Your data stays on your device - no accounts, no tracking, no compromises",benefits:["Zero data collection or sharing","No account creation required","All information stored locally on your device","Complete control of your personal data"],mockupContent:(0,Ie.jsxs)("div",{className:"feature-mockup-content privacy-mockup",children:[(0,Ie.jsx)("div",{className:"privacy-icon",children:"\ud83d\udd12"}),(0,Ie.jsx)("div",{className:"privacy-message",children:"Your data never leaves your device"}),(0,Ie.jsxs)("div",{className:"privacy-illustration",children:[(0,Ie.jsx)("div",{className:"device-icon",children:"\ud83d\udcbb"}),(0,Ie.jsx)("div",{className:"privacy-shield",children:(0,Ie.jsx)("div",{className:"shield-icon",children:"\ud83d\udee1\ufe0f"})}),(0,Ie.jsx)("div",{className:"cloud-icon crossed-out",children:"\u2601\ufe0f"})]}),(0,Ie.jsxs)("div",{className:"privacy-details",children:[(0,Ie.jsxs)("div",{className:"privacy-detail",children:[(0,Ie.jsx)("span",{className:"privacy-check",children:"\u2713"}),(0,Ie.jsx)("span",{children:"No account required"})]}),(0,Ie.jsxs)("div",{className:"privacy-detail",children:[(0,Ie.jsx)("span",{className:"privacy-check",children:"\u2713"}),(0,Ie.jsx)("span",{children:"No tracking or analytics"})]}),(0,Ie.jsxs)("div",{className:"privacy-detail",children:[(0,Ie.jsx)("span",{className:"privacy-check",children:"\u2713"}),(0,Ie.jsx)("span",{children:"Local storage only"})]})]})]})}],l=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8e3;return i.current=setInterval((()=>{if(n||a.current)a.current&&setTimeout((()=>{a.current=!1}),3e4);else{const n=o.map((e=>e.id)),r=(n.indexOf(e)+1)%n.length;s(!0),t(n[r]),setTimeout((()=>s(!1)),500)}}),r),i.current};(0,r.useEffect)((()=>{const e=l();return()=>{e&&clearInterval(e)}}),[]);const c=o.find((t=>t.id===e));return(0,Ie.jsxs)("section",{className:"about-features-section",id:"about-features",children:[(0,Ie.jsxs)("div",{className:"features-header",children:[(0,Ie.jsx)("span",{className:"features-badge",children:"Powerful Yet Simple"}),(0,Ie.jsx)("h2",{children:"Everything You Need, Nothing You Don't"}),(0,Ie.jsx)("p",{className:"features-intro",children:"Tasklio focuses on the essential features that make task management effective, without the bloat and complexity of other apps."})]}),(0,Ie.jsx)("div",{className:"features-tabs-container",children:(0,Ie.jsx)("div",{className:"features-tabs",children:o.map((r=>(0,Ie.jsxs)("div",{className:"feature-tab ".concat(e===r.id?"active":""),onClick:()=>{return o=r.id,void(e===o||n||(a.current=!0,s(!0),t(o),setTimeout((()=>s(!1)),500),i.current&&(clearInterval(i.current),l(1e4))));var o},children:[(0,Ie.jsx)("div",{className:"feature-tab-icon",children:r.icon}),(0,Ie.jsx)("div",{className:"feature-tab-title",children:r.title})]},r.id)))})}),(0,Ie.jsxs)("div",{className:"feature-showcase",children:[(0,Ie.jsxs)("div",{className:"feature-content",children:[(0,Ie.jsx)("h3",{children:c.title}),(0,Ie.jsx)("p",{className:"feature-description",children:c.description}),(0,Ie.jsx)("ul",{className:"feature-benefits",children:c.benefits.map(((e,t)=>(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("span",{className:"benefit-checkmark",children:"\u2713"}),e]},t)))})]}),(0,Ie.jsx)("div",{className:"feature-visual",children:(0,Ie.jsx)("div",{className:"feature-mockup-container feature-".concat(e),children:c.mockupContent})})]}),(0,Ie.jsxs)("div",{className:"features-footer",children:[(0,Ie.jsxs)("div",{className:"features-badge special",children:[(0,Ie.jsx)("span",{className:"badge-icon",children:"\u2728"}),(0,Ie.jsx)("span",{className:"badge-text",children:"All features available for free, forever"})]}),(0,Ie.jsxs)("a",{href:"/app",className:"try-now-button",children:["Try Tasklio Now",(0,Ie.jsx)("span",{className:"arrow-icon",children:"\u2192"})]})]})]})},tt=()=>(0,Ie.jsxs)("section",{className:"developer-section",children:[(0,Ie.jsxs)("div",{className:"developer-intro",children:[(0,Ie.jsxs)("div",{className:"developer-photo",children:[(0,Ie.jsx)("div",{className:"developer-avatar",children:"\ud83d\udc68\u200d\ud83d\udcbb"}),(0,Ie.jsx)("div",{className:"developer-shape shape-1"}),(0,Ie.jsx)("div",{className:"developer-shape shape-2"})]}),(0,Ie.jsxs)("div",{className:"developer-bio",children:[(0,Ie.jsx)("h2",{children:"Developer"}),(0,Ie.jsx)("p",{className:"developer-tagline",children:"Hi, I'm Melvin Peralta, a junior developer passionate about creating useful web applications."}),(0,Ie.jsx)("p",{children:"I built this To-do App as part of my journey to become a better developer, focusing on creating a clean, intuitive experience that helps people stay organized."}),(0,Ie.jsx)("p",{children:"As I continue to grow as a developer, I'm committed to building tools that solve real problems and improve daily workflows without unnecessary complexity."}),(0,Ie.jsxs)("div",{className:"dev-stats",children:[(0,Ie.jsxs)("div",{className:"dev-stat",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"2"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Weeks"})]}),(0,Ie.jsxs)("div",{className:"dev-stat",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"1"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Developer"})]}),(0,Ie.jsxs)("div",{className:"dev-stat",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"0"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Funding"})]})]})]})]}),(0,Ie.jsxs)("div",{className:"development-timeline",children:[(0,Ie.jsx)("h3",{children:"The 14-Day Build"}),(0,Ie.jsxs)("div",{className:"timeline",children:[(0,Ie.jsx)("div",{className:"timeline-line"}),[{day:"Day 1-2",title:"Research & Concept",description:"Researched existing solutions and defined core features"},{day:"Day 3-5",title:"Design & Prototyping",description:"Created wireframes and visual design in Figma"},{day:"Day 6-10",title:"Frontend Development",description:"Built the React components and base functionality"},{day:"Day 11-12",title:"Data Management",description:"Implemented local storage and data persistence"},{day:"Day 13-14",title:"Testing & Launch",description:"Fixed bugs, tested on different devices, and launched"}].map(((e,t)=>(0,Ie.jsxs)("div",{className:"timeline-item",children:[(0,Ie.jsx)("div",{className:"timeline-day",children:e.day}),(0,Ie.jsxs)("div",{className:"timeline-content",children:[(0,Ie.jsx)("h4",{children:e.title}),(0,Ie.jsx)("p",{children:e.description})]})]},t)))]})]}),(0,Ie.jsxs)("div",{className:"development-principles",children:[(0,Ie.jsx)("h3",{children:"Development Approach"}),(0,Ie.jsxs)("div",{className:"principles-grid",children:[(0,Ie.jsxs)("div",{className:"principle-item",children:[(0,Ie.jsx)("div",{className:"principle-icon",children:"\ud83d\udd12"}),(0,Ie.jsx)("h4",{children:"Privacy by Design"}),(0,Ie.jsx)("p",{children:"All data stays on your device with no tracking or analytics"})]}),(0,Ie.jsxs)("div",{className:"principle-item",children:[(0,Ie.jsx)("div",{className:"principle-icon",children:"\u26a1"}),(0,Ie.jsx)("h4",{children:"Performance First"}),(0,Ie.jsx)("p",{children:"Optimized rendering with virtualized lists and memoization"})]}),(0,Ie.jsxs)("div",{className:"principle-item",children:[(0,Ie.jsx)("div",{className:"principle-icon",children:"\u267f"}),(0,Ie.jsx)("h4",{children:"Accessible to All"}),(0,Ie.jsx)("p",{children:"WCAG compliant with keyboard navigation and screen reader support"})]}),(0,Ie.jsxs)("div",{className:"principle-item",children:[(0,Ie.jsx)("div",{className:"principle-icon",children:"\ud83d\udcf1"}),(0,Ie.jsx)("h4",{children:"Responsive Design"}),(0,Ie.jsx)("p",{children:"Optimized UX across all devices from mobile to desktop"})]})]})]}),(0,Ie.jsxs)("div",{className:"tech-stack",children:[(0,Ie.jsx)("h3",{children:"Tech Stack"}),(0,Ie.jsx)("div",{className:"tech-grid",children:[{name:"React",icon:"\u269b\ufe0f",color:"#61dafb"},{name:"JavaScript",icon:"\ud83d\udcdc",color:"#f7df1e"},{name:"CSS3",icon:"\ud83c\udfa8",color:"#264de4"},{name:"HTML5",icon:"\ud83d\udcc4",color:"#e34f26"},{name:"LocalStorage",icon:"\ud83d\udcbe",color:"#6366f1"},{name:"Git",icon:"\ud83d\udcca",color:"#f05032"}].map(((e,t)=>(0,Ie.jsxs)("div",{className:"tech-item",style:{"--tech-color":e.color},children:[(0,Ie.jsx)("div",{className:"tech-icon",children:e.icon}),(0,Ie.jsx)("div",{className:"tech-name",children:e.name})]},t)))})]}),(0,Ie.jsx)("div",{className:"developer-quote",children:(0,Ie.jsx)("blockquote",{children:'"I believe that creating simple, accessible tools can have a big impact on people\'s productivity. This project represents my dedication to learning and growing as a developer."'})})]}),nt=()=>{const[e,t]=(0,r.useState)("all"),n=[{quarter:"Q3 2023",title:"Dark Mode & Themes",description:"Introducing dark mode and customizable color themes for better visibility and personalization.",status:"completed",icon:"\ud83c\udf19",date:"September 2023"},{quarter:"Q4 2023",title:"Mobile Responsive Design",description:"Optimizing Tasklio for all screen sizes and mobile devices to ensure a seamless experience everywhere.",status:"in-progress",icon:"\ud83d\udcf1",date:"December 2023"},{quarter:"Q1 2024",title:"Keyboard Shortcuts",description:"Add keyboard shortcuts for power users to boost productivity and efficiency.",status:"planned",icon:"\u2328\ufe0f",date:"March 2024"},{quarter:"Q2 2024",title:"Offline PWA Support",description:"Install Tasklio as a Progressive Web App for offline use and enhanced performance.",status:"planned",icon:"\ud83d\udd0c",date:"June 2024"},{quarter:"Q3 2024",title:"Recurring Tasks",description:"Set up tasks that repeat on a schedule automatically, perfect for regular activities.",status:"planned",icon:"\ud83d\udd04",date:"September 2024"},{quarter:"Q4 2024",title:"Data Export & Backup",description:"Export your tasks to CSV or JSON for backup or analysis to never lose your important data.",status:"planned",icon:"\ud83d\udce4",date:"December 2024"},{quarter:"Q1 2025",title:"Task Templates",description:"Create reusable task templates for common projects and workflows.",status:"planned",icon:"\ud83d\udccb",date:"March 2025"},{quarter:"Q2 2025",title:"Advanced Analytics",description:"Gain insights into your productivity patterns with detailed analytics.",status:"planned",icon:"\ud83d\udcca",date:"June 2025"}],s="all"===e?n:n.filter((t=>t.status===e)),i=n.filter((e=>"completed"===e.status)),a=n.filter((e=>"in-progress"===e.status)),o=n.filter((e=>"planned"===e.status)),l=n.length,c=Math.round(i.length/l*100),u=Math.round(a.length/l*100);Math.round(o.length/l*100);return(0,Ie.jsxs)("section",{className:"roadmap-section",children:[(0,Ie.jsxs)("div",{className:"roadmap-header",children:[(0,Ie.jsx)("h2",{children:"Product Roadmap"}),(0,Ie.jsx)("p",{className:"roadmap-intro",children:"Tasklio is constantly evolving. Here's my development plan to make your task management experience even better."}),(0,Ie.jsxs)("div",{className:"roadmap-progress",children:[(0,Ie.jsxs)("div",{className:"progress-circle-container",children:[(0,Ie.jsxs)("svg",{className:"progress-circle",width:"120",height:"120",viewBox:"0 0 120 120",children:[(0,Ie.jsx)("circle",{className:"progress-bg",cx:"60",cy:"60",r:"54"}),(0,Ie.jsx)("circle",{className:"progress-fill completed",cx:"60",cy:"60",r:"54",strokeDasharray:"339.292",strokeDashoffset:339.292*(1-c/100)}),(0,Ie.jsx)("circle",{className:"progress-fill in-progress",cx:"60",cy:"60",r:"54",strokeDasharray:"339.292",strokeDashoffset:339.292*(1-(c+u)/100)})]}),(0,Ie.jsxs)("div",{className:"progress-text",children:[(0,Ie.jsxs)("div",{className:"progress-percentage",children:[c,"%"]}),(0,Ie.jsx)("div",{className:"progress-label",children:"Complete"})]})]}),(0,Ie.jsxs)("div",{className:"progress-stats",children:[(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-indicator completed"}),(0,Ie.jsxs)("div",{className:"stat-info",children:[(0,Ie.jsx)("div",{className:"stat-count",children:i.length}),(0,Ie.jsx)("div",{className:"stat-label",children:"Completed"})]})]}),(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-indicator in-progress"}),(0,Ie.jsxs)("div",{className:"stat-info",children:[(0,Ie.jsx)("div",{className:"stat-count",children:a.length}),(0,Ie.jsx)("div",{className:"stat-label",children:"In Progress"})]})]}),(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-indicator planned"}),(0,Ie.jsxs)("div",{className:"stat-info",children:[(0,Ie.jsx)("div",{className:"stat-count",children:o.length}),(0,Ie.jsx)("div",{className:"stat-label",children:"Planned"})]})]})]})]}),(0,Ie.jsxs)("div",{className:"roadmap-filters",children:[(0,Ie.jsx)("button",{className:"filter-btn ".concat("all"===e?"active":""),onClick:()=>t("all"),children:"All Features"}),(0,Ie.jsx)("button",{className:"filter-btn ".concat("completed"===e?"active":""),onClick:()=>t("completed"),children:"Completed"}),(0,Ie.jsx)("button",{className:"filter-btn ".concat("in-progress"===e?"active":""),onClick:()=>t("in-progress"),children:"In Progress"}),(0,Ie.jsx)("button",{className:"filter-btn ".concat("planned"===e?"active":""),onClick:()=>t("planned"),children:"Planned"})]})]}),(0,Ie.jsxs)("div",{className:"roadmap-timeline",children:[(0,Ie.jsx)("div",{className:"timeline-track"}),s.map(((e,t)=>(0,Ie.jsxs)("div",{className:"timeline-item ".concat(e.status),style:{animationDelay:"".concat(.1*t,"s")},children:[(0,Ie.jsx)("div",{className:"timeline-marker"}),(0,Ie.jsxs)("div",{className:"timeline-content",children:[(0,Ie.jsxs)("div",{className:"item-meta",children:[(0,Ie.jsx)("span",{className:"item-quarter",children:e.quarter}),(0,Ie.jsx)("span",{className:"item-date",children:e.date}),(0,Ie.jsx)("span",{className:"item-status ".concat(e.status),children:"completed"===e.status?"Completed":"in-progress"===e.status?"In Progress":"Planned"})]}),(0,Ie.jsx)("div",{className:"item-icon",children:e.icon}),(0,Ie.jsx)("h4",{className:"item-title",children:e.title}),(0,Ie.jsx)("p",{className:"item-description",children:e.description})]})]},t)))]}),(0,Ie.jsxs)("div",{className:"roadmap-upcoming",children:[(0,Ie.jsx)("h3",{children:"What's Coming Next"}),(0,Ie.jsx)("div",{className:"upcoming-grid",children:o.slice(0,3).map(((e,t)=>(0,Ie.jsxs)("div",{className:"upcoming-card",children:[(0,Ie.jsx)("div",{className:"upcoming-icon",children:e.icon}),(0,Ie.jsx)("h4",{children:e.title}),(0,Ie.jsx)("p",{children:e.description}),(0,Ie.jsxs)("div",{className:"upcoming-eta",children:["ETA: ",e.date]})]},t)))})]}),(0,Ie.jsxs)("div",{className:"roadmap-community",children:[(0,Ie.jsxs)("div",{className:"community-content",children:[(0,Ie.jsx)("h3",{children:"Have a Feature Request?"}),(0,Ie.jsx)("p",{children:"Tasklio is built with users in mind. If there's a feature you'd like to see, feel free to open an issue on GitHub or send me an email with your thoughts."}),(0,Ie.jsxs)("div",{className:"community-actions",children:[(0,Ie.jsxs)("a",{href:"mailto:feedback@tasklio.app",className:"feedback-button",children:[(0,Ie.jsx)("span",{className:"feedback-icon",children:"\u2709\ufe0f"}),(0,Ie.jsx)("span",{children:"Send Feedback"})]}),(0,Ie.jsxs)("a",{href:"https://github.com/username/tasklio/issues/new",className:"github-button",children:[(0,Ie.jsx)("span",{className:"github-icon",children:(0,Ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),(0,Ie.jsx)("span",{children:"Submit on GitHub"})]})]})]}),(0,Ie.jsx)("div",{className:"community-illustration",children:(0,Ie.jsxs)("div",{className:"feedback-illustration",children:[(0,Ie.jsxs)("div",{className:"feedback-bubble bubble-1",children:[(0,Ie.jsx)("span",{className:"bubble-emoji",children:"\ud83d\udca1"}),(0,Ie.jsx)("div",{className:"bubble-line"}),(0,Ie.jsx)("div",{className:"bubble-line"})]}),(0,Ie.jsxs)("div",{className:"feedback-bubble bubble-2",children:[(0,Ie.jsx)("span",{className:"bubble-emoji",children:"\ud83d\ude80"}),(0,Ie.jsx)("div",{className:"bubble-line"}),(0,Ie.jsx)("div",{className:"bubble-line"})]}),(0,Ie.jsxs)("div",{className:"feedback-bubble bubble-3",children:[(0,Ie.jsx)("span",{className:"bubble-emoji",children:"\u2728"}),(0,Ie.jsx)("div",{className:"bubble-line"}),(0,Ie.jsx)("div",{className:"bubble-line"})]})]})})]})]})},st=e=>{let{language:t,fileName:n,code:s}=e;return(0,Ie.jsxs)("div",{className:"code-mockup",children:[(0,Ie.jsxs)("div",{className:"code-header",children:[(0,Ie.jsxs)("div",{className:"code-dots",children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]}),(0,Ie.jsx)("div",{className:"code-file-name",children:n}),(0,Ie.jsx)("div",{className:"code-language",children:{jsx:"React JSX",js:"JavaScript",css:"CSS",html:"HTML",json:"JSON"}[t]||t})]}),(0,Ie.jsx)("div",{className:"code-content",children:(0,Ie.jsx)("pre",{children:(0,Ie.jsx)("code",{dangerouslySetInnerHTML:{__html:(e=>("jsx"!==t&&"js"!==t||(e=(e=(e=(e=e.replace(/(import|export|from|const|let|var|function|return|if|else|for|while|class|extends|=>)/g,'<span class="keyword">$1</span>')).replace(/(['"`])(.*?)(['"`])/g,'<span class="string">$1$2$3</span>')).replace(/(<\/?)([A-Z][a-zA-Z]*)/g,'$1<span class="component">$2</span>')).replace(/(\/\/.*|\/\*[\s\S]*?\*\/)/g,'<span class="comment">$1</span>')),"css"===t&&(e=(e=e.replace(/([\w-]+)(\s*):(\s*)([^;]+)(;)/g,'<span class="property">$1</span>$2:$3<span class="value">$4</span>$5')).replace(/([.#][\w-]+)(\s*\{)/g,'<span class="selector">$1</span>$2')),e))(s)}})})})]})},rt=()=>{const[e,t]=(0,r.useState)("component"),n={component:{fileName:"TaskItem.jsx",language:"jsx",description:"Core React component that renders task items with drag-and-drop functionality, animations, and real-time updates",code:'import React, { useState, useRef } from \'react\';\nimport { useDrag, useDrop } from \'react-dnd\';\nimport { motion, AnimatePresence } from \'framer-motion\';\nimport { formatDistanceToNow } from \'date-fns\';\nimport PropTypes from \'prop-types\';\nimport \'./TaskItem.css\';\n\nconst ITEM_TYPE = \'TASK\';\n\nconst TaskItem = ({\n  task,\n  index,\n  moveTask,\n  onToggleComplete,\n  onEdit,\n  onDelete,\n  onAddSubtask\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [showOptions, setShowOptions] = useState(false);\n\n  // References for drag and drop\n  const ref = useRef(null);\n\n  // Setup drag functionality\n  const [{ isDragging }, drag] = useDrag({\n    type: ITEM_TYPE,\n    item: { index },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  // Setup drop functionality\n  const [, drop] = useDrop({\n    accept: ITEM_TYPE,\n    hover(item, monitor) {\n      if (!ref.current) return;\n      const dragIndex = item.index;\n      const hoverIndex = index;\n\n      // Don\'t replace items with themselves\n      if (dragIndex === hoverIndex) return;\n\n      // Calculate position\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      const clientOffset = monitor.getClientOffset();\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n      // Dragging downwards, only move when cursor passes middle\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) return;\n\n      // Dragging upwards, only move when cursor passes middle\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) return;\n\n      // Time to actually perform the action\n      moveTask(dragIndex, hoverIndex);\n      item.index = hoverIndex;\n    }\n  });\n\n  // Connect drag and drop refs\n  drag(drop(ref));\n\n  // Format relative time\n  const formattedDueDate = task.dueDate\n    ? formatDistanceToNow(new Date(task.dueDate), { addSuffix: true })\n    : null;\n\n  // Animation variants\n  const taskVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.3 } },\n    exit: { opacity: 0, x: -100, transition: { duration: 0.2 } }\n  };\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        ref={ref}\n        className={`task-item ${task.completed ? \'completed\' : \'\'} ${isDragging ? \'dragging\' : \'\'}`}\n        initial="hidden"\n        animate="visible"\n        exit="exit"\n        variants={taskVariants}\n        onMouseEnter={() => setShowOptions(true)}\n        onMouseLeave={() => setShowOptions(false)}\n        data-testid={`task-item-${task.id}`}\n      >\n        <div className="task-priority-indicator" data-priority={task.priority}></div>\n\n        <div className="task-main-content">\n          <div className="task-checkbox">\n            <input\n              type="checkbox"\n              checked={task.completed}\n              onChange={() => onToggleComplete(task.id)}\n              id={`task-${task.id}`}\n            />\n            <label htmlFor={`task-${task.id}`} className="checkmark"></label>\n          </div>\n\n          <div className="task-content">\n            <h3 className="task-title" onClick={() => setIsExpanded(!isExpanded)}>\n              {task.title}\n            </h3>\n\n            {task.description && isExpanded && (\n              <motion.p\n                className="task-description"\n                initial={{ height: 0, opacity: 0 }}\n                animate={{ height: \'auto\', opacity: 1 }}\n                exit={{ height: 0, opacity: 0 }}\n              >\n                {task.description}\n              </motion.p>\n            )}\n\n            <div className="task-meta">\n              {task.dueDate && (\n                <span className={`task-due-date ${isOverdue(task.dueDate) ? \'overdue\' : \'\'}`}>\n                  {formattedDueDate}\n                </span>\n              )}\n\n              {task.category && (\n                <span className={`task-category ${task.category}`}>\n                  {task.category}\n                </span>\n              )}\n\n              {task.subtasks && task.subtasks.length > 0 && (\n                <span className="subtask-count">\n                  {task.subtasks.filter(s => s.completed).length}/{task.subtasks.length}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {showOptions && (\n          <motion.div\n            className="task-actions"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n          >\n            <button\n              className="task-action edit-btn"\n              onClick={() => onEdit(task)}\n              aria-label="Edit task"\n            >\n              <EditIcon />\n            </button>\n            <button\n              className="task-action subtask-btn"\n              onClick={() => onAddSubtask(task.id)}\n              aria-label="Add subtask"\n            >\n              <SubtaskIcon />\n            </button>\n            <button\n              className="task-action delete-btn"\n              onClick={() => onDelete(task.id)}\n              aria-label="Delete task"\n            >\n              <DeleteIcon />\n            </button>\n          </motion.div>\n        )}\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\n// Helpers\nconst isOverdue = (dueDate) => {\n  return new Date(dueDate) < new Date() && new Date(dueDate).setHours(0,0,0,0) < new Date().setHours(0,0,0,0);\n};\n\n// Icons components\nconst EditIcon = () => (\n  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M18.5 2.5C18.8978 2.10217 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10217 21.5 2.5C21.8978 2.89783 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10217 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n  </svg>\n);\n\nconst DeleteIcon = () => (\n  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 6H5H21" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M10 11V17" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M14 11V17" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n  </svg>\n);\n\nconst SubtaskIcon = () => (\n  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8 6H21" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M8 12H21" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M8 18H21" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M3 6H3.01" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M3 12H3.01" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n    <path d="M3 18H3.01" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>\n  </svg>\n);\n\nTaskItem.propTypes = {\n  task: PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    completed: PropTypes.bool.isRequired,\n    dueDate: PropTypes.string,\n    priority: PropTypes.string,\n    category: PropTypes.string,\n    subtasks: PropTypes.array\n  }).isRequired,\n  index: PropTypes.number.isRequired,\n  moveTask: PropTypes.func.isRequired,\n  onToggleComplete: PropTypes.func.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onAddSubtask: PropTypes.func.isRequired\n};\n\nexport default TaskItem;'},styling:{fileName:"TaskItem.css",language:"css",description:"Advanced CSS with custom animations, responsive design, and detailed styling for all task states",code:".task-item {\n  --task-padding: 16px;\n  --task-border-radius: 12px;\n  --transition-speed: 0.25s;\n\n  background-color: var(--task-bg, white);\n  border-radius: var(--task-border-radius);\n  padding: var(--task-padding);\n  margin-bottom: 12px;\n  display: flex;\n  align-items: flex-start;\n  position: relative;\n  overflow: hidden;\n  border: 1px solid var(--border-color, #edf2f7);\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  transition: all var(--transition-speed) ease-in-out,\n              transform 0.15s ease-in-out,\n              box-shadow 0.2s ease-in-out;\n}\n\n/* Left-side priority indicator */\n.task-priority-indicator {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 4px;\n  background-color: #a0aec0; /* Default color */\n}\n\n.task-priority-indicator[data-priority=\"high\"] {\n  background-color: var(--priority-high-color, #e53e3e);\n}\n\n.task-priority-indicator[data-priority=\"medium\"] {\n  background-color: var(--priority-medium-color, #dd6b20);\n}\n\n.task-priority-indicator[data-priority=\"low\"] {\n  background-color: var(--priority-low-color, #38a169);\n}\n\n/* Main content layout */\n.task-main-content {\n  flex: 1;\n  display: flex;\n  gap: 12px;\n}\n\n/* Hover and focus states */\n.task-item:hover,\n.task-item:focus-within {\n  transform: translateY(-3px);\n  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);\n}\n\n/* Dragging state */\n.task-item.dragging {\n  opacity: 0.6;\n  transform: scale(1.02);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\n}\n\n/* Completed task styles */\n.task-item.completed {\n  background-color: var(--completed-bg, #f7fafc);\n  border-color: var(--completed-border, #edf2f7);\n}\n\n.task-item.completed .task-title {\n  text-decoration: line-through;\n  color: var(--completed-text, #a0aec0);\n}\n\n/* Custom checkbox styling */\n.task-checkbox {\n  position: relative;\n  width: 24px;\n  height: 24px;\n  flex-shrink: 0;\n  margin-top: 3px;\n}\n\n.task-checkbox input {\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n}\n\n.checkmark {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 22px;\n  width: 22px;\n  border: 2px solid var(--checkbox-border, #a0aec0);\n  border-radius: 6px;\n  background-color: transparent;\n  transition: all 0.2s ease;\n}\n\n.task-checkbox:hover .checkmark {\n  border-color: var(--checkbox-hover, #6366f1);\n}\n\n.task-checkbox input:checked ~ .checkmark {\n  background-color: var(--checkbox-checked-bg, #6366f1);\n  border-color: var(--checkbox-checked-border, #6366f1);\n}\n\n.checkmark:after {\n  content: \"\";\n  position: absolute;\n  display: none;\n  left: 7px;\n  top: 3px;\n  width: 6px;\n  height: 11px;\n  border: solid white;\n  border-width: 0 2px 2px 0;\n  transform: rotate(45deg);\n}\n\n.task-checkbox input:checked ~ .checkmark:after {\n  display: block;\n  animation: checkmark 0.2s ease-in-out forwards;\n}\n\n@keyframes checkmark {\n  0% {\n    height: 0;\n    width: 0;\n    opacity: 0;\n  }\n  100% {\n    height: 11px;\n    width: 6px;\n    opacity: 1;\n  }\n}\n\n/* Task content styles */\n.task-content {\n  flex: 1;\n}\n\n.task-title {\n  font-weight: 600;\n  color: var(--title-color, #1a202c);\n  margin-bottom: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: color 0.2s ease;\n}\n\n.task-title:hover {\n  color: var(--title-hover, #6366f1);\n}\n\n.task-description {\n  color: var(--description-color, #718096);\n  font-size: 0.9rem;\n  margin-bottom: 8px;\n  line-height: 1.5;\n}\n\n.task-meta {\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  font-size: 0.85rem;\n}\n\n.task-due-date {\n  color: var(--due-date-color, #718096);\n  display: flex;\n  align-items: center;\n}\n\n.task-due-date.overdue {\n  color: var(--overdue-color, #e53e3e);\n  font-weight: 600;\n}\n\n.task-category {\n  padding: 2px 8px;\n  border-radius: 20px;\n  background-color: var(--category-bg, #f7fafc);\n  color: var(--category-color, #718096);\n  font-weight: 500;\n}\n\n.task-category.work {\n  background-color: var(--work-category-bg, rgba(66, 153, 225, 0.1));\n  color: var(--work-category-color, #3182ce);\n}\n\n.task-category.personal {\n  background-color: var(--personal-category-bg, rgba(154, 230, 180, 0.1));\n  color: var(--personal-category-color, #38a169);\n}\n\n.task-category.health {\n  background-color: var(--health-category-bg, rgba(252, 129, 129, 0.1));\n  color: var(--health-category-color, #e53e3e);\n}\n\n.subtask-count {\n  color: var(--subtask-count-color, #718096);\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.subtask-count::before {\n  content: '';\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23718096' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='8' y1='6' x2='21' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='12' x2='21' y2='12'%3E%3C/line%3E%3Cline x1='8' y1='18' x2='21' y2='18'%3E%3C/line%3E%3Cline x1='3' y1='6' x2='3.01' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='12' x2='3.01' y2='12'%3E%3C/line%3E%3Cline x1='3' y1='18' x2='3.01' y2='18'%3E%3C/line%3E%3C/svg%3E\");\n  background-size: contain;\n}\n\n/* Task action buttons */\n.task-actions {\n  display: flex;\n  gap: 8px;\n  margin-left: 16px;\n}\n\n.task-action {\n  background: none;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  cursor: pointer;\n  color: var(--action-color, #a0aec0);\n  transition: all 0.2s ease;\n}\n\n.task-action svg {\n  width: 16px;\n  height: 16px;\n}\n\n.task-action:hover {\n  background-color: var(--action-hover-bg, #f7fafc);\n  color: var(--action-hover-color, #4a5568);\n}\n\n.edit-btn:hover {\n  color: var(--edit-hover-color, #6366f1);\n}\n\n.delete-btn:hover {\n  color: var(--delete-hover-color, #e53e3e);\n}\n\n.subtask-btn:hover {\n  color: var(--subtask-hover-color, #38a169);\n}\n\n/* Mobile Styles */\n@media (max-width: 640px) {\n  .task-item {\n    padding: 12px;\n  }\n\n  .task-actions {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    margin-left: 0;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 2px;\n    border-radius: 16px;\n  }\n\n  .task-action {\n    width: 28px;\n    height: 28px;\n  }\n}"},hooks:{fileName:"useTasks.js",language:"js",description:"Custom React Hook that encapsulates task management logic with state, local storage persistence, and sorting functionality",code:"import { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\n/**\n * Custom hook for task management with local storage persistence\n */\nexport const useTasks = () => {\n  // Initialize state from localStorage or with empty array\n  const [tasks, setTasks] = useState(() => {\n    try {\n      const storedTasks = localStorage.getItem('tasklio-tasks');\n      return storedTasks ? JSON.parse(storedTasks) : [];\n    } catch (error) {\n      console.error('Error loading tasks from localStorage:', error);\n      return [];\n    }\n  });\n\n  const [filter, setFilter] = useState('all'); // all, active, completed\n  const [sort, setSort] = useState({ by: 'dueDate', order: 'asc' });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categories, setCategories] = useState(() => {\n    try {\n      const storedCategories = localStorage.getItem('tasklio-categories');\n      return storedCategories ? JSON.parse(storedCategories) : [\n        { id: 'work', name: 'Work', color: '#3182ce' },\n        { id: 'personal', name: 'Personal', color: '#38a169' },\n        { id: 'health', name: 'Health', color: '#e53e3e' }\n      ];\n    } catch (error) {\n      console.error('Error loading categories from localStorage:', error);\n      return [];\n    }\n  });\n\n  // Persist tasks to localStorage whenever they change\n  useEffect(() => {\n    try {\n      localStorage.setItem('tasklio-tasks', JSON.stringify(tasks));\n    } catch (error) {\n      console.error('Error saving tasks to localStorage:', error);\n    }\n  }, [tasks]);\n\n  // Persist categories to localStorage whenever they change\n  useEffect(() => {\n    try {\n      localStorage.setItem('tasklio-categories', JSON.stringify(categories));\n    } catch (error) {\n      console.error('Error saving categories to localStorage:', error);\n    }\n  }, [categories]);\n\n  // Filter tasks\n  const filteredTasks = tasks.filter(task => {\n    // Filter by completion status\n    if (filter === 'active' && task.completed) return false;\n    if (filter === 'completed' && !task.completed) return false;\n\n    // Filter by search term\n    if (searchTerm.trim()) {\n      const term = searchTerm.toLowerCase();\n      const matchesTitle = task.title.toLowerCase().includes(term);\n      const matchesDescription = task.description?.toLowerCase().includes(term);\n      return matchesTitle || matchesDescription;\n    }\n\n    return true;\n  });\n\n  // Sort tasks\n  const sortedTasks = [...filteredTasks].sort((a, b) => {\n    let valueA, valueB;\n\n    // Extract values based on sort.by\n    switch(sort.by) {\n      case 'dueDate':\n        valueA = a.dueDate ? new Date(a.dueDate) : new Date(8640000000000000);\n        valueB = b.dueDate ? new Date(8640000000000000);\n        break;\n      case 'priority':\n        const priorityValues = { high: 3, medium: 2, low: 1 };\n        valueA = priorityValues[a.priority] || 0;\n        valueB = priorityValues[b.priority] || 0;\n        break;\n      case 'alphabetical':\n        valueA = a.title.toLowerCase();\n        valueB = b.title.toLowerCase();\n        break;\n      case 'createdAt':\n        valueA = new Date(a.createdAt);\n        valueB = new Date(b.createdAt);\n        break;\n      default:\n        valueA = a[sort.by];\n        valueB = b[sort.by];\n    }\n\n    // Compare values\n    if (valueA < valueB) return sort.order === 'asc' ? -1 : 1;\n    if (valueA > valueB) return sort.order === 'asc' ? 1 : -1;\n    return 0;\n  });\n\n  // Add a new task\n  const addTask = (taskData) => {\n    const newTask = {\n      id: uuidv4(),\n      title: taskData.title,\n      description: taskData.description || '',\n      completed: false,\n      createdAt: new Date().toISOString(),\n      dueDate: taskData.dueDate || null,\n      priority: taskData.priority || 'medium',\n      category: taskData.category || null,\n      subtasks: taskData.subtasks || []\n    };\n\n    setTasks(prevTasks => [...prevTasks, newTask]);\n    return newTask;\n  };\n\n  // Update an existing task\n  const updateTask = (taskId, updatedFields) => {\n    setTasks(prevTasks =>\n      prevTasks.map(task =>\n        task.id === taskId\n          ? { ...task, ...updatedFields }\n          : task\n      )\n    );\n  };\n\n  // Delete a task\n  const deleteTask = (taskId) => {\n    setTasks(prevTasks => prevTasks.filter(task => task.id !== taskId));\n  };\n\n  // Toggle completion status of a task\n  const toggleTaskCompletion = (taskId) => {\n    setTasks(prevTasks =>\n      prevTasks.map(task =>\n        task.id === taskId\n          ? { ...task, completed: !task.completed }\n          : task\n      )\n    );\n  };\n\n  // Add a subtask to a task\n  const addSubtask = (taskId, subtaskData) => {\n    setTasks(prevTasks =>\n      prevTasks.map(task => {\n        if (task.id === taskId) {\n          const newSubtask = {\n            id: uuidv4(),\n            title: subtaskData.title,\n            completed: false,\n            createdAt: new Date().toISOString()\n          };\n\n          return {\n            ...task,\n            subtasks: [...(task.subtasks || []), newSubtask]\n          };\n        }\n        return task;\n      })\n    );\n  };\n\n  // Toggle completion status of a subtask\n  const toggleSubtaskCompletion = (taskId, subtaskId) => {\n    setTasks(prevTasks =>\n      prevTasks.map(task => {\n        if (task.id === taskId && task.subtasks) {\n          return {\n            ...task,\n            subtasks: task.subtasks.map(subtask =>\n              subtask.id === subtaskId\n                ? { ...subtask, completed: !subtask.completed }\n                : subtask\n            )\n          };\n        }\n        return task;\n      })\n    );\n  };\n\n  // Add a new category\n  const addCategory = (categoryData) => {\n    const newCategory = {\n      id: categoryData.id || categoryData.name.toLowerCase().replace(/s+/g, '-'),\n      name: categoryData.name,\n      color: categoryData.color || '#6366f1'\n    };\n\n    setCategories(prevCategories => [...prevCategories, newCategory]);\n    return newCategory;\n  };\n\n  // Delete a category\n  const deleteCategory = (categoryId) => {\n    setCategories(prevCategories =>\n      prevCategories.filter(category => category.id !== categoryId)\n    );\n\n    // Also update any tasks using this category\n    setTasks(prevTasks =>\n      prevTasks.map(task =>\n        task.category === categoryId\n          ? { ...task, category: null }\n          : task\n      )\n    );\n  };\n\n  // Update task order (for drag and drop)\n  const moveTask = (fromIndex, toIndex) => {\n    setTasks(prevTasks => {\n      const result = Array.from(prevTasks);\n      const [removed] = result.splice(fromIndex, 1);\n      result.splice(toIndex, 0, removed);\n      return result;\n    });\n  };\n\n  return {\n    tasks: sortedTasks,\n    filter,\n    sort,\n    searchTerm,\n    categories,\n    stats: {\n      total: tasks.length,\n      active: tasks.filter(t => !t.completed).length,\n      completed: tasks.filter(t => t.completed).length,\n      overdue: tasks.filter(t => !t.completed && t.dueDate && new Date(t.dueDate) < new Date()).length\n    },\n    addTask,\n    updateTask,\n    deleteTask,\n    toggleTaskCompletion,\n    addSubtask,\n    toggleSubtaskCompletion,\n    setFilter,\n    setSort,\n    setSearchTerm,\n    addCategory,\n    deleteCategory,\n    moveTask\n  };\n};\n\nexport default useTasks;"},architecture:{fileName:"architecture.md",language:"markdown",description:"Documentation on the app's architecture and design principles",code:"# Tasklio Architecture Documentation\n\n## 1. Overview\n\nTasklio is a privacy-focused, client-side task management application built with React. It focuses on simplicity, performance, and user privacy by storing all data locally in the browser.\n\n## 2. Core Principles\n\n- **Privacy First**: No data ever leaves the user's device\n- **Performance**: Minimizes re-renders and optimizes for speed\n- **Accessibility**: Follows WCAG 2.1 AA standards\n- **Progressive Enhancement**: Works without JavaScript, enhanced with it\n- **Responsive Design**: Optimized for all screen sizes\n- **Offline Capability**: Works without an internet connection\n\n## 3. Technical Stack\n\n- **Frontend Framework**: React 18\n- **State Management**: React Context + Hooks\n- **UI Components**: Custom components (no UI library)\n- **Storage**: localStorage (indexed DB for attachments)\n- **Styling**: CSS Modules + CSS Variables\n- **Build Tool**: Vite\n- **Testing**: Jest + React Testing Library\n- **Deployment**: Netlify (static site)\n\n## 4. Architecture Overview\n\n### Component Structure\n\nTasklio follows an atomic design pattern with the following hierarchy:\n\n```\nsrc/\n\u251c\u2500\u2500 components/          # Shared components\n\u2502   \u251c\u2500\u2500 atoms/           # Basic UI elements (buttons, inputs)\n\u2502   \u251c\u2500\u2500 molecules/       # Composite components (task items, forms)\n\u2502   \u251c\u2500\u2500 organisms/       # Complex components (task lists, sidebar)\n\u2502   \u251c\u2500\u2500 templates/       # Page layouts\n\u2502   \u2514\u2500\u2500 pages/           # Full page components\n\u251c\u2500\u2500 hooks/               # Custom React hooks\n\u251c\u2500\u2500 contexts/            # React contexts for state management\n\u251c\u2500\u2500 utils/               # Utility functions\n\u251c\u2500\u2500 styles/              # Global styles and variables\n\u2514\u2500\u2500 App.jsx              # Main application component\n```\n\n### Data Flow\n\n1. **State Management**:\n   - App-wide state is managed using React Context\n   - Component-specific state uses useState or useReducer\n   - Custom hooks encapsulate related state logic\n\n2. **Data Persistence**:\n   - Task data is saved to localStorage on each change\n   - Throttled saves prevent excessive writes\n   - Data migration logic handles schema changes between versions\n\n3. **Component Communication**:\n   - Parent-to-child: Props\n   - Child-to-parent: Callback functions\n   - Siblings/distant: Context API\n\n## 5. Key Components\n\n### Task Management\n\n- **TaskProvider**: Context provider that exposes task CRUD operations\n- **TaskList**: Renders task items with virtualization for performance\n- **TaskItem**: Individual task component with edit/delete capabilities\n- **TaskForm**: Form for creating and editing tasks\n\n### UI Components\n\n- **ThemeProvider**: Manages light/dark mode and custom themes\n- **Modal**: Reusable modal component for forms and dialogs\n- **Dropdown**: Custom dropdown menu component\n- **Toast**: Notification system for user feedback\n\n## 6. Performance Optimizations\n\n- **Component Memoization**: React.memo for expensive components\n- **Virtualized Lists**: Only render visible tasks\n- **Throttled & Debounced Events**: Prevent excessive function calls\n- **Code Splitting**: Lazy load components not needed on initial render\n- **Optimistic UI Updates**: Update UI before completing async operations\n\n## 7. Accessibility Features\n\n- **Keyboard Navigation**: Full keyboard support for all interactions\n- **Screen Reader Support**: ARIA attributes and semantic HTML\n- **Focus Management**: Proper focus trapping in modals\n- **Color Contrast**: Compliant with WCAG AA standards\n- **Reduced Motion**: Respects user preferences for animations\n\n## 8. Future Improvements\n\n- **PWA Support**: Service worker for offline functionality\n- **Cloud Sync Option**: Optional sync with user's cloud storage\n- **Data Export/Import**: Allow users to backup and restore data\n- **Collaborative Features**: Share tasks via one-time links\n- **Advanced Analytics**: Insights into productivity patterns"}};return(0,Ie.jsxs)("section",{className:"codebase-section",children:[(0,Ie.jsxs)("div",{className:"codebase-header",children:[(0,Ie.jsx)("h2",{children:"Inside the Codebase"}),(0,Ie.jsx)("p",{className:"codebase-intro",children:"Explore how Tasklio is built with clean, maintainable code following modern React best practices. Below are actual examples from the codebase."})]}),(0,Ie.jsxs)("div",{className:"code-showcase",children:[(0,Ie.jsxs)("div",{className:"code-tabs",children:[(0,Ie.jsx)("button",{className:"code-tab ".concat("component"===e?"active":""),onClick:()=>t("component"),children:"React Component"}),(0,Ie.jsx)("button",{className:"code-tab ".concat("styling"===e?"active":""),onClick:()=>t("styling"),children:"CSS Styling"}),(0,Ie.jsx)("button",{className:"code-tab ".concat("hooks"===e?"active":""),onClick:()=>t("hooks"),children:"Custom Hooks"}),(0,Ie.jsx)("button",{className:"code-tab ".concat("architecture"===e?"active":""),onClick:()=>t("architecture"),children:"Architecture"})]}),(0,Ie.jsxs)("div",{className:"code-panel",children:[(0,Ie.jsxs)("div",{className:"code-file-header",children:[(0,Ie.jsx)("span",{className:"code-file-name",children:n[e].fileName}),(0,Ie.jsx)("span",{className:"code-file-badge",children:"architecture"===e?"Documentation":"Source Code"})]}),(0,Ie.jsx)("p",{className:"code-file-description",children:n[e].description}),(0,Ie.jsx)(st,{language:n[e].language,fileName:n[e].fileName,code:n[e].code})]})]}),(0,Ie.jsxs)("div",{className:"codebase-features",children:[(0,Ie.jsxs)("div",{className:"codebase-feature",children:[(0,Ie.jsx)("div",{className:"feature-icon",children:"\ud83d\udd0d"}),(0,Ie.jsx)("h3",{children:"Clean Architecture"}),(0,Ie.jsx)("p",{children:"Well-organized code with clear separation of concerns"})]}),(0,Ie.jsxs)("div",{className:"codebase-feature",children:[(0,Ie.jsx)("div",{className:"feature-icon",children:"\ud83e\udde9"}),(0,Ie.jsx)("h3",{children:"Reusable Components"}),(0,Ie.jsx)("p",{children:"Modular design with composable and maintainable components"})]}),(0,Ie.jsxs)("div",{className:"codebase-feature",children:[(0,Ie.jsx)("div",{className:"feature-icon",children:"\u26a1"}),(0,Ie.jsx)("h3",{children:"Performance Optimized"}),(0,Ie.jsx)("p",{children:"Efficient rendering with React hooks and memoization"})]}),(0,Ie.jsxs)("div",{className:"codebase-feature",children:[(0,Ie.jsx)("div",{className:"feature-icon",children:"\ud83d\udcf1"}),(0,Ie.jsx)("h3",{children:"Responsive Design"}),(0,Ie.jsx)("p",{children:"Adaptive layouts that work on all devices and screen sizes"})]})]})]})},it=()=>{const[e,t]=(0,r.useState)(!1),[n,s]=(0,r.useState)([{id:1,title:"Complete project proposal",due:"Today",completed:!1,priority:"high"},{id:2,title:"Schedule team meeting",due:"Completed",completed:!0,priority:"medium"},{id:3,title:"Pick up groceries",due:"Tomorrow",completed:!1,priority:"low"},{id:4,title:"Plan weekend activities",due:"Friday",completed:!1,priority:"medium"}]),[i,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1);return(0,Ie.jsxs)("section",{className:"interactive-mockup-section",children:[(0,Ie.jsx)("div",{className:"mockup-intro",children:(0,Ie.jsx)("button",{className:"try-it-button",onClick:()=>{t(!0)},children:"Try Tasklio Demo"})}),e&&(0,Ie.jsx)("div",{className:"mockup-overlay",children:(0,Ie.jsxs)("div",{className:"mockup-popup",children:[(0,Ie.jsx)("button",{className:"mockup-close-btn",onClick:()=>{t(!1),l(!1)},children:"\xd7"}),(0,Ie.jsxs)("div",{className:"interactive-app-mockup",children:[(0,Ie.jsxs)("div",{className:"mockup-header",children:[(0,Ie.jsx)("div",{className:"mockup-title",children:"My Tasks"}),(0,Ie.jsxs)("div",{className:"mockup-actions",children:[(0,Ie.jsx)("div",{className:"mockup-action"}),(0,Ie.jsx)("div",{className:"mockup-action"})]})]}),(0,Ie.jsxs)("div",{className:"mockup-body",children:[n.map((e=>(0,Ie.jsxs)("div",{className:"task-item ".concat(1===e.id?"highlighted":""),children:[(0,Ie.jsx)("div",{className:"task-checkbox ".concat(e.completed?"completed":""),onClick:()=>{return t=e.id,void s(n.map((e=>e.id===t?(0,Se.A)((0,Se.A)({},e),{},{completed:!e.completed}):e)));var t}}),(0,Ie.jsxs)("div",{className:"task-content",children:[(0,Ie.jsx)("div",{className:"task-title",children:e.title}),(0,Ie.jsx)("div",{className:"task-due",children:e.completed?"Completed":"Due: ".concat(e.due)})]}),(0,Ie.jsx)("div",{className:"task-priority ".concat(e.priority)})]},e.id))),o&&(0,Ie.jsxs)("div",{className:"new-task-form",children:[(0,Ie.jsx)("input",{type:"text",placeholder:"What needs to be done?",value:i,onChange:e=>a(e.target.value),autoFocus:!0}),(0,Ie.jsxs)("div",{className:"form-actions",children:[(0,Ie.jsx)("button",{onClick:()=>{if(i.trim()){const e={id:Date.now(),title:i,due:"Tomorrow",completed:!1,priority:"medium"};s([...n,e]),a(""),l(!1)}},className:"add-task-btn",children:"Add"}),(0,Ie.jsx)("button",{onClick:()=>l(!1),className:"cancel-btn",children:"Cancel"})]})]})]}),(0,Ie.jsx)("div",{className:"mockup-footer",children:(0,Ie.jsxs)("div",{className:"mockup-add-button",onClick:()=>{l(!0)},children:[(0,Ie.jsx)("span",{className:"add-icon",children:"+"}),(0,Ie.jsx)("span",{className:"add-text",children:"New Task"})]})})]}),(0,Ie.jsxs)("div",{className:"mockup-instructions",children:[(0,Ie.jsx)("p",{children:"Click on the checkboxes to mark tasks as completed"}),(0,Ie.jsx)("p",{children:'Click the "+" button to add a new task'}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Note:"})," This is a demo with limited functionality"]})]})]})})]})},at=()=>(0,Ie.jsx)("section",{className:"about-cta-remake",children:(0,Ie.jsxs)("div",{className:"cta-content",children:[(0,Ie.jsx)("div",{className:"cta-icon",children:"\u2713"}),(0,Ie.jsx)("h2",{className:"cta-title",children:"Ready to simplify your task management?"}),(0,Ie.jsxs)("p",{className:"cta-subtitle",children:["Start using ",(0,Ie.jsx)("span",{className:"cta-brand",children:"Tasklio"})," today and focus on what really matters"]}),(0,Ie.jsxs)("div",{className:"cta-actions",children:[(0,Ie.jsx)("a",{href:"/",className:"cta-primary-btn",target:"_blank",rel:"noopener noreferrer",children:"Try Tasklio Now"}),(0,Ie.jsx)(ke,{to:"/",className:"cta-secondary-btn",children:"Back to Home"})]}),(0,Ie.jsxs)("div",{className:"cta-footer",children:[(0,Ie.jsx)("span",{children:"Always free"})," \u2022 ",(0,Ie.jsx)("span",{children:"No signup required"})," \u2022 ",(0,Ie.jsx)("span",{children:"100% privacy"})]})]})}),ot=()=>{const[e,t]=(0,r.useState)(!1),n=()=>{window.pageYOffset>300?t(!0):t(!1)};return(0,r.useEffect)((()=>(window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n))),[]),(0,Ie.jsx)("button",{className:"back-to-top ".concat(e?"visible":""),onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Back to top",children:(0,Ie.jsx)("span",{className:"back-to-top-icon",children:"\u2191"})})},lt=()=>{const[e,t]=(0,r.useState)("vision"),n=Y(),s=(0,r.useRef)(!0);(0,r.useEffect)((()=>{if(n.hash){const e=n.hash.substring(1);t(e),setTimeout((()=>{Te(e,{offset:60})}),100)}else s.current&&window.scrollTo(0,0);return s.current=!1,()=>{document.body.classList.remove("nav-collapsed","nav-expanded")}}),[n.hash]),(0,r.useEffect)((()=>{window.history.replaceState(null,null,"#".concat(e))}),[e]);const i=e=>{t(e),Te(e,{offset:60})};return(0,Ie.jsxs)("div",{className:"about-container",children:[(0,Ie.jsx)(Je,{activeTab:e,setActiveTab:i}),(0,Ie.jsx)("div",{className:"decorative-circle circle-1"}),(0,Ie.jsx)("div",{className:"decorative-circle circle-2"}),(0,Ie.jsx)("div",{className:"decorative-dots dots-1"}),(0,Ie.jsx)("div",{className:"decorative-dots dots-2"}),(0,Ie.jsx)(Xe,{activeTab:e,setActiveTab:i}),(0,Ie.jsx)("div",{className:"about-content",children:(0,Ie.jsx)("section",{id:e,className:"about-section",children:(()=>{switch(e){case"vision":default:return(0,Ie.jsx)(Ze,{});case"features":return(0,Ie.jsx)(et,{});case"developer":return(0,Ie.jsx)(tt,{});case"roadmap":return(0,Ie.jsx)(nt,{});case"codebase":return(0,Ie.jsx)(rt,{});case"demo":return(0,Ie.jsx)(it,{})}})()})}),(0,Ie.jsx)(at,{}),(0,Ie.jsx)(ot,{})]})},ct=e=>{let{isOpen:t,onClose:n,onConfirm:s,title:r="Are you sure?",message:i="This action cannot be undone.",confirmText:a="Confirm",cancelText:o="Cancel",confirmButtonClass:l="confirm-danger",icon:c=null}=e;if(!t)return null;return(0,Ie.jsx)("div",{className:"confirmation-modal-overlay",onClick:n,children:(0,Ie.jsx)("div",{className:"confirmation-modal-container",onClick:e=>{e.stopPropagation()},children:(0,Ie.jsxs)("div",{className:"confirmation-modal-content",children:[c&&(0,Ie.jsx)("div",{className:"confirmation-modal-icon",children:c}),(0,Ie.jsx)("h2",{className:"confirmation-modal-title",children:r}),(0,Ie.jsx)("div",{className:"confirmation-modal-message",children:"string"===typeof i?(0,Ie.jsx)("p",{children:i}):i}),(0,Ie.jsxs)("div",{className:"confirmation-modal-actions",children:[(0,Ie.jsx)("button",{className:"confirmation-modal-button cancel-button",onClick:n,children:o}),(0,Ie.jsx)("button",{className:"confirmation-modal-button confirm-button ".concat(l),onClick:s,children:a})]})]})})})},ut=()=>{const{user:e,showRegistration:t}=Pe(),[n,s]=(0,r.useState)((()=>{const e=localStorage.getItem("todos");return e?JSON.parse(e):[]})),[i,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)("all"),[d,h]=(0,r.useState)(!0),[m,p]=(0,r.useState)(1),[f,g]=(0,r.useState)("home"),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(null);(0,r.useEffect)((()=>{localStorage.setItem("todos",JSON.stringify(n))}),[n]),(0,r.useEffect)((()=>{i||p(1)}),[i]);return t?(0,Ie.jsx)("div",{children:"User Registration Component"}):e?(0,Ie.jsxs)("div",{className:"app-placeholder",children:[(0,Ie.jsxs)("div",{className:"placeholder-message",children:[(0,Ie.jsx)("h2",{children:"Application Access Disabled"}),(0,Ie.jsx)("p",{children:"Access to the application has been temporarily disabled."}),(0,Ie.jsx)("p",{children:"This is a demo mode where you can complete the registration process without accessing the application."}),(0,Ie.jsx)("p",{children:"Your registration information has been saved successfully."})]}),v&&(0,Ie.jsx)(ct,{message:"Are you sure you want to proceed with this action?",onConfirm:()=>{b&&(b(),w(null)),y(!1)},onCancel:()=>y(!1)})]}):(0,Ie.jsx)(ue,{to:"/"})};var dt=n(861);const ht=()=>{const[e,t]=(0,r.useState)(0);(0,r.useEffect)((()=>{const e=setInterval((()=>{t((e=>(e+1)%3))}),5e3);return()=>clearInterval(e)}),[]);return(0,Ie.jsx)("div",{className:"registration-mockups",children:(0,Ie.jsxs)("div",{className:"mockups-container",children:[(0,Ie.jsxs)("div",{className:"mockups-left",children:[(0,Ie.jsx)("h2",{children:"Boost your productivity"}),(0,Ie.jsx)("p",{children:"Organize tasks, stay focused, and track your progress"})]}),(0,Ie.jsxs)("div",{className:"mockups-right",children:[(0,Ie.jsx)("div",{className:"mockup-display ".concat(0===e?"active":""),children:(0,Ie.jsxs)("div",{className:"mockup-frame",children:[(0,Ie.jsxs)("div",{className:"mockup-header",children:[(0,Ie.jsxs)("div",{className:"mockup-dots",children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]}),(0,Ie.jsx)("div",{className:"mockup-title",children:"DASHBOARD"})]}),(0,Ie.jsxs)("div",{className:"mockup-body",children:[(0,Ie.jsxs)("div",{className:"dashboard-stats",children:[(0,Ie.jsxs)("div",{className:"stat-box",children:[(0,Ie.jsx)("div",{className:"stat-icon",children:"\u2713"}),(0,Ie.jsx)("div",{className:"stat-number",children:"12"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Completed"})]}),(0,Ie.jsxs)("div",{className:"stat-box",children:[(0,Ie.jsx)("div",{className:"stat-icon",children:"\u23f1\ufe0f"}),(0,Ie.jsx)("div",{className:"stat-number",children:"8"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Pending"})]}),(0,Ie.jsxs)("div",{className:"stat-box",children:[(0,Ie.jsx)("div",{className:"stat-icon",children:"\ud83d\udd25"}),(0,Ie.jsx)("div",{className:"stat-number",children:"4"}),(0,Ie.jsx)("div",{className:"stat-label",children:"High Priority"})]})]}),(0,Ie.jsxs)("div",{className:"dashboard-tasks",children:[(0,Ie.jsxs)("div",{className:"tasks-header",children:[(0,Ie.jsx)("h3",{children:"Today's Tasks"}),(0,Ie.jsx)("span",{className:"badge",children:"4 tasks"})]}),(0,Ie.jsxs)("div",{className:"task-list",children:[(0,Ie.jsxs)("div",{className:"task-item",children:[(0,Ie.jsx)("div",{className:"task-checkbox"}),(0,Ie.jsxs)("div",{className:"task-details",children:[(0,Ie.jsx)("div",{className:"task-name",children:"Finalize Q3 report"}),(0,Ie.jsx)("div",{className:"task-time",children:"09:00 AM - 11:00 AM"})]}),(0,Ie.jsx)("div",{className:"task-priority high"})]}),(0,Ie.jsxs)("div",{className:"task-item",children:[(0,Ie.jsx)("div",{className:"task-checkbox"}),(0,Ie.jsxs)("div",{className:"task-details",children:[(0,Ie.jsx)("div",{className:"task-name",children:"Team meeting"}),(0,Ie.jsx)("div",{className:"task-time",children:"01:30 PM - 02:30 PM"})]})]}),(0,Ie.jsxs)("div",{className:"task-item completed",children:[(0,Ie.jsx)("div",{className:"task-checkbox checked",children:"\u2713"}),(0,Ie.jsxs)("div",{className:"task-details",children:[(0,Ie.jsx)("div",{className:"task-name",children:"Check emails"}),(0,Ie.jsx)("div",{className:"task-time",children:"08:00 AM - 08:30 AM"})]})]})]})]})]})]})}),(0,Ie.jsx)("div",{className:"mockup-display ".concat(1===e?"active":""),children:(0,Ie.jsxs)("div",{className:"mockup-frame",children:[(0,Ie.jsxs)("div",{className:"mockup-header",children:[(0,Ie.jsxs)("div",{className:"mockup-dots",children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]}),(0,Ie.jsx)("div",{className:"mockup-title",children:"FOCUS MODE"})]}),(0,Ie.jsxs)("div",{className:"mockup-body",children:[(0,Ie.jsx)("div",{className:"focus-timer",children:(0,Ie.jsxs)("div",{className:"timer-circle",style:{"--progress":"65%"},children:[(0,Ie.jsx)("div",{className:"timer-progress"}),(0,Ie.jsxs)("div",{className:"timer-display",children:[(0,Ie.jsx)("span",{className:"timer-time",children:"23:41"}),(0,Ie.jsx)("span",{className:"timer-label",children:"remaining"})]})]})}),(0,Ie.jsxs)("div",{className:"focus-task",children:[(0,Ie.jsx)("h3",{children:"Currently focusing on:"}),(0,Ie.jsxs)("div",{className:"focus-task-card",children:[(0,Ie.jsx)("div",{className:"focus-task-priority high"}),(0,Ie.jsxs)("div",{className:"focus-task-content",children:[(0,Ie.jsx)("span",{className:"focus-task-name",children:"Finalize Q3 report"}),(0,Ie.jsx)("span",{className:"focus-task-desc",children:"Complete financial analysis and executive summary"})]})]})]}),(0,Ie.jsxs)("div",{className:"focus-controls",children:[(0,Ie.jsx)("button",{className:"focus-button pause",children:"Pause"}),(0,Ie.jsx)("button",{className:"focus-button complete",children:"Complete"})]})]})]})}),(0,Ie.jsx)("div",{className:"mockup-display ".concat(2===e?"active":""),children:(0,Ie.jsxs)("div",{className:"mockup-frame",children:[(0,Ie.jsxs)("div",{className:"mockup-header",children:[(0,Ie.jsxs)("div",{className:"mockup-dots",children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]}),(0,Ie.jsx)("div",{className:"mockup-title",children:"PRODUCTIVITY INSIGHTS"})]}),(0,Ie.jsxs)("div",{className:"mockup-body",children:[(0,Ie.jsxs)("div",{className:"insights-chart",children:[(0,Ie.jsx)("h3",{children:"Weekly Task Completion"}),(0,Ie.jsx)("div",{className:"chart-container",children:(0,Ie.jsx)("div",{className:"chart-bars",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(((e,t)=>(0,Ie.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,Ie.jsx)("div",{className:"chart-bar-container",children:(0,Ie.jsx)("div",{className:"chart-bar ".concat(t<=3?"active":"upcoming"),style:{height:"".concat([65,40,85,55,35,20,30][t],"%")}})}),(0,Ie.jsx)("div",{className:"chart-label",children:e})]},e)))})})]}),(0,Ie.jsxs)("div",{className:"insights-stats",children:[(0,Ie.jsxs)("div",{className:"insight-card",children:[(0,Ie.jsx)("div",{className:"insight-icon",children:"\u26a1"}),(0,Ie.jsxs)("div",{className:"insight-data",children:[(0,Ie.jsx)("div",{className:"insight-label",children:"Productivity Score"}),(0,Ie.jsx)("div",{className:"insight-value",children:"92%"})]})]}),(0,Ie.jsxs)("div",{className:"insight-card",children:[(0,Ie.jsx)("div",{className:"insight-icon",children:"\ud83c\udfaf"}),(0,Ie.jsxs)("div",{className:"insight-data",children:[(0,Ie.jsx)("div",{className:"insight-label",children:"Focus Time"}),(0,Ie.jsx)("div",{className:"insight-value",children:"4h 25m"})]})]})]})]})]})}),(0,Ie.jsx)("div",{className:"mockup-navigation",children:Array.from({length:3}).map(((n,s)=>(0,Ie.jsx)("button",{className:"nav-dot ".concat(e===s?"active":""),onClick:()=>(e=>{t(e)})(s),"aria-label":"View mockup ".concat(s+1)},s)))}),(0,Ie.jsxs)("div",{className:"mockup-arrows",children:[(0,Ie.jsx)("button",{className:"arrow-button prev",onClick:()=>t((e-1+3)%3),"aria-label":"Previous mockup",children:"\u2190"}),(0,Ie.jsx)("button",{className:"arrow-button next",onClick:()=>t((e+1)%3),"aria-label":"Next mockup",children:"\u2192"})]})]})]})})},mt=["Account Info","Additional Info","Security","Profile","Finish"],pt=()=>{const e=J(),[t,s]=(0,r.useState)(1),[i,a]=(0,r.useState)("smileys"),[o,l]=(0,r.useState)({firstName:"",lastName:"",name:"",email:"",password:"",confirmPassword:"",username:"",color:"#5b5ef4",bio:"",profileVisibility:"public",referralCode:"",referralSource:"",usagePurpose:"",avatarType:"initials",avatarEmoji:"\ud83d\ude0e",avatarImage:"",avatarTabView:"initials"}),[c,u]=(0,r.useState)({}),[d,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[x,k]=(0,r.useState)(!1),[N,j]=(0,r.useState)(!1),[T,S]=(0,r.useState)(!1),[E,_]=(0,r.useState)(!1),[C,I]=(0,r.useState)(0),[A,P]=(0,r.useState)(!1),[R,D]=(0,r.useState)(!1),[O,L]=(0,r.useState)(!1);(0,r.useRef)(null);(0,r.useEffect)((()=>{p(!0)}),[]),(0,r.useEffect)((()=>{p(!1);const e=setTimeout((()=>{p(!0)}),50);return()=>clearTimeout(e)}),[t]),(0,r.useEffect)((()=>{if(4===t&&!o.username&&o.firstName&&o.lastName){const e="".concat(o.firstName.toLowerCase(),"_").concat(o.lastName.toLowerCase());l((t=>(0,Se.A)((0,Se.A)({},t),{},{username:e})))}}),[t,o.firstName,o.lastName,o.username]);const M=e=>{const{name:t,value:n,type:s,checked:r}=e.target,i="checkbox"===s?r:n;if(l((e=>(0,Se.A)((0,Se.A)({},e),{},{[t]:i}))),v||y(!0),c[t]&&u((e=>(0,Se.A)((0,Se.A)({},e),{},{[t]:""}))),"password"===t&&U(n),"email"===t&&n.trim()){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?(w(!0),F(n).then((e=>{u(e?t=>(0,Se.A)((0,Se.A)({},t),{},{email:e,emailHighlight:!0}):e=>(0,Se.A)((0,Se.A)({},e),{},{email:"",emailHighlight:!1})),w(!1)})).catch((e=>{console.error("Email validation error in handleChange:",e),u((e=>(0,Se.A)((0,Se.A)({},e),{},{email:"Error checking email. Please try again.",emailHighlight:!0}))),w(!1)}))):u((e=>(0,Se.A)((0,Se.A)({},e),{},{email:"Please enter a valid email address"})))}"firstName"!==t&&"lastName"!==t||l((e=>(0,Se.A)((0,Se.A)({},e),{},{name:"".concat("firstName"===t?n:e.firstName," ").concat("lastName"===t?n:e.lastName).trim()})))},U=e=>{let t=0;e.length>=8&&(t+=1),/[A-Z]/.test(e)&&(t+=1),/[0-9]/.test(e)&&(t+=1),/[^A-Za-z0-9]/.test(e)&&(t+=1),I(t)},F=async e=>{if(!e.trim())return"Email is required";if(!/\S+@\S+\.\S+/.test(e))return"Email is invalid";const t=e.trim().toLowerCase();try{const e=(0,Ee.xI)();console.log("Validating email:",t);const r=await(0,Ee.Wm)(e,t);if(console.log("Authentication check result:",r),r&&r.length>0)return console.log("Email exists in Authentication"),"This email is already registered. Please use a different email or login instead.";try{const{checkEmailExists:e}=await Promise.resolve().then(n.bind(n,861));if(e){const n=await e(t);if(console.log("Firestore check result:",n),n)return console.log("Email exists in Firestore"),"This email is already registered. Please use a different email or login instead."}}catch(s){if(console.error("Firestore email check error:",s),s.message&&s.message.includes("permission-denied"))return"Unable to verify email uniqueness. Please try again."}}catch(r){return console.error("Email validation error:",r),"auth/email-already-in-use"===r.code?"This email is already registered. Please use a different email or login instead.":"Unable to verify email. Please try again."}return""},V=((0,r.useCallback)(((e,t)=>{let n;return function(){for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];n&&clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}})((async e=>{if(e&&e.includes("@")&&e.includes(".")){w(!0);const t=await F(e);u((e=>(0,Se.A)((0,Se.A)({},e),{},{email:t}))),w(!1)}}),800),[]),async e=>{const t={};if(1===e)if(o.firstName.trim()||(t.firstName="First name is required"),o.lastName.trim()||(t.lastName="Last name is required"),o.email.trim())if(/\S+@\S+\.\S+/.test(o.email))try{const e=(0,Ee.xI)();console.log("Validating email in validateStep:",o.email);const r=await(0,Ee.Wm)(e,o.email);if(console.log("Email methods found in validateStep:",r),r&&r.length>0)return console.log("Email already exists in validateStep!"),t.email="This email is already registered. Please use a different email or login instead.",t.emailHighlight=!0,t;try{const{checkEmailExists:e}=await Promise.resolve().then(n.bind(n,861));if(e){const n=await e(o.email);if(console.log("Firestore check result in validateStep:",n),n)return console.log("Email exists in Firestore!"),t.email="This email is already registered. Please use a different email or login instead.",t.emailHighlight=!0,t}}catch(s){if(console.error("Firestore email check error in validateStep:",s),s.message&&s.message.includes("permission-denied"))return t.email="Unable to verify email uniqueness. Please try again.",t.emailHighlight=!0,t}}catch(r){return console.error("Error checking email in validateStep:",r),"auth/email-already-in-use"===r.code?(t.email="This email is already registered. Please use a different email or login instead.",t.emailHighlight=!0,t):(t.email="Error verifying email. Please try again.",t.emailHighlight=!0,t)}else t.email="Email is invalid";else t.email="Email is required";else 2===e?(o.usagePurpose.trim()||(t.usagePurpose="Usage purpose is required"),o.referralSource.trim()||(t.referralSource="Referral source is required")):3===e?(o.password?o.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",o.confirmPassword?o.password!==o.confirmPassword&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Please confirm your password"):4===e&&(o.username.trim()||(t.username="Username is required"),o.bio&&o.bio.length>160&&(t.bio="Bio must be 160 characters or less"),E||(t.terms="You must accept the Terms of Service and Privacy Policy to continue"));return t}),z=e=>{e.preventDefault(),s((e=>e-1))};return(0,Ie.jsxs)("div",{className:"register-page",children:[(0,Ie.jsxs)("div",{className:"register-form-container",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsxs)(ke,{to:"/",className:"back-to-home",onClick:t=>{t.preventDefault(),v?g(!0):e("/")},children:[(0,Ie.jsx)("span",{className:"back-icon",children:"\u2190"}),(0,Ie.jsx)("span",{children:"Back to Home"})]}),(0,Ie.jsxs)("div",{className:"brand-logo",children:[(0,Ie.jsx)("div",{className:"logo-icon",children:"T"}),(0,Ie.jsx)("div",{className:"logo-text",children:"Tasklio"})]})]}),(0,Ie.jsx)("div",{className:"register-steps",children:mt.map(((e,n)=>(0,Ie.jsxs)(r.Fragment,{children:[(0,Ie.jsxs)("div",{className:"step-container ".concat(t===n+1?"active":""," ").concat(t>n+1?"completed":""),children:[(0,Ie.jsx)("div",{className:"step-indicator",children:t>n+1?(0,Ie.jsx)("span",{className:"step-check",children:"\u2713"}):n+1}),(0,Ie.jsx)("span",{className:"step-label",children:e})]}),n<mt.length-1&&(0,Ie.jsx)("div",{className:"step-divider",children:(0,Ie.jsx)("div",{className:"step-divider-inner ".concat(t>n+1?"completed":"")})})]},e)))}),(0,Ie.jsxs)("div",{className:"auth-content",children:[c.auth&&(0,Ie.jsxs)("div",{className:"auth-error-banner",children:[(0,Ie.jsx)("span",{className:"error-icon",children:"!"}),(0,Ie.jsx)("span",{children:c.auth})]}),(0,Ie.jsxs)("form",{onSubmit:4===t?async t=>{t.preventDefault();const n=await V(4);if(Object.keys(n).length>0)u(n);else{h(!0);try{const t=(0,Ee.xI)();try{const e=o.email.trim().toLowerCase(),n=await(0,Ee.Wm)(t,e);if(n&&n.length>0)return u({email:"This email is already registered. Please go back to step 1 and use a different email."}),void h(!1)}catch(r){if("auth/email-already-in-use"===r.code)return u({email:"This email is already registered. Please go back to step 1 and use a different email."}),void h(!1)}const n=await(0,Ee.eJ)(t,o.email,o.password);await(0,Ee.r7)(n.user,{displayName:o.username}),await(0,dt.Y)(n.user.uid,(0,Se.A)((0,Se.A)({},o),{},{uid:n.user.uid,registrationComplete:!0,registrationStep:5,createdAt:(new Date).toISOString(),updatedAt:new Date})),s(5),setTimeout((()=>e("/app")),2e3)}catch(r){console.error("Registration error:",r),"auth/email-already-in-use"===r.code?u({auth:"This email is already registered. Please go back to step 1 and use a different email."}):u({auth:r.message})}finally{h(!1)}}}:async e=>{if(e.preventDefault(),d)return;if(1===t){h(!0);const e={};if(o.firstName.trim()||(e.firstName="First name is required"),o.lastName.trim()||(e.lastName="Last name is required"),!o.email.trim())return e.email="Email is required",u((0,Se.A)({},e)),void h(!1);if(!/\S+@\S+\.\S+/.test(o.email))return e.email="Email is invalid",u((0,Se.A)({},e)),void h(!1);if(0===Object.keys(e).length)try{console.log("Checking email:",o.email);const t=(0,Ee.xI)();if(!t)return console.error("Firebase auth is not initialized"),u({auth:"Authentication service is unavailable. Please try again."}),void h(!1);const r=await(0,Ee.Wm)(t,o.email);if(console.log("Email methods found:",r),r&&r.length>0)return console.log("Email already exists in Auth! Blocking next step!"),u({email:"This email is already registered. Please use a different email or login instead.",emailHighlight:!0}),void h(!1);try{const{checkEmailExists:e}=await Promise.resolve().then(n.bind(n,861));if(e){const t=await e(o.email);if(console.log("Firestore email check result:",t),t)return console.log("Email exists in Firestore! Blocking next step!"),u({email:"This email is already registered. Please use a different email or login instead.",emailHighlight:!0}),void h(!1)}}catch(i){if(console.error("Firestore email check error:",i),i.message&&i.message.includes("permission-denied"))return u({email:"Unable to verify email uniqueness. Please try again.",emailHighlight:!0}),void h(!1)}if(Object.keys(e).length>0)return u(e),void h(!1);const a=await V(1);return Object.keys(a).length>0?(u(a),void h(!1)):(s(2),void h(!1))}catch(a){return console.error("Full error object:",a),"auth/email-already-in-use"===a.code||"auth/invalid-email"===a.code?u({email:"This email is already registered or invalid. Please use a different email.",emailHighlight:!0}):u({email:"There was a problem verifying this email. Please try again.",emailHighlight:!0}),void h(!1)}}const r=await V(t);Object.keys(r).length>0?u(r):(s((e=>e+1)),h(!1))},children:[(()=>{const e="form-step ".concat(m?"animate-in":"");switch(t){case 1:return(0,Ie.jsxs)("div",{className:e,children:[(0,Ie.jsx)("h2",{className:"step-title",children:"Create your account"}),(0,Ie.jsx)("p",{className:"step-description",children:"Enter your details to get started"}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"firstName",children:"First Name"}),(0,Ie.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:o.firstName,onChange:M,placeholder:"Enter your first name"}),c.firstName&&(0,Ie.jsx)("div",{className:"auth-error",children:c.firstName})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),(0,Ie.jsx)("input",{type:"text",id:"lastName",name:"lastName",onChange:M,value:o.lastName,placeholder:"Enter your last name"}),c.lastName&&(0,Ie.jsx)("div",{className:"auth-error",children:c.lastName})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Ie.jsxs)("div",{className:"input-container",children:[(0,Ie.jsx)("input",{type:"email",id:"email",name:"email",value:o.email,onChange:M,placeholder:"Enter your email address"}),b&&(0,Ie.jsx)("div",{className:"input-loading-indicator"})]}),c.email&&(0,Ie.jsx)("div",{className:"auth-error",children:c.email})]})]});case 2:return(0,Ie.jsxs)("div",{className:e,children:[(0,Ie.jsx)("h2",{className:"step-title",children:"Additional Information"}),(0,Ie.jsx)("p",{className:"step-description",children:"Tell us more about how you'll use Tasklio"}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsxs)("label",{htmlFor:"usagePurpose",children:[(0,Ie.jsx)("span",{className:"input-icon",children:"\ud83c\udfaf"}),"What will you use Tasklio for?"]}),(0,Ie.jsxs)("select",{id:"usagePurpose",name:"usagePurpose",className:"auth-input styled-select ".concat(c.usagePurpose?"error":""),value:o.usagePurpose,onChange:M,children:[(0,Ie.jsx)("option",{value:"",children:"Select a purpose"}),(0,Ie.jsx)("option",{value:"Personal Task Management",children:"Personal Task Management"}),(0,Ie.jsx)("option",{value:"Work Projects",children:"Work Projects"}),(0,Ie.jsx)("option",{value:"School/Education",children:"School/Education"}),(0,Ie.jsx)("option",{value:"Team Collaboration",children:"Team Collaboration"}),(0,Ie.jsx)("option",{value:"Other",children:"Other"})]}),c.usagePurpose&&(0,Ie.jsx)("div",{className:"auth-error",children:c.usagePurpose})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsxs)("label",{htmlFor:"referralSource",children:[(0,Ie.jsx)("span",{className:"input-icon",children:"\ud83d\udce2"}),"How did you hear about us?"]}),(0,Ie.jsxs)("select",{id:"referralSource",name:"referralSource",className:"auth-input styled-select ".concat(c.referralSource?"error":""),value:o.referralSource,onChange:M,children:[(0,Ie.jsx)("option",{value:"",children:"Select a source"}),(0,Ie.jsx)("option",{value:"Search Engine",children:"Search Engine"}),(0,Ie.jsx)("option",{value:"Social Media",children:"Social Media"}),(0,Ie.jsx)("option",{value:"Friend or Colleague",children:"Friend or Colleague"}),(0,Ie.jsx)("option",{value:"Blog or Article",children:"Blog or Article"}),(0,Ie.jsx)("option",{value:"Other",children:"Other"})]}),c.referralSource&&(0,Ie.jsx)("div",{className:"auth-error",children:c.referralSource})]}),(0,Ie.jsxs)("div",{className:"form-group referral-code-container",children:[(0,Ie.jsxs)("label",{htmlFor:"referralCode",className:"referral-label",children:[(0,Ie.jsx)("span",{className:"input-icon gift-icon",children:"\ud83c\udf81"}),"Referral Code (optional)"]}),(0,Ie.jsxs)("div",{className:"input-container referral-input-container",children:[(0,Ie.jsx)("input",{type:"text",id:"referralCode",name:"referralCode",className:"auth-input referral-input",value:o.referralCode,onChange:M,placeholder:"Enter referral code if you have one"}),o.referralCode&&(0,Ie.jsx)("div",{className:"referral-badge",children:"Code Applied"})]})]})]});case 3:return(0,Ie.jsxs)("div",{className:e,children:[(0,Ie.jsx)("h2",{className:"step-title",children:"Secure your account"}),(0,Ie.jsx)("p",{className:"step-description",children:"Create a strong password to protect your account"}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ie.jsxs)("div",{className:"input-container",children:[(0,Ie.jsx)("span",{className:"input-icon",children:"\ud83d\udd12"}),(0,Ie.jsx)("input",{type:A?"text":"password",id:"password",name:"password",className:"auth-input ".concat(c.password?"error":""),value:o.password,onChange:M,placeholder:"Create a strong password"}),(0,Ie.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>P(!A),children:A?"Hide":"Show"})]}),c.password&&(0,Ie.jsx)("div",{className:"auth-error",children:c.password}),o.password&&(0,Ie.jsxs)("div",{className:"password-strength",children:[(0,Ie.jsx)("div",{className:"strength-meter",children:(0,Ie.jsx)("div",{className:"strength-fill ".concat(o.password.length<6?"weak":o.password.length<10?"medium":"strong"),style:{width:"".concat(Math.min(100,10*o.password.length),"%")}})}),(0,Ie.jsx)("span",{className:"strength-text",children:o.password.length<6?"Weak password":o.password.length<10?"Medium password":"Strong password"})]})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Ie.jsxs)("div",{className:"input-container",children:[(0,Ie.jsx)("span",{className:"input-icon",children:"\ud83d\udd12"}),(0,Ie.jsx)("input",{type:R?"text":"password",id:"confirmPassword",name:"confirmPassword",className:"auth-input ".concat(c.confirmPassword?"error":""),value:o.confirmPassword,onChange:M,placeholder:"Confirm your password"}),(0,Ie.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>D(!R),children:R?"Hide":"Show"})]}),c.confirmPassword&&(0,Ie.jsx)("div",{className:"auth-error",children:c.confirmPassword})]}),(0,Ie.jsxs)("div",{className:"security-tips",children:[(0,Ie.jsx)("h4",{children:"Password Tips:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Use at least 8 characters"}),(0,Ie.jsx)("li",{children:"Include uppercase and lowercase letters"}),(0,Ie.jsx)("li",{children:"Add numbers and special characters"}),(0,Ie.jsx)("li",{children:"Don't use easily guessable information"})]})]})]});case 4:return(0,Ie.jsxs)("div",{className:e,children:[(0,Ie.jsx)("h2",{className:"step-title",children:"Set up your profile"}),(0,Ie.jsx)("p",{className:"step-description",children:"Customize your experience with Tasklio"}),(0,Ie.jsxs)("div",{className:"profile-customization-container",children:[(0,Ie.jsx)("div",{className:"profile-header",children:(0,Ie.jsxs)("div",{className:"profile-preview",children:[(0,Ie.jsxs)("div",{className:"profile-avatar-large clickable",onClick:()=>k(!0),style:(0,Se.A)((0,Se.A)({backgroundColor:o.color},"emoji"===o.avatarType&&{fontSize:"2rem"}),"image"===o.avatarType&&{backgroundImage:"url(".concat(o.avatarImage,")"),backgroundSize:"cover",backgroundPosition:"center"}),children:["initials"===o.avatarType&&"".concat(o.firstName.charAt(0)).concat(o.lastName.charAt(0)),"emoji"===o.avatarType&&o.avatarEmoji,(0,Ie.jsx)("div",{className:"avatar-hover-overlay",children:(0,Ie.jsx)("span",{children:"Change Avatar"})})]}),(0,Ie.jsxs)("h3",{className:"profile-name",children:[o.firstName," ",o.lastName]}),(0,Ie.jsxs)("p",{className:"profile-username",children:["@",o.username||"username"]})]})}),(0,Ie.jsxs)("div",{className:"form-section",children:[(0,Ie.jsx)("h4",{className:"section-title",children:"Basic Information"}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"username",children:"Username"}),(0,Ie.jsxs)("div",{className:"input-container",children:[(0,Ie.jsx)("span",{className:"input-icon",children:"@"}),(0,Ie.jsx)("input",{type:"text",id:"username",name:"username",className:"auth-input ".concat(c.username?"error":""),value:o.username,onChange:M,placeholder:"Choose a unique username"})]}),c.username&&(0,Ie.jsx)("div",{className:"auth-error",children:c.username})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"bio",children:"Bio (optional, max 160 chars)"}),(0,Ie.jsx)("textarea",{id:"bio",name:"bio",className:"auth-input textarea ".concat(c.bio?"error":""),value:o.bio,onChange:M,maxLength:160,placeholder:"Tell us about yourself"}),o.bio&&(0,Ie.jsx)("div",{className:"char-counter",children:(0,Ie.jsxs)("span",{children:[o.bio.length,"/160"]})}),c.bio&&(0,Ie.jsx)("div",{className:"auth-error",children:c.bio})]}),(0,Ie.jsxs)("div",{className:"form-group terms-checkbox-container",children:[(0,Ie.jsxs)("div",{className:"terms-checkbox ".concat(c.terms?"error":""),children:[(0,Ie.jsx)("input",{type:"checkbox",id:"termsAccepted",checked:E,onChange:e=>_(e.target.checked)}),(0,Ie.jsxs)("label",{htmlFor:"termsAccepted",children:["I agree to the ",(0,Ie.jsx)("span",{className:"terms-link",onClick:()=>j(!0),children:"Terms of Service"})," and ",(0,Ie.jsx)("span",{className:"terms-link",onClick:()=>S(!0),children:"Privacy Policy"})]})]}),c.terms&&(0,Ie.jsx)("div",{className:"auth-error",children:c.terms})]}),(0,Ie.jsxs)("div",{className:"auth-buttons profile-buttons",children:[(0,Ie.jsxs)("button",{type:"button",className:"auth-button back-button",onClick:z,children:[(0,Ie.jsx)("span",{className:"button-icon",children:"\u2190"}),"Back"]}),(0,Ie.jsx)("button",{type:"submit",className:"auth-button complete-registration-button",children:"Complete Registration"})]})]})]})]});case 5:return(0,Ie.jsxs)("div",{className:"".concat(e," success-container"),children:[(0,Ie.jsx)("div",{className:"success-animation",children:(0,Ie.jsx)("div",{className:"checkmark-circle",children:(0,Ie.jsx)("div",{className:"checkmark draw"})})}),(0,Ie.jsx)("h2",{className:"success-title",children:"You're all set!"}),(0,Ie.jsx)("p",{className:"success-message",children:"Your account has been created successfully. Welcome to Tasklio!"}),(0,Ie.jsxs)("div",{className:"success-details",children:[(0,Ie.jsxs)("div",{className:"user-profile-preview",children:[(0,Ie.jsxs)("div",{className:"profile-avatar",style:(0,Se.A)((0,Se.A)({backgroundColor:o.color},"emoji"===o.avatarType&&{fontSize:"1.5rem"}),"image"===o.avatarType&&{backgroundImage:"url(".concat(o.avatarImage,")"),backgroundSize:"cover",backgroundPosition:"center"}),children:["initials"===o.avatarType&&"".concat(o.firstName.charAt(0)).concat(o.lastName.charAt(0)),"emoji"===o.avatarType&&o.avatarEmoji]}),(0,Ie.jsxs)("div",{className:"profile-info",children:[(0,Ie.jsxs)("h3",{children:[o.firstName," ",o.lastName]}),(0,Ie.jsxs)("p",{children:["@",o.username]})]})]}),(0,Ie.jsx)("p",{className:"redirect-message",children:"Redirecting you to your dashboard..."}),(0,Ie.jsxs)("div",{className:"loading-dots",children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]})]})]});default:return null}})(),t<4&&(0,Ie.jsxs)("div",{className:"auth-buttons",children:[t>1&&(0,Ie.jsxs)("button",{type:"button",className:"auth-button back-button",onClick:z,disabled:d,children:[(0,Ie.jsx)("span",{className:"button-icon",children:"\u2190"}),"Back"]}),(0,Ie.jsxs)("button",{type:"submit",className:"auth-button next-button ".concat(d?"loading":""),disabled:d,children:[d?1===t?"Verifying Email...":"Processing...":"Continue",!d&&(0,Ie.jsx)("span",{className:"button-icon",children:"\u2192"})]})]}),"          "]})]})]}),(0,Ie.jsx)("div",{className:"register-mockup-container",children:(0,Ie.jsx)(ht,{})}),f&&(0,Ie.jsx)("div",{className:"exit-warning-overlay",children:(0,Ie.jsx)("div",{className:"exit-warning-modal",children:(0,Ie.jsxs)("div",{className:"exit-warning-content",children:[(0,Ie.jsx)("h3",{children:"Are you sure you want to leave?"}),(0,Ie.jsx)("p",{children:"Your progress will be lost if you leave this page."}),(0,Ie.jsxs)("div",{className:"exit-warning-buttons",children:[(0,Ie.jsx)("button",{className:"cancel-button",onClick:()=>{g(!1)},children:"Stay"}),(0,Ie.jsx)("button",{className:"exit-button",onClick:()=>{g(!1),e("/")},children:"Leave"})]})]})})}),N&&(0,Ie.jsx)(We,{isOpen:N,onClose:()=>j(!1)}),T&&(0,Ie.jsx)(Ke,{isOpen:T,onClose:()=>S(!1)}),x&&(0,Ie.jsx)("div",{className:"avatar-modal-overlay",children:(0,Ie.jsxs)("div",{className:"avatar-modal",children:[(0,Ie.jsxs)("div",{className:"avatar-modal-header",children:[(0,Ie.jsx)("h3",{children:"Choose Your Avatar"}),(0,Ie.jsx)("button",{className:"close-button",onClick:()=>k(!1),children:"\xd7"})]}),(0,Ie.jsxs)("div",{className:"avatar-modal-content",children:[(0,Ie.jsxs)("div",{className:"avatar-type-tabs",children:[(0,Ie.jsx)("div",{className:"avatar-tab ".concat("initials"===o.avatarTabView?"active":""),onClick:()=>l((e=>(0,Se.A)((0,Se.A)({},e),{},{avatarTabView:"initials",avatarType:"initials"}))),children:"Initials"}),(0,Ie.jsx)("div",{className:"avatar-tab ".concat("emoji"===o.avatarTabView?"active":""),onClick:()=>l((e=>(0,Se.A)((0,Se.A)({},e),{},{avatarTabView:"emoji",avatarType:"emoji"}))),children:"Emoji"}),(0,Ie.jsx)("div",{className:"avatar-tab ".concat("upload"===o.avatarTabView?"active":""),onClick:()=>l((e=>(0,Se.A)((0,Se.A)({},e),{},{avatarTabView:"upload",avatarType:"image"}))),children:"Upload"}),(0,Ie.jsx)("div",{className:"avatar-tab ".concat("color"===o.avatarTabView?"active":""),onClick:()=>l((e=>(0,Se.A)((0,Se.A)({},e),{},{avatarTabView:"color",avatarType:"color"}))),children:"Color"})]}),(0,Ie.jsxs)("div",{className:"avatar-content",children:["initials"===o.avatarTabView&&(0,Ie.jsxs)("div",{className:"initials-preview",children:[(0,Ie.jsxs)("div",{className:"large-avatar-preview",style:{backgroundColor:o.color},children:[o.firstName.charAt(0),o.lastName.charAt(0)]}),(0,Ie.jsx)("p",{className:"avatar-info-text",children:"Your initials will be shown on a colored background"}),(0,Ie.jsxs)("div",{className:"initials-input-container",children:[(0,Ie.jsxs)("div",{className:"initials-input-group",children:[(0,Ie.jsx)("label",{htmlFor:"initialsFirstName",children:"First Name Initial"}),(0,Ie.jsx)("input",{type:"text",id:"initialsFirstName",name:"initialsFirstName",value:o.firstName.charAt(0)||"",onChange:e=>{const t=e.target.value;t.length<=1&&l((e=>(0,Se.A)((0,Se.A)({},e),{},{firstName:t+e.firstName.slice(1)})))},maxLength:"1",className:"initials-input"})]}),(0,Ie.jsxs)("div",{className:"initials-input-group",children:[(0,Ie.jsx)("label",{htmlFor:"initialsLastName",children:"Last Name Initial"}),(0,Ie.jsx)("input",{type:"text",id:"initialsLastName",name:"initialsLastName",value:o.lastName.charAt(0)||"",onChange:e=>{const t=e.target.value;t.length<=1&&l((e=>(0,Se.A)((0,Se.A)({},e),{},{lastName:t+e.lastName.slice(1)})))},maxLength:"1",className:"initials-input"})]})]})]}),"emoji"===o.avatarTabView&&(0,Ie.jsxs)("div",{className:"emoji-selector",children:[(0,Ie.jsx)("div",{className:"large-avatar-preview",style:{backgroundColor:o.color},children:o.avatarEmoji}),(0,Ie.jsx)("p",{className:"avatar-info-text",children:"Select an emoji to represent you"}),(0,Ie.jsx)("div",{className:"emoji-search",children:(0,Ie.jsx)("input",{type:"text",className:"emoji-search-input",id:"emojiSearch",name:"emojiSearch",placeholder:"Search emojis..."})}),(0,Ie.jsxs)("div",{className:"emoji-categories",children:[(0,Ie.jsx)("div",{className:"emoji-category ".concat("all"===i?"active":""),onClick:()=>a("all"),children:"\ud83d\udd0d All"}),(0,Ie.jsx)("div",{className:"emoji-category ".concat("smileys"===i?"active":""),onClick:()=>a("smileys"),children:"\ud83d\ude0a Smileys"}),(0,Ie.jsx)("div",{className:"emoji-category ".concat("animals"===i?"active":""),onClick:()=>a("animals"),children:"\ud83d\udc31 Animals"}),(0,Ie.jsx)("div",{className:"emoji-category ".concat("food"===i?"active":""),onClick:()=>a("food"),children:"\ud83c\udf55 Food"}),(0,Ie.jsx)("div",{className:"emoji-category ".concat("activities"===i?"active":""),onClick:()=>a("activities"),children:"\ud83c\udfc0 Activities"}),(0,Ie.jsx)("div",{className:"emoji-category ".concat("objects"===i?"active":""),onClick:()=>a("objects"),children:"\ud83d\udcbc Objects"}),(0,Ie.jsx)("div",{className:"emoji-category ".concat("places"===i?"active":""),onClick:()=>a("places"),children:"\ud83c\udfd9\ufe0f Places"}),(0,Ie.jsx)("div",{className:"emoji-category ".concat("symbols"===i?"active":""),onClick:()=>a("symbols"),children:"\ud83d\udd23 Symbols"})]}),(0,Ie.jsx)("div",{className:"emoji-grid",children:(()=>{const e=["\ud83d\ude00","\ud83d\ude03","\ud83d\ude04","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83e\udd23","\ud83d\ude02","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0a","\ud83d\ude07","\ud83e\udd70","\ud83d\ude0d","\ud83e\udd29","\ud83d\ude18","\ud83d\ude17","\ud83d\ude1a","\ud83d\ude19","\ud83d\ude0b","\ud83d\ude1b","\ud83d\ude1c","\ud83e\udd2a","\ud83d\ude1d","\ud83e\udd11","\ud83e\udd17","\ud83e\udd2d","\ud83e\udd2b","\ud83e\udd14","\ud83e\udd10","\ud83e\udd28","\ud83d\ude10","\ud83d\ude11","\ud83d\ude36","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude44","\ud83d\ude2c","\ud83e\udd25","\ud83d\ude0c","\ud83d\ude14","\ud83d\ude2a","\ud83e\udd24","\ud83d\ude34","\ud83d\ude37","\ud83e\udd12","\ud83e\udd15","\ud83e\udd22","\ud83e\udd2e","\ud83e\udd27","\ud83e\udd75","\ud83e\udd76","\ud83e\udd74","\ud83d\ude35","\ud83e\udd2f","\ud83e\udd20","\ud83e\udd73","\ud83d\ude0e","\ud83e\udd13","\ud83e\uddd0","\ud83d\ude15","\ud83d\ude1f","\ud83d\ude41","\u2639\ufe0f","\ud83d\ude2e","\ud83d\ude2f","\ud83d\ude32","\ud83d\ude33","\ud83e\udd7a","\ud83d\ude26","\ud83d\ude27","\ud83d\ude28","\ud83d\ude30","\ud83d\ude25","\ud83d\ude22","\ud83d\ude2d","\ud83d\ude31","\ud83d\ude16","\ud83d\ude23","\ud83d\ude1e","\ud83d\ude13","\ud83d\ude29","\ud83d\ude2b","\ud83e\udd71","\ud83d\ude24","\ud83d\ude21","\ud83d\ude20","\ud83e\udd2c","\ud83d\ude08","\ud83d\udc7f","\ud83d\udc80","\u2620\ufe0f","\ud83d\udca9","\ud83e\udd21","\ud83d\udc79","\ud83d\udc7a","\ud83d\udc7b","\ud83d\udc7d","\ud83d\udc7e","\ud83e\udd16","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude40","\ud83d\ude3f","\ud83d\ude3e","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udc8b","\ud83d\udc8c","\ud83d\udc98","\ud83d\udc9d","\ud83d\udc96","\ud83d\udc97","\ud83d\udc93","\ud83d\udc9e","\ud83d\udc95","\ud83d\udc9f","\u2763\ufe0f","\ud83d\udc94","\u2764\ufe0f","\ud83e\udde1","\ud83d\udc9b","\ud83d\udc9a","\ud83d\udc99","\ud83d\udc9c","\ud83e\udd0e","\ud83d\udda4","\ud83e\udd0d","\ud83d\udcaf","\ud83d\udca2","\ud83d\udca5","\ud83d\udcab","\ud83d\udca6","\ud83d\udca8","\ud83d\udd73\ufe0f","\ud83d\udca3","\ud83d\udcac","\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f","\ud83d\udde8\ufe0f","\ud83d\uddef\ufe0f","\ud83d\udcad","\ud83d\udca4"],t=["\ud83d\ude00","\ud83d\ude03","\ud83d\ude04","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83e\udd23","\ud83d\ude02","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0a","\ud83d\ude07","\ud83e\udd70","\ud83d\ude0d","\ud83e\udd29","\ud83d\ude18","\ud83d\ude17","\ud83d\ude1a","\ud83d\ude19","\ud83d\ude0b","\ud83d\ude1b","\ud83d\ude1c","\ud83e\udd2a","\ud83d\ude1d","\ud83e\udd11","\ud83e\udd17","\ud83e\udd2d","\ud83e\udd2b","\ud83e\udd14","\ud83e\udd10","\ud83e\udd28","\ud83d\ude10","\ud83d\ude11","\ud83d\ude36","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude44","\ud83d\ude2c","\ud83e\udd25","\ud83d\ude0c","\ud83d\ude14","\ud83d\ude2a","\ud83e\udd24","\ud83d\ude34","\ud83d\ude37","\ud83e\udd12","\ud83e\udd15","\ud83e\udd22","\ud83e\udd2e","\ud83e\udd27","\ud83e\udd75","\ud83e\udd76","\ud83e\udd74","\ud83d\ude35","\ud83e\udd2f","\ud83e\udd20","\ud83e\udd73","\ud83d\ude0e","\ud83e\udd13","\ud83e\uddd0","\ud83d\ude15","\ud83d\ude1f","\ud83d\ude41","\u2639\ufe0f","\ud83d\ude2e","\ud83d\ude2f","\ud83d\ude32","\ud83d\ude33","\ud83e\udd7a","\ud83d\ude26","\ud83d\ude27","\ud83d\ude28","\ud83d\ude30","\ud83d\ude25","\ud83d\ude22","\ud83d\ude2d","\ud83d\ude31","\ud83d\ude16","\ud83d\ude23","\ud83d\ude1e","\ud83d\ude13","\ud83d\ude29","\ud83d\ude2b","\ud83e\udd71","\ud83d\ude24","\ud83d\ude21","\ud83d\ude20","\ud83e\udd2c","\ud83d\ude08","\ud83d\udc7f","\ud83d\udc80","\u2620\ufe0f","\ud83d\udca9","\ud83e\udd21","\ud83d\udc79","\ud83d\udc7a","\ud83d\udc7b","\ud83d\udc7d","\ud83d\udc7e","\ud83e\udd16","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude40","\ud83d\ude3f","\ud83d\ude3e","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udc8b","\ud83d\udc8c","\ud83d\udc98","\ud83d\udc9d","\ud83d\udc96","\ud83d\udc97","\ud83d\udc93","\ud83d\udc9e","\ud83d\udc95","\ud83d\udc9f","\u2763\ufe0f","\ud83d\udc94","\u2764\ufe0f","\ud83e\udde1","\ud83d\udc9b","\ud83d\udc9a","\ud83d\udc99","\ud83d\udc9c","\ud83e\udd0e","\ud83d\udda4","\ud83e\udd0d","\ud83d\udcaf","\ud83d\udca2","\ud83d\udca5","\ud83d\udcab","\ud83d\udca6","\ud83d\udca8","\ud83d\udd73\ufe0f","\ud83d\udca3","\ud83d\udcac","\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f","\ud83d\udde8\ufe0f","\ud83d\uddef\ufe0f","\ud83d\udcad","\ud83d\udca4"],n=["\ud83d\udc35","\ud83d\udc12","\ud83e\udd8d","\ud83e\udda7","\ud83d\udc36","\ud83d\udc15","\ud83e\uddae","\ud83d\udc15\u200d\ud83e\uddba","\ud83d\udc29","\ud83d\udc3a","\ud83e\udd8a","\ud83e\udd9d","\ud83d\udc31","\ud83d\udc08","\ud83d\udc08\u200d\u2b1b","\ud83e\udd81","\ud83d\udc2f","\ud83d\udc05","\ud83d\udc06","\ud83d\udc34","\ud83d\udc0e","\ud83e\udd84","\ud83e\udd93","\ud83e\udd8c","\ud83d\udc2e","\ud83d\udc02","\ud83d\udc03","\ud83d\udc04","\ud83d\udc37","\ud83d\udc16","\ud83d\udc17","\ud83d\udc3d","\ud83d\udc0f","\ud83d\udc11","\ud83d\udc10","\ud83d\udc2a","\ud83d\udc2b","\ud83e\udd99","\ud83e\udd92","\ud83d\udc18","\ud83e\udd8f","\ud83e\udd9b","\ud83d\udc2d","\ud83d\udc01","\ud83d\udc00","\ud83d\udc39","\ud83d\udc30","\ud83d\udc07","\ud83d\udc3f\ufe0f","\ud83e\udd94","\ud83e\udd87","\ud83d\udc3b","\ud83d\udc3b\u200d\u2744\ufe0f","\ud83d\udc28","\ud83d\udc3c","\ud83e\udda5","\ud83e\udda6","\ud83e\udda8","\ud83e\udd98","\ud83e\udda1","\ud83d\udc3e","\ud83e\udd83","\ud83d\udc14","\ud83d\udc13","\ud83d\udc23","\ud83d\udc24","\ud83d\udc25","\ud83d\udc26","\ud83d\udc27","\ud83d\udd4a\ufe0f","\ud83e\udd85","\ud83e\udd86","\ud83e\udda2","\ud83e\udd89","\ud83e\udda9","\ud83e\udd9a","\ud83e\udd9c","\ud83d\udc38","\ud83d\udc0a","\ud83d\udc22","\ud83e\udd8e","\ud83d\udc0d","\ud83d\udc32","\ud83d\udc09","\ud83e\udd95","\ud83e\udd96","\ud83d\udc33","\ud83d\udc0b","\ud83d\udc2c","\ud83d\udc1f","\ud83d\udc20","\ud83d\udc21","\ud83e\udd88","\ud83d\udc19","\ud83d\udc1a","\ud83d\udc0c","\ud83e\udd8b","\ud83d\udc1b","\ud83d\udc1c","\ud83d\udc1d","\ud83d\udc1e","\ud83e\udd97","\ud83d\udd77\ufe0f","\ud83d\udd78\ufe0f","\ud83e\udd82","\ud83e\udd9f","\ud83e\udda0"],s=["\ud83c\udf4e","\ud83c\udf50","\ud83c\udf4a","\ud83c\udf4b","\ud83c\udf4c","\ud83c\udf49","\ud83c\udf47","\ud83c\udf53","\ud83c\udf48","\ud83c\udf52","\ud83c\udf51","\ud83e\udd6d","\ud83c\udf4d","\ud83e\udd65","\ud83e\udd5d","\ud83c\udf45","\ud83c\udf46","\ud83e\udd51","\ud83e\udd66","\ud83e\udd6c","\ud83e\udd52","\ud83c\udf36\ufe0f","\ud83c\udf3d","\ud83e\udd55","\ud83e\uddc4","\ud83e\uddc5","\ud83e\udd54","\ud83c\udf60","\ud83e\udd50","\ud83e\udd6f","\ud83c\udf5e","\ud83e\udd56","\ud83e\udd68","\ud83e\uddc0","\ud83e\udd5a","\ud83c\udf73","\ud83e\uddc8","\ud83e\udd5e","\ud83e\uddc7","\ud83e\udd53","\ud83e\udd69","\ud83c\udf57","\ud83c\udf56","\ud83e\uddb4","\ud83c\udf2d","\ud83c\udf54","\ud83c\udf5f","\ud83c\udf55","\ud83e\udd6a","\ud83e\udd59","\ud83e\uddc6","\ud83c\udf2e","\ud83c\udf2f","\ud83e\udd57","\ud83e\udd58","\ud83e\udd6b","\ud83c\udf5d","\ud83c\udf5c","\ud83c\udf72","\ud83c\udf5b","\ud83c\udf63","\ud83c\udf71","\ud83e\udd5f","\ud83e\uddaa","\ud83c\udf64","\ud83c\udf59","\ud83c\udf5a","\ud83c\udf58","\ud83c\udf65","\ud83e\udd60","\ud83e\udd6e","\ud83c\udf62","\ud83c\udf61","\ud83c\udf67","\ud83c\udf68","\ud83c\udf66","\ud83e\udd67","\ud83e\uddc1","\ud83c\udf70","\ud83c\udf82","\ud83c\udf6e","\ud83c\udf6d","\ud83c\udf6c","\ud83c\udf6b","\ud83c\udf69","\ud83c\udf6a","\ud83c\udf30","\ud83e\udd5c","\ud83c\udf6f","\ud83e\udd5b","\ud83c\udf7c","\u2615","\ud83c\udf75","\ud83e\uddc3","\ud83e\udd64","\ud83e\uddcb","\ud83c\udf76","\ud83c\udf7a","\ud83c\udf7b","\ud83e\udd42","\ud83c\udf77","\ud83e\udd43","\ud83c\udf78","\ud83c\udf79","\ud83e\uddc9","\ud83c\udf7e","\ud83e\uddca","\ud83e\udd44","\ud83c\udf74","\ud83c\udf7d\ufe0f","\ud83e\udd62","\ud83e\uddc2"],r=["\u26bd","\ud83c\udfc0","\ud83c\udfc8","\u26be","\ud83e\udd4e","\ud83c\udfbe","\ud83c\udfd0","\ud83c\udfc9","\ud83e\udd4f","\ud83c\udfb1","\ud83e\ude80","\ud83c\udfd3","\ud83c\udff8","\ud83c\udfd2","\ud83c\udfd1","\ud83e\udd4d","\ud83c\udfcf","\ud83e\ude83","\ud83e\udd45","\u26f3","\ud83e\ude81","\ud83c\udff9","\ud83c\udfa3","\ud83e\udd3f","\ud83e\udd4a","\ud83e\udd4b","\ud83c\udfbd","\ud83d\udef9","\ud83d\udefc","\ud83d\udef7","\u26f8\ufe0f","\ud83e\udd4c","\ud83c\udfbf","\u26f7\ufe0f","\ud83c\udfc2","\ud83e\ude82","\ud83c\udfcb\ufe0f","\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f","\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f","\ud83e\udd3c","\ud83e\udd3c\u200d\u2642\ufe0f","\ud83e\udd3c\u200d\u2640\ufe0f","\ud83e\udd38","\ud83e\udd38\u200d\u2642\ufe0f","\ud83e\udd38\u200d\u2640\ufe0f","\u26f9\ufe0f","\u26f9\ufe0f\u200d\u2642\ufe0f","\u26f9\ufe0f\u200d\u2640\ufe0f","\ud83e\udd3a","\ud83e\udd3e","\ud83e\udd3e\u200d\u2642\ufe0f","\ud83e\udd3e\u200d\u2640\ufe0f","\ud83c\udfcc\ufe0f","\ud83c\udfcc\ufe0f\u200d\u2642\ufe0f","\ud83c\udfcc\ufe0f\u200d\u2640\ufe0f","\ud83c\udfc7","\ud83e\uddd8","\ud83e\uddd8\u200d\u2642\ufe0f","\ud83e\uddd8\u200d\u2640\ufe0f","\ud83c\udfc4","\ud83c\udfc4\u200d\u2642\ufe0f","\ud83c\udfc4\u200d\u2640\ufe0f","\ud83c\udfca","\ud83c\udfca\u200d\u2642\ufe0f","\ud83c\udfca\u200d\u2640\ufe0f","\ud83e\udd3d","\ud83e\udd3d\u200d\u2642\ufe0f","\ud83e\udd3d\u200d\u2640\ufe0f","\ud83d\udea3","\ud83d\udea3\u200d\u2642\ufe0f","\ud83d\udea3\u200d\u2640\ufe0f","\ud83e\uddd7","\ud83e\uddd7\u200d\u2642\ufe0f","\ud83e\uddd7\u200d\u2640\ufe0f","\ud83d\udeb5","\ud83d\udeb5\u200d\u2642\ufe0f","\ud83d\udeb5\u200d\u2640\ufe0f","\ud83d\udeb4","\ud83d\udeb4\u200d\u2642\ufe0f","\ud83d\udeb4\u200d\u2640\ufe0f","\ud83c\udfc6","\ud83e\udd47","\ud83e\udd48","\ud83e\udd49","\ud83c\udfc5","\ud83c\udf96\ufe0f","\ud83c\udff5\ufe0f","\ud83c\udf97\ufe0f","\ud83c\udfab","\ud83c\udf9f\ufe0f","\ud83c\udfaa","\ud83c\udfad","\ud83c\udfa8","\ud83c\udfac","\ud83c\udfa4","\ud83c\udfa7","\ud83c\udfbc","\ud83c\udfb9","\ud83e\udd41","\ud83c\udfb7","\ud83c\udfba","\ud83c\udfb8","\ud83e\ude95","\ud83c\udfbb","\ud83c\udfb2","\u265f\ufe0f","\ud83c\udfaf","\ud83c\udfb3","\ud83c\udfae","\ud83c\udfb0","\ud83e\udde9"],a=["\ud83d\ude80","\ud83d\udef8","\ud83d\ude81","\ud83d\udef0\ufe0f","\u2708\ufe0f","\ud83d\ude82","\ud83d\ude98","\ud83c\udfce\ufe0f","\ud83c\udfcd\ufe0f","\u2693","\u23f0","\ud83d\udcf1","\ud83d\udcbb","\ud83d\udda5\ufe0f","\ud83d\udcbe","\ud83d\udcf7","\ud83d\udd0d","\ud83d\udca1","\ud83d\uded2","\ud83d\udd11","\ud83d\udcbc","\ud83d\udcda","\ud83d\udcd6","\ud83d\udcb0","\ud83d\udc8e","\ud83e\uddf8","\ud83c\udf81","\ud83d\udce6","\ud83d\udceb","\ud83e\uddf9","\ud83e\uddfb","\ud83e\uddfd","\ud83e\uddf4","\ud83d\udc53","\ud83d\udc55","\ud83d\udc57","\ud83d\udc51","\ud83d\udc84","\ud83d\udc5c","\ud83e\uddf3","\u2602\ufe0f","\ud83d\udc8d","\u26bd","\ud83c\udfc0","\ud83c\udfc8","\u26be","\ud83c\udfd0","\ud83c\udfae","\ud83d\udcf2","\ud83d\udcdf","\ud83d\udd0b","\ud83d\udd0c","\ud83d\udcde","\u260e\ufe0f","\ud83d\udce0","\u2328\ufe0f","\ud83d\uddb1\ufe0f","\ud83d\udcbf","\ud83d\udcbd","\ud83d\udcbb","\ud83d\udda8\ufe0f","\ud83d\uddb2\ufe0f","\ud83d\udcf8","\ud83d\udcf9","\ud83c\udfa5","\ud83c\udf9e\ufe0f","\ud83d\udcfd\ufe0f","\ud83d\udcfa","\ud83d\udcfb","\ud83d\udce2","\ud83d\udcef","\ud83d\udd0a","\ud83d\udd14","\ud83d\udd0d","\ud83d\udd2d","\ud83d\udd2c","\ud83d\udc89","\ud83d\udc8a","\ud83e\uddec","\ud83d\udd27","\ud83d\udd28","\u2692\ufe0f","\ud83d\udee0\ufe0f","\u26cf\ufe0f","\ud83d\udd29","\u2699\ufe0f"],c=["\ud83c\udfd9\ufe0f","\ud83c\udf06","\ud83c\udf07","\ud83c\udf03","\ud83c\udf09","\ud83c\udf01","\ud83c\udfe2","\ud83c\udfec","\ud83c\udfe3","\ud83c\udfe4","\ud83c\udfe5","\ud83c\udfe6","\ud83c\udfe8","\ud83c\udfea","\ud83c\udfeb","\ud83c\udfe9","\ud83d\udc92","\ud83c\udfdb\ufe0f","\u26ea","\ud83d\udd4c","\ud83d\udd4d","\ud83d\uded5","\ud83d\udd4b","\u26e9\ufe0f","\ud83d\udee4\ufe0f","\ud83d\udee3\ufe0f","\ud83d\uddfe","\ud83c\udf91","\ud83c\udfde\ufe0f","\ud83c\udf05","\ud83c\udf04","\ud83c\udf20","\ud83c\udf87","\ud83c\udf86","\ud83c\udf07","\ud83c\udfd9\ufe0f"],u=["\u2764\ufe0f","\ud83e\udde1","\ud83d\udc9b","\ud83d\udc9a","\ud83d\udc99","\ud83d\udc9c","\ud83e\udd0e","\ud83d\udda4","\ud83e\udd0d","\ud83d\udc94","\u2763\ufe0f","\ud83d\udc95","\ud83d\udc9e","\ud83d\udc93","\ud83d\udc97","\ud83d\udc96","\ud83d\udc98","\ud83d\udc9d","\ud83d\udc9f","\u262e\ufe0f","\u271d\ufe0f","\u262a\ufe0f","\ud83d\udd49\ufe0f","\u2638\ufe0f","\u2721\ufe0f","\ud83d\udd2f","\ud83d\udd4e","\u262f\ufe0f","\u2626\ufe0f","\ud83d\uded0","\u26ce","\u2648","\u2649","\u264a","\u264b","\u264c","\u264d","\u264e","\u264f","\u2650","\u2651","\u2652","\u2653","\ud83c\udd94","\u269b\ufe0f","\ud83c\ude51","\u2622\ufe0f","\u2623\ufe0f","\ud83d\udcf4","\ud83d\udcf3","\ud83c\ude36","\ud83c\ude1a","\ud83c\ude38","\ud83c\ude3a","\ud83c\ude37\ufe0f","\u2734\ufe0f","\ud83c\udd9a","\ud83d\udcae","\ud83c\ude50","\u3299\ufe0f","\u3297\ufe0f","\ud83c\ude34","\ud83c\ude35","\ud83c\ude39","\ud83c\ude32","\ud83c\udd70\ufe0f","\ud83c\udd71\ufe0f","\ud83c\udd8e","\ud83c\udd91","\ud83c\udd7e\ufe0f","\ud83c\udd98","\u274c","\u2b55","\ud83d\uded1","\u26d4","\ud83d\udcdb","\ud83d\udeab","\ud83d\udcaf","\ud83d\udca2","\u2668\ufe0f","\ud83d\udeb7","\ud83d\udeaf","\ud83d\udeb3","\ud83d\udeb1","\ud83d\udd1e","\ud83d\udcf5","\ud83d\udead","\u2757","\u2755","\u2753","\u2754","\u203c\ufe0f","\u2049\ufe0f","\ud83d\udd05","\ud83d\udd06","\u303d\ufe0f","\u26a0\ufe0f","\ud83d\udeb8","\ud83d\udd31","\u269c\ufe0f","\ud83d\udd30","\u267b\ufe0f","\u2705","\ud83c\ude2f","\ud83d\udcb9","\u2747\ufe0f","\u2733\ufe0f","\u274e","\ud83c\udf10","\ud83d\udca0","\u24c2\ufe0f","\ud83c\udf00","\ud83d\udca4","\ud83c\udfe7","\ud83d\udebe","\u267f","\ud83c\udd7f\ufe0f","\ud83d\uded7","\ud83c\ude33","\ud83c\ude02\ufe0f","\ud83d\udec2","\ud83d\udec3","\ud83d\udec4","\ud83d\udec5","\ud83d\udeb9","\ud83d\udeba","\ud83d\udebc","\u26a7","\ud83d\udebb","\ud83d\udeae","\ud83c\udfa6","\ud83d\udcf6","\ud83c\ude01","\ud83d\udd23","\u2139\ufe0f","\ud83d\udd24","\ud83d\udd21","\ud83d\udd20","\ud83c\udd96","\ud83c\udd97","\ud83c\udd99","\ud83c\udd92","\ud83c\udd95","\ud83c\udd93","0\ufe0f\u20e3","1\ufe0f\u20e3","2\ufe0f\u20e3","3\ufe0f\u20e3","4\ufe0f\u20e3","5\ufe0f\u20e3","6\ufe0f\u20e3","7\ufe0f\u20e3","8\ufe0f\u20e3","9\ufe0f\u20e3","\ud83d\udd1f","\ud83d\udd22","#\ufe0f\u20e3","*\ufe0f\u20e3","\u23cf\ufe0f","\u25b6\ufe0f","\u23f8\ufe0f","\u23ef\ufe0f","\u23f9\ufe0f","\u23fa\ufe0f","\u23ed\ufe0f","\u23ee\ufe0f","\u23e9","\u23ea","\u23eb","\u23ec","\u25c0\ufe0f","\ud83d\udd3c","\ud83d\udd3d","\u27a1\ufe0f","\u2b05\ufe0f","\u2b06\ufe0f","\u2b07\ufe0f","\u2197\ufe0f","\u2198\ufe0f","\u2199\ufe0f","\u2196\ufe0f","\u2195\ufe0f","\u2194\ufe0f","\u21aa\ufe0f","\u21a9\ufe0f","\u2934\ufe0f","\u2935\ufe0f","\ud83d\udd00","\ud83d\udd01","\ud83d\udd02","\ud83d\udd04","\ud83d\udd03","\ud83c\udfb5","\ud83c\udfb6","\u2795","\u2796","\u2797","\u2716\ufe0f","\u267e\ufe0f","\ud83d\udcb2","\ud83d\udcb1","\u2122\ufe0f","\xa9\ufe0f","\xae\ufe0f","\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f","\ud83d\udd1a","\ud83d\udd19","\ud83d\udd1b","\ud83d\udd1d","\ud83d\udd1c"];let d;switch(i){case"all":d=e;break;case"smileys":default:d=t;break;case"animals":d=n;break;case"food":d=s;break;case"activities":d=r;break;case"objects":d=a;break;case"places":d=c;break;case"symbols":d=u}return d.map((e=>(0,Ie.jsx)("div",{className:"emoji-item ".concat(o.avatarEmoji===e?"selected":""),onClick:()=>l((t=>(0,Se.A)((0,Se.A)({},t),{},{avatarEmoji:e}))),children:e},e)))})()})]}),"upload"===o.avatarTabView&&(0,Ie.jsxs)("div",{className:"upload-image-selector",children:[(0,Ie.jsx)("div",{className:"large-avatar-preview image-preview",style:{backgroundImage:o.avatarImage?"url(".concat(o.avatarImage,")"):"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:o.avatarImage?"transparent":"#eee"},children:!o.avatarImage&&(0,Ie.jsx)("span",{className:"no-image",children:"Upload an image"})}),(0,Ie.jsx)("p",{className:"avatar-info-text",children:"Upload your own photo or image"}),(0,Ie.jsxs)("div",{className:"upload-controls",children:[(0,Ie.jsx)("input",{type:"file",id:"avatarImageUpload",name:"avatarImageUpload",accept:"image/*",className:"file-input",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{l((t=>(0,Se.A)((0,Se.A)({},t),{},{avatarImage:e.target.result,avatarType:"image"})))},e.readAsDataURL(t)}}}),(0,Ie.jsx)("label",{htmlFor:"avatarImageUpload",className:"upload-button",children:"Choose Image"})]}),(0,Ie.jsxs)("div",{className:"upload-tips",children:[(0,Ie.jsx)("h5",{children:"Tips for a good profile image:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Square images work best"}),(0,Ie.jsx)("li",{children:"Keep file size under MB"}),(0,Ie.jsx)("li",{children:"Use PNG or JPG format"}),(0,Ie.jsx)("li",{children:"Make sure your face is clearly visible if using a photo"})]})]})]}),"color"===o.avatarTabView&&(0,Ie.jsxs)("div",{className:"color-selector",children:[(0,Ie.jsxs)("div",{className:"large-avatar-preview",style:{backgroundColor:o.color},children:["initials"===o.avatarType&&"".concat(o.firstName.charAt(0)).concat(o.lastName.charAt(0)),"emoji"===o.avatarType&&o.avatarEmoji]}),(0,Ie.jsx)("h5",{children:"Choose Your Profile Color"}),(0,Ie.jsx)("p",{className:"avatar-info-text",children:"Pick a color for your avatar background"}),(0,Ie.jsx)("div",{className:"color-palette",children:["#5b5ef4","#3f51b5","#2196f3","#03a9f4","#00bcd4","#64b5f6","#1976d2","#0d47a1","#039be5","#4fc3f7","#009688","#4caf50","#8bc34a","#cddc39","#7cb342","#43a047","#2e7d32","#1b5e20","#26a69a","#66bb6a","#ffeb3b","#ffc107","#ff9800","#ff5722","#ff9064","#fdd835","#ffb300","#ff8f00","#f57c00","#ffb74d","#f44336","#e91e63","#9c27b0","#673ab7","#f45b7a","#ef5350","#c62828","#b71c1c","#ec407a","#ad1457","#9c27b0","#673ab7","#7e57c2","#5e35b1","#4527a0","#512da8","#d500f9","#aa00ff","#651fff","#6200ea","#607d8b","#795548","#9e9e9e","#424242","#212121","#757575","#616161","#455a64","#37474f","#263238","#006064","#880e4f","#1a237e","#33691e","#ff6f00","#3e2723","#004d40","#827717","#e65100","#212121"].map((e=>(0,Ie.jsx)("div",{className:"color-dot ".concat(o.color===e?"selected":""),style:{backgroundColor:e},onClick:()=>l((t=>(0,Se.A)((0,Se.A)({},t),{},{color:e}))),children:o.color===e&&(0,Ie.jsx)("div",{className:"dot-check",children:"\u2713"})},e)))}),(0,Ie.jsxs)("div",{className:"custom-color-picker",children:[(0,Ie.jsx)("div",{className:"color-preview",style:{backgroundColor:o.color}}),(0,Ie.jsx)("input",{type:"color",id:"avatarColor",name:"avatarColor",className:"color-input",value:o.color,onChange:e=>l((t=>(0,Se.A)((0,Se.A)({},t),{},{color:e.target.value})))}),(0,Ie.jsx)("div",{className:"color-hex",children:o.color})]})]})]})]}),(0,Ie.jsxs)("div",{className:"avatar-modal-footer",children:[(0,Ie.jsx)("button",{className:"modal-cancel-button",onClick:()=>k(!1),children:"Cancel"}),(0,Ie.jsx)("button",{className:"modal-save-button",onClick:()=>k(!1),children:"Save Avatar"})]})]})}),d&&4===t&&(0,Ie.jsx)("div",{className:"confirmation-modal-overlay",children:(0,Ie.jsx)("div",{className:"confirmation-modal",children:(0,Ie.jsxs)("div",{className:"confirmation-content",children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("h3",{children:"Creating Your Account"}),(0,Ie.jsx)("p",{children:"Please wait while we set up your Tasklio account..."})]})})})]})},ft=()=>{const e=J(),[t,n]=(0,r.useState)({email:"",password:"",rememberMe:!1}),[s,i]=(0,r.useState)({}),[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{c(!0)}),[]);const h=e=>{const{name:t,value:r,type:a,checked:o}=e.target;n((e=>(0,Se.A)((0,Se.A)({},e),{},{[t]:"checkbox"===a?o:r}))),s[t]&&i((e=>(0,Se.A)((0,Se.A)({},e),{},{[t]:""})))};return(0,r.useEffect)((()=>{const e=localStorage.getItem("rememberedEmail");e&&n((t=>(0,Se.A)((0,Se.A)({},t),{},{email:e,rememberMe:!0})))}),[]),(0,Ie.jsxs)("div",{className:"login-page",children:[(0,Ie.jsxs)("div",{className:"login-form-container",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsxs)(ke,{to:"/",className:"back-to-home",children:[(0,Ie.jsx)("span",{className:"back-icon",children:"\u2190"}),(0,Ie.jsx)("span",{children:"Back to Home"})]}),(0,Ie.jsxs)("div",{className:"brand-logo",children:[(0,Ie.jsx)("div",{className:"logo-icon",children:"T"}),(0,Ie.jsx)("div",{className:"logo-text",children:"Tasklio"})]})]}),(0,Ie.jsx)("div",{className:"auth-content",children:(0,Ie.jsxs)("div",{className:"login-content ".concat(l?"animate-in":""),children:[(0,Ie.jsx)("h1",{className:"login-title",children:"Welcome Back"}),(0,Ie.jsx)("p",{className:"login-subtitle",children:"Sign in to continue to your dashboard"}),s.auth&&(0,Ie.jsxs)("div",{className:"auth-error-banner",children:[(0,Ie.jsx)("span",{className:"error-icon",children:"!"}),(0,Ie.jsx)("span",{children:s.auth})]}),(0,Ie.jsxs)("form",{onSubmit:async n=>{n.preventDefault();const s=(()=>{const e={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(e.email="Email is invalid"):e.email="Email is required",t.password||(e.password="Password is required"),e})();if(Object.keys(s).length>0)i(s);else{o(!0);try{const n=(0,Ee.xI)(),s=t.email.trim().toLowerCase();await(0,Ee.x9)(n,s,t.password);t.rememberMe?localStorage.setItem("rememberedEmail",s):localStorage.removeItem("rememberedEmail"),e("/app")}catch(r){console.error("Login error:",r),"auth/user-not-found"===r.code||"auth/wrong-password"===r.code?i({auth:"Invalid email or password. Please try again."}):"auth/too-many-requests"===r.code?i({auth:"Too many unsuccessful login attempts. Please try again later or reset your password."}):i({auth:r.message})}finally{o(!1)}}},className:"login-form",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Ie.jsxs)("div",{className:"input-container",children:[(0,Ie.jsx)("span",{className:"input-icon",children:"\u2709\ufe0f"}),(0,Ie.jsx)("input",{type:"email",id:"email",name:"email",className:"auth-input ".concat(s.email?"error":""),value:t.email,onChange:h,placeholder:"Enter your email"})]}),s.email&&(0,Ie.jsx)("div",{className:"auth-error",children:s.email})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ie.jsxs)("div",{className:"input-container",children:[(0,Ie.jsx)("span",{className:"input-icon",children:"\ud83d\udd12"}),(0,Ie.jsx)("input",{type:u?"text":"password",id:"password",name:"password",className:"auth-input ".concat(s.password?"error":""),value:t.password,onChange:h,placeholder:"Enter your password"}),(0,Ie.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>d(!u),children:u?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]}),s.password&&(0,Ie.jsx)("div",{className:"auth-error",children:s.password})]}),(0,Ie.jsxs)("div",{className:"login-options",children:[(0,Ie.jsxs)("div",{className:"remember-me",children:[(0,Ie.jsx)("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:t.rememberMe,onChange:h}),(0,Ie.jsx)("label",{htmlFor:"rememberMe",children:"Remember me"})]}),(0,Ie.jsx)(ke,{to:"/forgot-password",className:"forgot-password",children:"Forgot password?"})]}),(0,Ie.jsx)("button",{type:"submit",className:"auth-button login-button ".concat(a?"loading":""),disabled:a,children:a?"Signing in...":"Sign In"})]}),(0,Ie.jsxs)("div",{className:"social-login",children:[(0,Ie.jsx)("p",{className:"divider",children:(0,Ie.jsx)("span",{children:"Or sign in with"})}),(0,Ie.jsxs)("div",{className:"social-buttons",children:[(0,Ie.jsxs)("button",{className:"social-button google",children:[(0,Ie.jsx)("span",{className:"social-icon",children:"G"}),"Google"]}),(0,Ie.jsxs)("button",{className:"social-button github",children:[(0,Ie.jsx)("span",{className:"social-icon",children:"GH"}),"GitHub"]})]})]}),(0,Ie.jsx)("div",{className:"auth-footer",children:(0,Ie.jsxs)("p",{children:["Don't have an account? ",(0,Ie.jsx)(ke,{to:"/register",className:"auth-link",children:"Sign up"})]})})]})})]}),(0,Ie.jsx)("div",{className:"login-mockup-container",children:(0,Ie.jsxs)("div",{className:"login-mockup",children:[(0,Ie.jsxs)("div",{className:"mockup-header",children:[(0,Ie.jsx)("div",{className:"mockup-logo",children:"Tasklio"}),(0,Ie.jsx)("div",{className:"mockup-actions",children:(0,Ie.jsx)("div",{className:"mockup-user",children:"User"})})]}),(0,Ie.jsxs)("div",{className:"mockup-content",children:[(0,Ie.jsxs)("div",{className:"mockup-sidebar",children:[(0,Ie.jsx)("div",{className:"mockup-menu-item active"}),(0,Ie.jsx)("div",{className:"mockup-menu-item"}),(0,Ie.jsx)("div",{className:"mockup-menu-item"}),(0,Ie.jsx)("div",{className:"mockup-menu-item"})]}),(0,Ie.jsxs)("div",{className:"mockup-main",children:[(0,Ie.jsx)("div",{className:"mockup-card"}),(0,Ie.jsx)("div",{className:"mockup-card"}),(0,Ie.jsx)("div",{className:"mockup-card small"}),(0,Ie.jsx)("div",{className:"mockup-card small"})]})]})]})})]})},gt=()=>{const[e,t]=(0,r.useState)(""),[n,s]=(0,r.useState)({}),[i,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1);(0,r.useEffect)((()=>{u(!0)}),[]);return(0,Ie.jsxs)("div",{className:"forgot-password-page",children:[(0,Ie.jsxs)("div",{className:"forgot-password-container",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsxs)(ke,{to:"/login",className:"back-to-login",children:[(0,Ie.jsx)("span",{className:"back-icon",children:"\u2190"}),(0,Ie.jsx)("span",{children:"Back to Login"})]}),(0,Ie.jsxs)("div",{className:"brand-logo",children:[(0,Ie.jsx)("div",{className:"logo-icon",children:"T"}),(0,Ie.jsx)("div",{className:"logo-text",children:"Tasklio"})]})]}),(0,Ie.jsxs)("div",{className:"forgot-password-content ".concat(c?"animate-in":""),children:[o?(0,Ie.jsxs)("div",{className:"reset-success",children:[(0,Ie.jsx)("div",{className:"success-icon",children:"\u2713"}),(0,Ie.jsx)("h2",{className:"success-title",children:"Check Your Email"}),(0,Ie.jsxs)("p",{className:"success-message",children:["We've sent a password reset link to ",(0,Ie.jsx)("strong",{children:e})]}),(0,Ie.jsx)("p",{className:"success-instructions",children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."}),(0,Ie.jsxs)("div",{className:"success-actions",children:[(0,Ie.jsx)("button",{className:"auth-button back-button",onClick:()=>{l(!1),t("")},children:"Send to another email"}),(0,Ie.jsx)(ke,{to:"/login",className:"auth-link",children:"Return to login"})]})]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("h1",{className:"forgot-password-title",children:"Reset Your Password"}),(0,Ie.jsx)("p",{className:"forgot-password-subtitle",children:"Enter your email address and we'll send you a link to reset your password"}),(0,Ie.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=(()=>{const t={};return e.trim()?/\S+@\S+\.\S+/.test(e)||(t.email="Email is invalid"):t.email="Email is required",t})();if(Object.keys(n).length>0)s(n);else{a(!0);try{const t=(0,Ee.xI)(),n=e.trim().toLowerCase();await(0,Ee.J1)(t,n),l(!0)}catch(r){console.error("Password reset error:",r),"auth/user-not-found"===r.code?s({email:"No account found with this email address."}):s({email:r.message})}finally{a(!1)}}},className:"forgot-password-form",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Ie.jsxs)("div",{className:"input-container",children:[(0,Ie.jsx)("span",{className:"input-icon",children:"\u2709\ufe0f"}),(0,Ie.jsx)("input",{type:"email",id:"email",className:"auth-input ".concat(n.email?"error":""),value:e,onChange:e=>{t(e.target.value),n.email&&s({})},placeholder:"Enter your email"})]}),n.email&&(0,Ie.jsx)("div",{className:"auth-error",children:n.email})]}),(0,Ie.jsx)("button",{type:"submit",className:"auth-button reset-button ".concat(i?"loading":""),disabled:i,children:i?"Sending...":"Send Reset Link"})]})]}),(0,Ie.jsx)("div",{className:"auth-footer",children:(0,Ie.jsxs)("p",{children:["Remember your password? ",(0,Ie.jsx)(ke,{to:"/login",className:"auth-link",children:"Sign in"})]})})]})]}),(0,Ie.jsx)("div",{className:"auth-illustration",children:(0,Ie.jsxs)("div",{className:"illustration-content",children:[(0,Ie.jsx)("div",{className:"illustration-icon",children:"\ud83d\udd11"}),(0,Ie.jsx)("h2",{children:"Password Recovery"}),(0,Ie.jsx)("p",{children:"We'll help you get back into your account safely and securely."})]})})]})},vt=e=>{let{element:t}=e;const{user:n}=Pe();return n?t:(0,Ie.jsx)(ue,{to:"/login",replace:!0})},yt=e=>{let{element:t,redirectAuthenticated:n=!1}=e;const{user:s}=Pe();return s&&n?(0,Ie.jsx)(ue,{to:"/app",replace:!0}):t},bt=()=>{const{user:e}=Pe();return(0,Ie.jsx)(be,{children:(0,Ie.jsx)("div",{className:"app-container",children:(0,Ie.jsxs)(me,{children:[(0,Ie.jsx)(de,{path:"/about",element:(0,Ie.jsx)(lt,{})}),(0,Ie.jsx)(de,{path:"/login",element:(0,Ie.jsx)(yt,{element:(0,Ie.jsx)(ft,{}),redirectAuthenticated:!0})}),(0,Ie.jsx)(de,{path:"/register",element:(0,Ie.jsx)(yt,{element:(0,Ie.jsx)(pt,{}),redirectAuthenticated:!0})}),(0,Ie.jsx)(de,{path:"/forgot-password",element:(0,Ie.jsx)(yt,{element:(0,Ie.jsx)(gt,{}),redirectAuthenticated:!0})}),(0,Ie.jsx)(de,{path:"/app",element:(0,Ie.jsx)(vt,{element:(0,Ie.jsx)(ut,{})})}),(0,Ie.jsx)(de,{path:"/tasks",element:(0,Ie.jsx)(vt,{element:(0,Ie.jsx)(ut,{})})}),(0,Ie.jsx)(de,{path:"/",element:(0,Ie.jsx)($e,{})}),(0,Ie.jsx)(de,{path:"*",element:(0,Ie.jsx)(ue,{to:"/",replace:!0})})]})})})},wt=()=>(0,Ie.jsx)(Re,{children:(0,Ie.jsx)(bt,{})});console.log("Application starting, using App from:",wt);i.createRoot(document.getElementById("root")).render((0,Ie.jsx)(r.StrictMode,{children:(0,Ie.jsx)(wt,{})}))})();
//# sourceMappingURL=main.92adce3c.js.map